<!DOCTYPE html>
<!-- MCP-BREADCRUMB:2025-07-25:14:40 - Добавлены breadcrumbs для отслеживания изменений -->
<!-- MCP-BREADCRUMB:2025-07-25:21:50 - Добавлены MCP-маркеры для 32 методов и функций -->
<!-- MCP-BREADCRUMB:2025-07-25:14:35 - Проанализирована структура маркеров, создан mcp-index.json -->
<!-- MCP-BREADCRUMB:2025-07-25:14:30 - Начата работа по покрытию MCP-маркерами -->
<!-- MCP-BREADCRUMB:2025-07-26:15:30 - Добавлены MCP-маркеры для 20+ методов генерации контента и вспомогательных функций -->
<!-- MCP-BREADCRUMB:2025-07-26:16:00 - Добавлены MCP-маркеры для всех методов генерации контента страниц, функций модальных окон и вспомогательных методов -->
<html lang="ru">
<head>
    <!-- MCP-MARKER:MODULE:CABINET_CONTROLLER - Контроллер личного кабинета -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENESIS 1.1 - Личный кабинет</title>
    
    <!-- MCP-MARKER:FIXED:CACHE_CONTROL - Исправлено принудительное отключение кэширования -->
    <!-- Базовое управление кэшированием для PWA без агрессивного отключения -->
    <meta http-equiv="Cache-Control" content="public, max-age=300">
    <meta name="cache-version" content="3.8.1">
    <meta name="build-time" content="05-08-2025-18:00">
    <!-- MCP-MARKER:REMOVED:FORCE_RELOAD - Удалены принудительные перезагрузки -->
    
    <!-- PWA Meta -->
    <!-- 
        theme-color поддерживается Chrome, Safari, Edge. Firefox игнорирует.
        Альтернативы:
        - iOS: apple-mobile-web-app-status-bar-style
        - Android: manifest.json theme_color
        - Windows: msapplication-TileColor
    -->
    <!-- Theme color для браузеров на базе Chromium -->
    <meta name="theme-color" content="#0d1117">
    <!-- Fallback для других браузеров -->
    <meta name="msapplication-TileColor" content="#0d1117">
    <!-- Для Safari/iOS -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="Личный кабинет GENESIS 1.1 - управление депозитами, аналитика и контроль доступа">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Manifest -->
    <link rel="manifest" href="assets/manifest.json">
    
    <!-- Icons -->
    <link rel="shortcut icon" href="assets/favicon-new.ico?v=3.6" type="image/x-icon">
    <link rel="icon" href="assets/favicon-new.ico?v=3.6" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32x32.png?v=3.6">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16x16.png?v=3.6">
    <link rel="apple-touch-icon" href="assets/icons/apple-icon-180x180.png?v=3.6">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- ВСТРОЕННЫЕ КРИТИЧЕСКИЕ СТИЛИ ДЛЯ АВТОНОМНОЙ РАБОТЫ -->
    <!-- MCP-MARKER:SECTION:CRITICAL_STYLES - Критические встроенные стили -->
    <style>
        /* MCP-MARKER:SECTION:CSS_VARIABLES - CSS переменные */
        :root {
            --primary-color: #ff6b35;
            --secondary-color: #00d4ff;
            --secondary-hover: #00b8e6;
            --success-color: #00ff41;
            --warning-color: #ffa726;
            --error-color: #ff4757;
            --accent-color: #9c27b0;
            --gold-color: #ffd700;
            --bg-primary: #0a0a0f;
            --bg-secondary: #1a1a2e;
            --bg-tertiary: #2a2a3e;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --border-color: #333344;
        }
        
        /* MCP-MARKER:SECTION:BASE_STYLES - Базовые стили */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rajdhani', 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .hidden { display: none !important; }
        
        /* MCP-MARKER:SECTION:LOADING_SCREEN_STYLES - Стили экрана загрузки */
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            flex-direction: column;
        }
        
        .loading-content {
            text-align: center;
            max-width: 400px;
            padding: 2rem;
        }
        
        .loading-logo {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-family: 'Orbitron', monospace;
            text-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .loading-text {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Auth Screen */
        .auth-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 900;
        }
        
        .auth-container {
            background: var(--bg-secondary);
            padding: 3rem 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border-color);
            min-width: 400px;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .auth-title {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 2rem;
            font-family: 'Orbitron', monospace;
        }
        
        .auth-subtitle {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 1rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            font-family: 'Rajdhani', monospace;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(255, 107, 53, 0.1);
        }
        
        .form-control::placeholder {
            color: #666;
            opacity: 0.8;
        }
        
        input.form-control::placeholder {
            color: #666;
            opacity: 0.8;
        }
        
        .btn:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            font-family: 'Rajdhani', sans-serif;
            transition: all 0.3s ease;
            min-width: 120px;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn:hover {
            background: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .btn-full {
            width: 100%;
        }
        
        .btn-secondary {
            background: var(--secondary-color);
            color: var(--bg-primary);
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-secondary:hover {
            background: var(--secondary-hover);
            transform: translateY(-1px);
        }
        
        .btn-success {
            background: var(--success-color);
            color: var(--bg-primary);
        }
        
        .btn-success:hover {
            background: #00cc33;
        }
        
        .btn-warning {
            background: var(--warning-color);
            color: var(--bg-primary);
        }
        
        .btn-warning:hover {
            background: #ff8f00;
        }
        
        /* Cabinet Layout */
        .cabinet-app {
            display: grid;
            grid-template-areas: 
                "header header"
                "sidebar main";
            grid-template-columns: 280px 1fr;
            grid-template-rows: 70px 1fr;
            height: 100vh;
            background: var(--bg-primary);
        }
        
        .cabinet-header {
            grid-area: header;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .header-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .header-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-address {
            font-family: monospace;
            font-size: 0.9rem;
            color: var(--text-secondary);
            background: var(--bg-tertiary);
            padding: 6px 12px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .user-address::before {
            content: '👛';
        }
        
        .cabinet-sidebar {
            grid-area: sidebar;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding: 1rem 0;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
        }
        
        .sidebar-header {
            padding: 0 1.5rem 1rem;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }
        
        .sidebar-nav .nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .nav-item {
            margin: 0.25rem 1rem;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
            cursor: pointer;
            position: relative;
        }
        
        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 3px;
            height: 0;
            background: var(--primary-color);
            transform: translateY(-50%);
            transition: height 0.3s ease;
        }
        
        .nav-link:hover::before,
        .nav-link.active::before {
            height: 100%;
        }
        
        .nav-link:hover,
        .nav-link.active {
            background: rgba(255, 107, 53, 0.1);
            color: var(--primary-color);
            padding-left: 20px;
        }
        
        .nav-icon {
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }
        
        /* MCP-MARKER:STYLE:NAV_SEPARATOR - Стили разделителя меню */
        /* Стили для разделителя в боковом меню */
        .nav-separator {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 1rem 0;
            border: none;
        }

        /* MCP-MARKER:STYLE:LOGOUT_BUTTON - Стили кнопки выхода */
        /* Стили для кнопки выхода в боковом меню */
        .nav-item-logout .nav-link {
            color: #ff3b30;
            transition: all 0.3s ease;
        }

        .nav-item-logout .nav-link:hover,
        .nav-item-logout .nav-link.active {
            background: rgba(255, 59, 48, 0.1);
            color: #ff6b6b;
            padding-left: 20px;
        }

        .nav-item-logout .nav-link::before {
            background: #ff3b30;
        }
        
        /* Стили для плавного перехода в кабинете */
        .genesis-transition-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(13, 17, 23, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease-out;
        }

        .genesis-transition-loading .transition-content {
            text-align: center;
            color: #ffffff;
        }

        .genesis-transition-loading .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(78, 205, 196, 0.3);
            border-top-color: #4ecdc4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        /* MCP-MARKER:STYLE:BREADCRUMBS - Стили breadcrumbs */
        /* Стили для breadcrumbs навигации */
        .breadcrumbs {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding: 0.8rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            animation: fadeIn 0.5s ease-out;
        }

        .breadcrumb-link {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        .breadcrumb-link:hover {
            color: var(--primary-color);
        }

        .breadcrumb-icon {
            font-size: 1rem;
        }

        .breadcrumb-separator {
            color: var(--text-secondary);
            font-weight: 300;
            margin: 0 0.2rem;
        }

        .breadcrumb-current {
            color: var(--text-primary);
            font-weight: 500;
        }
        
        /* MCP-MARKER:STYLE:TERMINAL_STYLES - Стили терминала */
        /* ===== СТИЛИ ТЕРМИНАЛА ===== */
        .genesis-terminal {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 600px;
            height: 400px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            display: none; /* Скрыт по умолчанию */
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 800; /* Ниже чем auth-screen (900) */
            transition: all 0.3s ease;
        }
        
        /* Показывать терминал только когда он видимый и мы в кабинете */
        body.cabinet-mode .genesis-terminal.visible {
            display: flex;
        }
        
        /* При сворачивании скрываем содержимое */
        .genesis-terminal.minimized {
            height: 40px !important;
        }

        .genesis-terminal.fullscreen {
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            bottom: auto;
            right: auto;
            border-radius: 0;
        }

        .genesis-terminal.minimized {
            height: 40px;
        }

        .genesis-terminal.minimized .terminal-body,
        .genesis-terminal.minimized .terminal-input-container,
        .genesis-terminal.minimized .terminal-stats {
            display: none;
        }

        .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            border-radius: 12px 12px 0 0;
            cursor: move;
        }

        .terminal-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        .terminal-controls {
            display: flex;
            gap: 0.5rem;
        }

        .terminal-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .terminal-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--primary-color);
        }

        .terminal-stats {
            display: flex;
            gap: 1rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid var(--border-color);
            font-size: 0.85rem;
        }

        .stat-item {
            display: flex;
            gap: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
        }

        .stat-value {
            color: var(--text-primary);
            font-weight: 600;
        }

        .terminal-body {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .terminal-message {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            opacity: 0;
            animation: terminalFadeIn 0.3s ease forwards;
        }

        @keyframes terminalFadeIn {
            to { opacity: 1; }
        }

        .terminal-timestamp {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .terminal-icon {
            width: 20px;
            text-align: center;
        }

        .terminal-content {
            flex: 1;
            word-break: break-word;
        }

        .terminal-data {
            display: block;
            margin-top: 0.25rem;
            padding: 0.5rem;
            background: var(--bg-primary);
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: pre-wrap;
        }

        /* Цвета для разных типов сообщений */
        .terminal-info { color: var(--text-primary); }
        .terminal-success { color: var(--success-color); }
        .terminal-warning { color: var(--warning-color); }
        .terminal-error { color: var(--error-color); }
        .terminal-debug { color: #9c88ff; }
        .terminal-system { color: var(--secondary-color); }
        .terminal-api { color: #00d2d3; }
        .terminal-transaction { color: #feca57; }

        .terminal-input-container {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            background: var(--bg-tertiary);
            border-top: 1px solid var(--border-color);
            border-radius: 0 0 12px 12px;
            position: relative;
        }

        .terminal-prompt {
            color: var(--primary-color);
            margin-right: 0.5rem;
            font-weight: 600;
        }

        .terminal-input {
            flex: 1;
            background: none;
            border: none;
            color: var(--text-primary);
            font-family: inherit;
            font-size: inherit;
            outline: none;
        }

        .terminal-autocomplete {
            position: absolute;
            bottom: 100%;
            left: 0;
            right: 0;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            display: none;
            max-height: 200px;
            overflow-y: auto;
        }

        .autocomplete-item {
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .autocomplete-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--primary-color);
        }

        .search-highlight {
            background: rgba(255, 235, 59, 0.3);
            padding: 0 2px;
            border-radius: 2px;
        }

        .terminal-stats-panel {
            position: absolute;
            top: 40px;
            right: 0;
            width: 300px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            display: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .terminal-stats-panel.show {
            display: block;
        }

        .terminal-stats-panel .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .terminal-stats-panel .stat-card {
            background: var(--bg-primary);
            padding: 0.75rem;
            border-radius: 6px;
            text-align: center;
        }

        .terminal-stats-panel .stat-card .stat-label {
            display: block;
            font-size: 0.8rem;
            margin-bottom: 0.25rem;
        }

        .terminal-stats-panel .stat-card .stat-value {
            display: block;
            font-size: 1.2rem;
        }

        .stat-value.error { color: var(--error-color); }
        .stat-value.warning { color: var(--warning-color); }

        /* Scrollbar для терминала */
        .terminal-body::-webkit-scrollbar {
            width: 6px;
        }

        .terminal-body::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        .terminal-body::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        @media (max-width: 768px) {
            .genesis-terminal {
                width: calc(100% - 40px);
                height: 300px;
                bottom: 10px;
                right: 10px;
                left: 10px;
            }
        }
        
        .cabinet-main {
            grid-area: main;
            overflow-y: auto;
            padding: 2rem;
            background: var(--bg-primary);
        }
        
        /* Custom Scrollbar */
        .cabinet-main::-webkit-scrollbar,
        .cabinet-sidebar::-webkit-scrollbar {
            width: 8px;
        }
        
        .cabinet-main::-webkit-scrollbar-track,
        .cabinet-sidebar::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }
        
        .cabinet-main::-webkit-scrollbar-thumb,
        .cabinet-sidebar::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }
        
        .cabinet-main::-webkit-scrollbar-thumb:hover,
        .cabinet-sidebar::-webkit-scrollbar-thumb:hover {
            background: #e55a2b;
        }
        
        /* Page Styles */
        .page-header {
            margin-bottom: 2rem;
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* @keyframes notificationSlideIn удален - дубликат (определен выше) */
        
        @keyframes notificationSlideOut {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }
        
        .page-title {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-family: 'Orbitron', monospace;
        }
        
        .page-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stats-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }
        
        .stats-card:hover::before {
            transform: translateX(0);
        }
        
        .stats-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-color);
        }
        
        .stats-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .stats-title {
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 600;
        }
        
        .stats-icon {
            font-size: 1.5rem;
        }
        
        .stats-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-family: 'Orbitron', monospace;
        }
        
        .stats-change {
            font-size: 0.9rem;
            color: var(--success-color);
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .stats-change.negative {
            color: var(--error-color);
        }
        
        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
            color: var(--text-secondary);
        }
        
        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }
        
        .empty-state h3 {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        
        /* Emergency Controls */
        .emergency-actions {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            z-index: 999;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }
        
        .emergency-actions h4 {
            color: var(--warning-color);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .emergency-actions .btn {
            display: block;
            margin-bottom: 0.5rem;
            padding: 8px 12px;
            font-size: 0.8rem;
            min-width: auto;
        }
        
        .emergency-actions .btn:last-child {
            margin-bottom: 0;
        }
        
        /* Access Status Indicator */
        .access-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-tertiary);
            padding: 6px 12px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }
        
        .access-status.active {
            border-color: var(--success-color);
            background: rgba(0, 255, 65, 0.1);
        }
        
        .access-status.inactive {
            border-color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }
        
        .access-status.warning {
            border-color: var(--warning-color);
            background: rgba(255, 167, 38, 0.1);
        }
        
        .access-days {
            background: var(--primary-color);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .access-status.inactive .access-days {
            background: var(--error-color);
        }
        
        .access-status.warning .access-days {
            background: var(--warning-color);
        }
        
        /* MCP-MARKER:STYLE:MODAL_STYLES - Стили модальных окон */
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
        }
        
        .modal-container {
            background: var(--bg-secondary);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border-color);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-header h3 {
            color: var(--primary-color);
            margin: 0;
            font-family: 'Orbitron', monospace;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 2rem;
            cursor: pointer;
            line-height: 1;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--primary-color);
            transform: rotate(90deg);
        }
        
        .modal-content {
            padding: 2rem;
        }
        
        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            gap: 1rem;
            z-index: 1100;
            animation: notificationSlideIn 0.3s ease-out;
        }
        
        @keyframes notificationSlideIn {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .notification.success {
            border-color: var(--success-color);
        }
        
        .notification.error {
            border-color: var(--error-color);
        }
        
        .notification.warning {
            border-color: var(--warning-color);
        }
        
        .notification.info {
            border-color: var(--secondary-color);
        }
        
        .notification-icon {
            font-size: 1.5rem;
        }
        
        .notification-content h4 {
            margin: 0 0 0.25rem 0;
            font-size: 1rem;
        }
        
        .notification-content p {
            margin: 0;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .cabinet-app {
                grid-template-columns: 1fr;
                grid-template-areas: 
                    "header"
                    "main";
            }
            
            .cabinet-sidebar {
                display: none;
            }
            
            .header-content {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .user-address {
                font-size: 0.8rem;
                padding: 4px 8px;
            }
            
            .auth-container {
                min-width: 300px;
                margin: 1rem;
                padding: 2rem 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .page-title {
                font-size: 1.5rem;
            }
            
            .cabinet-main {
                padding: 1rem;
            }
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            
            .cabinet-sidebar {
                position: fixed;
                left: -280px;
                top: 70px;
                height: calc(100vh - 70px);
                transition: left 0.3s ease;
                z-index: 100;
            }
            
            .cabinet-sidebar.active {
                left: 0;
            }
        }
        
        /* Tooltips */
        .tooltip {
            position: relative;
        }
        
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            border: 1px solid var(--border-color);
            margin-bottom: 0.5rem;
        }
        
        .tooltip:hover::after {
            opacity: 1;
        }
        
        /* CSS классы для замены inline стилей */
        .auth-test-info {
            margin-top: 1rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .auth-test-code {
            background: var(--bg-tertiary);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
        }
        
        .access-status-hidden {
            display: none;
        }
        
        .text-center {
            text-align: center;
        }
        
        .text-left {
            text-align: left;
        }
        
        .text-right {
            text-align: right;
        }
        
        .flex-center {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .flex-between {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .flex-gap {
            display: flex;
            gap: 1rem;
        }
        
        .padding-large {
            padding: 1rem 1.5rem;
        }
        
        .font-size-large {
            font-size: 4rem;
        }
        
        .font-size-medium {
            font-size: 1.1rem;
        }
        
        .font-size-small {
            font-size: 0.875rem;
        }
        
        .font-size-xs {
            font-size: 0.75rem;
        }
        
        .margin-bottom-large {
            margin-bottom: 2rem;
        }
        
        .margin-bottom-medium {
            margin-bottom: 1rem;
        }
        
        .margin-bottom-small {
            margin-bottom: 0.5rem;
        }
        
        .line-height-normal {
            line-height: 1.6;
        }
        
        .line-height-large {
            line-height: 1.8;
        }
        
        .border-radius-small {
            border-radius: 4px;
        }
        
        .border-radius-medium {
            border-radius: 8px;
        }
        
        .border-radius-large {
            border-radius: 12px;
        }
        
        .background-primary {
            background: var(--bg-primary);
        }
        
        .background-secondary {
            background: var(--bg-secondary);
        }
        
        .background-tertiary {
            background: var(--bg-tertiary);
        }
        
        .color-success {
            color: var(--success-color);
        }
        
        .color-error {
            color: var(--error-color);
        }
        
        .color-secondary {
            color: var(--secondary-color);
        }
        
        .color-text-secondary {
            color: var(--text-secondary);
        }
        
        .color-text-primary {
            color: var(--text-primary);
        }
        
        .gap-small {
            gap: 0.5rem;
        }
        
        .padding-small {
            padding: 0.5rem;
        }
        
        .padding-medium {
            padding: 1rem;
        }
        
        .word-break-all {
            word-break: break-all;
        }
        
        .color-warning {
            color: var(--warning-color);
        }
        
        .flex-1 {
            flex: 1;
        }
        
        .flex-wrap {
            flex-wrap: wrap;
        }
        
        .modal-medium {
            max-width: 500px;
        }
        
        .plex-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-top: 1rem;
        }
        .plex-action-btn {
            flex: 1 1 220px;
            min-width: 220px;
            max-width: 320px;
            padding: 1.2rem 1.5rem;
            font-size: 1.15rem;
            font-weight: 600;
            border: none;
            border-radius: 14px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: #fff;
            box-shadow: 0 4px 24px rgba(255,107,53,0.10);
            transition: background 0.3s, transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            margin-bottom: 0;
            text-align: center;
            text-decoration: none;
            outline: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.7rem;
        }
        .plex-action-btn:hover {
            background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
            transform: translateY(-2px) scale(1.03);
            box-shadow: 0 8px 32px rgba(0,212,255,0.15);
            color: #fff;
        }
        .plex-action-btn.outline {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            box-shadow: none;
        }
        .plex-action-btn.outline:hover {
            background: var(--primary-color);
            color: #fff;
            border-color: var(--secondary-color);
        }
        .plex-link {
            color: #8ec6ff;
            text-decoration: underline;
            transition: color 0.2s;
        }
        .plex-link:hover {
            color: #fff;
            text-decoration: underline;
        }
        
        /* Утилитарные классы для замены inline стилей */
        .opacity-50 {
            opacity: 0.5;
        }
        
        .position-absolute {
            position: absolute;
        }
        
        .top-1 {
            top: 1rem;
        }
        
        .right-1 {
            right: 1rem;
        }
        
        .font-weight-bold {
            font-weight: bold;
        }
        
        .font-weight-600 {
            font-weight: 600;
        }
        
        .max-width-60 {
            max-width: 60%;
        }
        
        .align-items-flex-start {
            align-items: flex-start;
        }
        
        .flex-shrink-0 {
            flex-shrink: 0;
        }
        
        .gap-1-5 {
            gap: 1.5rem;
        }
        
        .gap-0-7 {
            gap: 0.7rem;
        }
        
        .min-width-220 {
            min-width: 220px;
        }
        
        .max-width-320 {
            max-width: 320px;
        }
        
        .border-2 {
            border-width: 2px;
        }
        
        .box-shadow-none {
            box-shadow: none;
        }
        
        .scale-103 {
            transform: scale(1.03);
        }
        
        .text-decoration-none {
            text-decoration: none;
        }
        
        .text-decoration-underline {
            text-decoration: underline;
        }
        
        .transition-color-02s {
            transition: color 0.2s;
        }
        
        .transition-background-03s {
            transition: background 0.3s, transform 0.2s, box-shadow 0.2s;
        }
        
        .transition-all-03s {
            transition: all 0.3s ease;
        }
        
        .outline-none {
            outline: none;
        }
        
        .cursor-pointer {
            cursor: pointer;
        }
        
        .align-self-center {
            align-self: center;
        }
        
        /* MCP-MARKER:REMOVED:UNUSED_CSS_CLASS - Удален неиспользуемый .grid-template-columns-1fr */
        
        .flex-direction-column {
            flex-direction: column;
        }
        
        .align-items-flex-start {
            align-items: flex-start;
        }
        
        .gap-025rem {
            gap: 0.25rem;
        }
        
        /* Стили для информационной сетки устройства */
        .genesis-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .genesis-info-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .genesis-info-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .genesis-info-card h3 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .genesis-panel-glass {
            background: rgba(255, 255, 255, 0.05);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tech-card-checkmark {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: var(--success-color);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .info-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .info-value {
            color: var(--text-primary);
            font-weight: 600;
            text-align: right;
            max-width: 60%;
            word-break: break-word;
        }
        
        /* Стили для уведомления о конфиденциальности */
        .privacy-notice {
            background: rgba(255, 255, 255, 0.05);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
        }
        
        .privacy-icon {
            font-size: 2rem;
            color: var(--success-color);
            flex-shrink: 0;
        }
        
        .privacy-content h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .privacy-content p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .privacy-features {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .privacy-feature {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Стили для страницы "Как все устроено" */
        .info-banner, .warning-banner, .success-banner {
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1.5rem 0;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .info-banner {
            background: linear-gradient(135deg, rgba(0, 123, 255, 0.1), rgba(0, 123, 255, 0.05));
            border: 1px solid rgba(0, 123, 255, 0.3);
        }

        .warning-banner {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 193, 7, 0.05));
            border: 1px solid rgba(255, 193, 7, 0.3);
        }

        .success-banner {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.1), rgba(40, 167, 69, 0.05));
            border: 1px solid rgba(40, 167, 69, 0.3);
        }

        .info-icon, .warning-icon, .success-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .info-content, .warning-content, .success-content {
            flex: 1;
        }

        .info-content h3, .warning-content h4, .success-content h4 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }

        .warning-content ul {
            margin: 0.5rem 0 0 1rem;
            color: var(--text-secondary);
        }

        .steps-container {
            display: grid;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .step-card {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 123, 255, 0.1);
            border-color: var(--primary-color);
        }

        .step-number {
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .step-content h4 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }

        .step-content p {
            margin: 0;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .architecture-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .arch-card {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .arch-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .arch-content h4 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }

        .arch-content p {
            margin: 0;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .multiplier-explanation {
            margin: 1.5rem 0;
        }

        .multiplier-card {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .multiplier-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .multiplier-content h4 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }

        .example-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            margin: 1rem 0;
        }

        .example-card h4 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
        }

        .calculation {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .calc-step {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }

        .calc-label {
            color: var(--text-secondary);
        }

        .calc-value {
            color: var(--text-primary);
            font-weight: bold;
        }

        .calc-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0.5rem 0;
        }

        .multiplier-example {
            background: rgba(40, 167, 69, 0.1);
            border-radius: 8px;
            padding: 0.75rem !important;
            border: 1px solid rgba(40, 167, 69, 0.3);
        }

        .multiplier-example .calc-value {
            color: var(--success-color);
            font-size: 1.1rem;
        }

        .multiplier-info {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            margin-top: 1rem;
        }

        .multiplier-info h4 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
        }

        .multiplier-info ul {
            margin: 0;
            padding-left: 1.5rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .multiplier-info li {
            margin-bottom: 0.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .step-card, .arch-card, .multiplier-card {
                flex-direction: column;
                text-align: center;
            }

            .step-number {
                align-self: center;
            }

            .architecture-info {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .calc-step {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.25rem;
            }
        }

        /* Стиль для прогресс-бара */
        .progress-bar {
            width: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--success-color), var(--primary-color));
            transition: width 0.5s ease;
            border-radius: 3px;
        }

        /* Утилитарные CSS классы для замены inline стилей */
        /* Отступы */
        .mb-1 { margin-bottom: 1rem; }
        .mb-1-5 { margin-bottom: 1.5rem; }
        .mb-2 { margin-bottom: 2rem; }
        .mb-0-3 { margin-bottom: 0.3rem; }
        .mb-0-5 { margin-bottom: 0.5rem; }
        .mt-2 { margin-top: 2rem; }
        .p-1 { padding: 1rem; }
        .p-1-5 { padding: 1.5rem; }
        .p-2 { padding: 2rem; }
        .p-0-5 { padding: 0.5rem; }

        /* Flex утилиты */
        .flex { display: flex; }
        .flex-space-between { justify-content: space-between; }
        .flex-center { align-items: center; }
        .flex-gap { gap: 1rem; }
        .flex-gap-0-5 { gap: 0.5rem; }
        .flex-1 { flex: 1; }
        .flex-wrap { flex-wrap: wrap; }
        .flex-column { flex-direction: column; }

        /* Грид утилиты */
        .grid { display: grid; }
        .grid-auto-fit { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-auto-fit-150 { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
        .grid-auto-fit-200 { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
        .grid-auto-fit-280 { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
        .grid-1fr-1fr { grid-template-columns: 1fr 1fr; }
        .grid-col-span-2 { grid-column: span 2; }

        /* Текстовые утилиты */
        .text-center { text-align: center; }
        .text-primary { color: var(--text-primary); }
        .text-secondary { color: var(--text-secondary); }
        .text-success { color: var(--success-color); }
        .font-weight-500 { font-weight: 500; }
        .font-weight-600 { font-weight: 600; }
        .font-weight-700 { font-weight: 700; }
        .font-size-1-2 { font-size: 1.2rem; }
        .font-size-1-3 { font-size: 1.3rem; }
        .font-size-0-9 { font-size: 0.9rem; }
        .font-size-1-5 { font-size: 1.5rem; }
        .font-size-2 { font-size: 2rem; }

        /* Фон и границы */
        .bg-secondary { background: var(--bg-secondary); }
        .bg-primary { background: var(--bg-primary); }
        .border-radius-12 { border-radius: 12px; }
        .border-radius-8 { border-radius: 8px; }
        .border-radius-6 { border-radius: 6px; }
        .border-radius-4 { border-radius: 4px; }
        .border-success { border: 1px solid var(--success-color); }

        /* Позиционирование */
        .position-relative { position: relative; }
        .position-absolute { position: absolute; }
        .display-inline-block { display: inline-block; }
        .opacity-70 { opacity: 0.7; }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Размеры */
        .w-0 { width: 0%; }
        .w-100 { width: 100%; }
        .overflow-hidden { overflow: hidden; }

        /* Статус карточки депозита */
        .deposit-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--success-color);
        }

        .deposit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .deposit-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .deposit-status-active {
            background: var(--success-color);
            color: var(--bg-primary);
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            font-size: 0.8rem;
        }

        .deposit-status-purchased {
            background: var(--success-color);
            color: var(--bg-primary);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .deposit-status-available {
            background: var(--primary-color);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .deposit-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .deposit-progress {
            margin-bottom: 1rem;
        }

        .deposit-progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .deposit-progress-bar {
            background: var(--bg-primary);
            border-radius: 8px;
            overflow: hidden;
        }

        .deposit-actions {
            display: flex;
            gap: 0.5rem;
        }

        .plan-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            position: relative;
            transition: all 0.3s ease;
        }

        .plan-card-locked {
            opacity: 0.6;
        }

        .plan-card-available {
            cursor: pointer;
        }

        .plan-details {
            margin-bottom: 1rem;
        }

        .plan-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .plan-total-profit {
            background: var(--bg-primary);
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .plan-total-profit-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Информационные блоки */
        .info-block {
            margin-top: 2rem;
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid var(--primary-color);
        }

        .info-title {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .info-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .info-list-item {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .info-list-item:last-child {
            margin-bottom: 0;
        }

        .notification-warning-static {
            position: static !important;
            margin-bottom: 1.5rem;
        }

        /* Последняя активность */
        .last-activity {
            margin-top: 2rem;
        }

        .last-activity-title {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .last-activity-content {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 2rem;
        }

        /* Быстрые действия */
        .quick-actions {
            margin-bottom: 2rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* Статистика */
        .stats-mb-2 {
            margin-bottom: 2rem;
        }

        /* Активные депозиты */
        .active-deposits {
            margin-bottom: 2rem;
        }

        .active-deposits-title {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .active-deposits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        /* Планы депозитов */
        .plans-title {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        /* Бонусы */
        .bonus-section {
            margin-bottom: 2rem;
        }

        .bonus-card {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
        }

        .bonus-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .bonus-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .bonus-item {
            background: var(--bg-primary);
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .bonus-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .bonus-item-title {
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .bonus-item-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .bonus-icon {
            font-size: 2rem;
        }

        .bonus-reward {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .bonus-reward-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Специальные элементы */
        .bonus-item-special {
            background: linear-gradient(135deg, var(--bg-primary), rgba(255, 107, 53, 0.1));
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--primary-color);
            transition: all 0.3s ease;
        }

        .bonus-special-title {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .gap-1 { gap: 1rem; }
        .gap-1-5 { gap: 1.5rem; }

        /* Статистические карточки */
        .stat-card {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-weight: 700;
            font-size: 1.2rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .stat-sublabel {
            color: var(--text-secondary);
            font-size: 0.7rem;
        }

        /* Специальные карточки экосистемы */
        .ecosystem-card {
            background: var(--bg-secondary);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            border: 2px solid var(--secondary-color);
        }

        .ecosystem-value {
            color: var(--secondary-color);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .ecosystem-desc {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .ecosystem-subdesc {
            color: var(--text-secondary);
            font-size: 0.7rem;
        }

        /* Специальные секции */
        .golden-bonus {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(156, 39, 176, 0.1));
            padding: 2.5rem;
            border-radius: 20px;
            border: 3px solid var(--gold-color);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
        }

        .golden-title {
            color: var(--gold-color);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 1.8rem;
        }

        .golden-description {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .golden-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .golden-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .golden-card-special {
            border: 2px solid var(--gold-color);
        }

        .golden-value {
            font-weight: 700;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .golden-value-medium {
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .golden-value-large {
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .golden-conditions {
            margin-top: 2rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        /* Множители */
        .multiplier-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .multiplier-card {
            text-align: center;
            padding: 1rem;
            background: var(--bg-primary);
            border-radius: 8px;
            border: 2px solid;
        }

        .multiplier-card-active {
            border-color: var(--success-color);
        }

        .multiplier-card-secondary {
            border-color: var(--secondary-color);
        }

        .multiplier-card-warning {
            border-color: var(--warning-color);
        }

        .multiplier-card-default {
            border-color: var(--border-color);
        }

        .multiplier-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .multiplier-title {
            color: var(--text-primary);
            margin-bottom: 0.3rem;
        }

        .multiplier-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
        }

        .multiplier-time {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .multiplier-progress {
            background: var(--bg-secondary);
            border-radius: 6px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .multiplier-progress-bar {
            height: 4px;
        }

        .effect-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .effect-item {
            text-align: center;
        }

        .effect-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .effect-value {
            font-size: 1.2rem;
        }

        .available-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .multiplier-shop-card {
            padding: 1rem;
            background: var(--bg-primary);
            border-radius: 8px;
            border: 2px solid var(--border-color);
        }

        .multiplier-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .multiplier-name {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .multiplier-badge {
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            color: var(--bg-primary);
        }

        .multiplier-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .multiplier-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .multiplier-cost {
            color: var(--success-color);
            font-weight: 600;
        }

        .multiplier-alt {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        /* Акции и промо */
        .promo-card {
            padding: 1rem;
            background: var(--bg-primary);
            border-radius: 8px;
            border-left: 4px solid;
            margin-bottom: 1rem;
        }

        .promo-card-success {
            border-left-color: var(--success-color);
        }

        .promo-card-secondary {
            border-left-color: var(--secondary-color);
        }

        .promo-title {
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .promo-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.8rem;
        }

        .promo-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .promo-timer {
            font-size: 0.8rem;
        }

        .promo-permanent {
            color: var(--secondary-color);
            font-size: 0.8rem;
        }

        .promo-btn {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
        }

        /* Рекорды и статистика */
        .records-grid {
            margin-bottom: 1rem;
        }

        .record-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .record-item:last-child {
            margin-bottom: 0;
        }

        .record-label {
            color: var(--text-secondary);
        }

        .record-value {
            font-weight: 600;
        }

        /* Стандартные контейнеры */
        .standard-container {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .device-info-container {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        /* Дополнительные утилиты для бонусов */
        .bonus-item-simple {
            background: var(--bg-primary);
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .bonus-reward-simple {
            background: var(--bg-secondary);
            padding: 0.8rem;
            border-radius: 8px;
        }

        .bonus-description {
            color: var(--text-secondary);
            font-size: 0.8rem;
            margin-top: 0.3rem;
        }

        .bonus-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .bonus-list-item {
            display: flex;
            align-items: start;
            gap: 0.5rem;
            margin-bottom: 0.8rem;
        }

        .bonus-list-item:last-child {
            margin-bottom: 0;
        }

        .bonus-check {
            color: var(--success-color);
        }

        .font-size-0-8 { font-size: 0.8rem; }
        .font-size-0-85 { font-size: 0.85rem; }
        .mt-0-3 { margin-top: 0.3rem; }
        .mb-0-3 { margin-bottom: 0.3rem; }
        .mb-0-5 { margin-bottom: 0.5rem; }
        .mt-0-5 { margin-top: 0.5rem; }
        .font-size-0-75 { font-size: 0.75rem; }
        .mt-1 { margin-top: 1rem; }
        .p-0-5 { padding: 0.8rem; }
        
        /* PWA Install Styles */
        .pwa-install-nav-hidden {
            display: none !important;
        }
        
        .pwa-install-badge {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 8px;
            animation: pulse 2s infinite;
        }
        
        .pwa-install-header-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .pwa-install-header-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }
        
        .pwa-install-header-btn.hidden {
            display: none;
        }
        
        /* ===== ДОПОЛНИТЕЛЬНЫЕ UTILITY КЛАССЫ ===== */
        .golden-value { color: var(--gold-color); }
        .golden-value-medium { color: var(--success-color); }
        .golden-value-large { color: var(--accent-color); }
        .primary-color { color: var(--primary-color); }
        .secondary-color { color: var(--secondary-color); }
        .success-color { color: var(--success-color); }
        .warning-color { color: var(--warning-color); }
        .accent-color { color: var(--accent-color); }
        .multiplier-value { font-weight: 600; }
        .multiplier-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            color: white;
        }
        .stat-value { font-weight: 700; font-size: 1.2rem; }
        .effect-value { font-weight: 600; }
        .promo-timer { font-weight: 600; }
        .record-value { font-weight: 700; }
        .info-value { font-size: 0.9rem; }
        .margin-right-small { margin-right: 0.5rem; }
        .font-weight-600 { font-weight: 600; }
        .font-weight-700 { font-weight: 700; }
        .font-size-0-8 { font-size: 0.8rem; }
        .font-size-0-9 { font-size: 0.9rem; }
        .font-size-1-1 { font-size: 1.1rem; }
        .font-style-italic { font-style: italic; }
        .margin-top-0-5 { margin-top: 0.5rem; }
        .margin-top-2 { margin-top: 2rem; }
        .word-break-all { word-break: break-all; }
        .opacity-0 { opacity: 0; }
        .tech-card-checkmark { 
            position: absolute; 
            top: 10px; 
            right: 10px; 
            color: var(--success-color); 
            font-size: 1.2rem; 
        }
        
        /* ===== СТИЛИ ДЛЯ РАЗДЕЛА "КАК ВСЕ УСТРОЕНО" ===== */
        .algorithm-explanation {
            margin: 1.5rem 0;
        }
        .algo-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border-left: 4px solid var(--primary-color);
        }
        .algo-number {
            font-size: 1.5rem;
            margin-right: 1rem;
            min-width: 2rem;
            text-align: center;
        }
        .algo-content h4 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }
        .algo-content p {
            margin: 0;
            color: var(--text-secondary);
            line-height: 1.5;
        }
        .security-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        .security-card {
            display: flex;
            align-items: flex-start;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }
        .security-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
            min-width: 2rem;
        }
        .security-content h4 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }
        .security-content p {
            margin: 0;
            color: var(--text-secondary);
            line-height: 1.5;
        }
        
        /* ===== КЛАССЫ ДЛЯ ЗАМЕНЫ INLINE СТИЛЕЙ ===== */
        .text-center { text-align: center; }
        .padding-2rem { padding: 2rem; }
        .margin-bottom-1-5rem { margin-bottom: 1.5rem; }
        .margin-bottom-1rem { margin-bottom: 1rem; }
        .margin-bottom-2rem { margin-bottom: 2rem; }
        .width-100 { width: 100%; }
        .font-size-09rem { font-size: 0.9rem; }
        .font-size-085rem { font-size: 0.85rem; }
        .font-size-11rem { font-size: 1.1rem; }
        .font-monospace { font-family: monospace; }
        .word-break-all { word-break: break-all; }
        .display-inline-block { display: inline-block; }
        
        .color-primary { color: var(--primary-color); }
        .color-secondary { color: var(--secondary-color); }
        .color-warning { color: var(--warning-color); }
        .color-text-secondary { color: var(--text-secondary); }
        .color-text-primary { color: var(--text-primary); }
        .color-success { color: var(--success-color); }
        .color-gold { color: var(--gold-color); }
        
        .bg-primary { background: var(--bg-primary); }
        .bg-secondary { background: var(--bg-secondary); }
        .bg-tertiary { background: var(--bg-tertiary); }
        .bg-white { background: white; }
        
        .border-radius-12px { border-radius: 12px; }
        .border-radius-8px { border-radius: 8px; }
        .border-radius-6px { border-radius: 6px; }
        
        .padding-1rem { padding: 1rem; }
        .padding-1-5rem { padding: 1.5rem; }
        .border-1px-border { border: 1px solid var(--border-color); }
        .border-1px-primary { border: 1px solid var(--primary-color); }
        
        .qr-container {
            background: var(--bg-primary);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
        }
        
        .address-container {
            font-family: monospace;
            font-size: 0.85rem;
            color: var(--text-primary);
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 6px;
            word-break: break-all;
            margin-bottom: 1rem;
        }
        
        .warning-container {
            background: rgba(255, 107, 53, 0.1);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--primary-color);
        }
        
        .qr-code-box {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            display: inline-block;
            margin-bottom: 1rem;
        }
        
        /* Дополнительные утилитарные классы */
        .margin-bottom-05rem { margin-bottom: 0.5rem; }
        .text-left { text-align: left; }
        .margin-0 { margin: 0; }
        .padding-left-1-5rem { padding-left: 1.5rem; }
        .font-weight-600 { font-weight: 600; }
        .font-weight-700 { font-weight: 700; }
        .opacity-0 { opacity: 0; }
        .opacity-7 { opacity: 0.7; }
        .opacity-5 { opacity: 0.5; }
        
        .flex { display: flex; }
        .justify-content-space-between { justify-content: space-between; }
        .align-items-center { align-items: center; }
        .text-success { color: var(--success-color); }
        .font-size-0-9 { font-size: 0.9rem; }
        
        /* Ширины для прогресс-баров */
        .width-72 { width: 72%; }
        .width-53 { width: 53%; }
        .width-97 { width: 97%; }
        
        /* Фоновые цвета */
        .bg-success { background: var(--success-color); }
        .bg-warning { background: var(--warning-color); }
        
        /* Badge стили */
        .badge-success { background: var(--success-color); }
        .badge-primary { background: var(--primary-color); color: white; }
        .badge-warning { background: var(--warning-color); }
        
        /* Borders */
        .border-warning { border-color: var(--warning-color); }
        .font-size-1-5 { font-size: 1.5rem; }
        
        /* Дополнительные утилитарные классы */
        .margin-bottom-1-5rem { margin-bottom: 1.5rem; }
        .display-block { display: block; }
        .word-break-all { word-break: break-all; }
        .bg-tertiary { background: var(--bg-tertiary); }
        .border-radius-6px { border-radius: 6px; }
        .margin-top-2rem { margin-top: 2rem; }
        .color-text-primary { color: var(--text-primary); }
        
        /* Flex утилиты */
        .flex-align-center { display: flex; align-items: center; }
        .flex-gap-1rem { display: flex; gap: 1rem; }
        .cursor-pointer { cursor: pointer; }
        .flex-1 { flex: 1; }
        .padding-1rem { padding: 1rem; }
        .bg-primary { background: var(--primary-color); }
        .text-align-right { text-align: right; }
        .font-size-09rem { font-size: 0.9rem; }
        
        /* Дополнительные утилитарные классы для исправления inline стилей */
        .max-width-500px { max-width: 500px; }
        .padding-1rem-2rem { padding: 1rem 2rem; }
        .font-size-3rem { font-size: 3rem; }
        .margin-bottom-2rem { margin-bottom: 2rem; }
        .margin-bottom-05rem { margin-bottom: 0.5rem; }
        .margin-bottom-1rem { margin-bottom: 1rem; }
        .font-size-11rem { font-size: 1.1rem; }
        .color-text-primary { color: var(--text-primary); }
        .color-text-secondary { color: var(--text-secondary); }
        .color-primary { color: var(--primary-color); }
        .flex-2 { flex: 2; }
        .text-center { text-align: center; }
        .font-size-2rem { font-size: 2rem; }
        .font-weight-bold { font-weight: bold; }
        .color-success { color: var(--success-color); }
        .font-size-small { font-size: 0.9rem; }
        .color-secondary { color: var(--secondary-color); }
        .margin-0 { margin: 0; }
        .flex { display: flex; }
        .flex-align-center { display: flex; align-items: center; }
        .flex-gap-1rem { display: flex; gap: 1rem; }
        .flex-align-center-gap-1rem { display: flex; align-items: center; gap: 1rem; }
        .padding-1rem { padding: 1rem; }
        .padding-15rem { padding: 1.5rem; }
        .text-align-right { text-align: right; }
        .font-size-09rem { font-size: 0.9rem; }
        
        /* Динамические классы для замены template literals */
        .dynamic-color { color: inherit; }
        .dynamic-bg { background: inherit; }
        .dynamic-border { border: 2px solid; border-color: inherit; }
        .plan-dynamic-style { color: inherit; font-size: 1.5rem; font-weight: 700; }
        .plan-title-dynamic { color: inherit; margin-bottom: 0.5rem; }
        .continue-btn-dynamic { flex: 2; padding: 1rem; background: inherit; color: white; border: none; border-radius: 8px; cursor: pointer; }
        .deposit-icon-dynamic { color: inherit; }
        .confirm-btn-dynamic { background: inherit; color: white; border: none; padding: 0.75rem 2rem; border-radius: 8px; cursor: pointer; }
        
        /* Дополнительные утилитарные классы для inline стилей */
        .margin-bottom-2rem { margin-bottom: 2rem; }
        .background-tertiary { background: var(--bg-tertiary); }
        .padding-large { padding: 1.5rem; }
        .border-radius-large { border-radius: 12px; }
        .color-secondary { color: var(--secondary-color); }
        .margin-left-1rem { margin-left: 1rem; }
        .font-size-3rem { font-size: 3rem; }
        .background-primary { background: var(--bg-primary); }
        .border-radius-medium { border-radius: 8px; }
        .font-size-875rem { font-size: 0.875rem; }
        .display-block { display: block; }
        .font-size-12rem { font-size: 1.2rem; }
        .font-weight-600 { font-weight: 600; }
        .color-warning { color: var(--warning-color); }
        .line-height-16 { line-height: 1.6; }
        .display-grid { display: grid; }
        .grid-template-2col { grid-template-columns: 1fr 1fr; }
        .gap-1rem { gap: 1rem; }
        .background-secondary { background: var(--bg-secondary); }
        .max-height-400 { max-height: 400px; }
        .overflow-y-auto { overflow-y: auto; }
        .max-width-500 { max-width: 500px; }
        .margin-0-auto { margin: 0 auto; }
        .border-1-solid { border: 1px solid var(--border-color); }
        .min-height-420 { min-height: 420px; }
        .overflow-hidden { overflow: hidden; }
        .padding-left-15rem { padding-left: 1.5rem; }
        .margin-top-05rem { margin-top: 0.5rem; }
        .margin-bottom-03rem { margin-bottom: 0.3rem; }
        .color-text-primary { color: var(--text-primary); }
        .margin-bottom-medium { margin-bottom: 1rem; }
        .margin-bottom-large { margin-bottom: 2rem; }
        .font-size-large { font-size: 1.5rem; }
        .font-size-small { font-size: 0.9rem; }
        .line-height-normal { line-height: 1.5; }
        .font-size-xs { font-size: 0.8rem; }
        .margin-bottom-small { margin-bottom: 0.5rem; }
        .flex-center { display: flex; align-items: center; }
        .gap-small { gap: 0.5rem; }
        .flex-1 { flex: 1; }
        .padding-small { padding: 0.5rem; }
        .border-radius-small { border-radius: 4px; }
        .word-break-all { word-break: break-all; }
        .color-gold { color: var(--gold-color); }
        .color-accent { color: var(--accent-color); }
        .font-size-14rem { font-size: 1.4rem; }
        .width-100 { width: 100%; }
        .max-height-400 { max-height: 400px; }
        .color-secondary { color: var(--secondary-color); }
        .flex-align-center { display: flex; align-items: center; }
        .padding-2rem { padding: 2rem; }
        .flex-justify-between { display: flex; justify-content: space-between; align-items: center; }
        .display-grid-gap { display: grid; gap: 1rem; }
        .height-250 { height: 250px; }
        .color-error { color: var(--error-color); }
        
        /* Стили для динамических элементов с hover эффектами */
        .plan-card-hover {
            transition: all 0.3s ease;
        }
        
        .plan-card-hover:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3) !important;
        }
        
        /* Исправление для JavaScript переменных стилей */
        .dynamic-color { color: inherit; }
        .dynamic-background { background: inherit; }
        
        /* Функция для применения динамических стилей */
        .apply-dynamic-styles { 
            color: inherit; 
            background: inherit; 
        }
        
        /* Классы для замены inline-стилей */
        .text-center-padded { text-align: center; padding: 1.5rem; }
        .warning-title { color: var(--warning-color); margin-bottom: 1.5rem; }
        .access-card-warning { background: var(--bg-primary); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem; border: 1px solid var(--warning-color); }
        .margin-bottom-1 { margin-bottom: 1rem; }
        .access-cost-label { color: var(--text-secondary); font-size: 0.9rem; }
        .access-cost-value { color: var(--primary-color); }
        .access-description { color: var(--text-secondary); font-size: 0.85rem; }
        .access-card-bordered { background: var(--bg-primary); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem; border: 1px solid var(--border-color); }
        .qr-title { color: var(--secondary-color); margin-bottom: 1rem; }
        .qr-container { background: white; padding: 1rem; border-radius: 8px; display: inline-block; margin-bottom: 1rem; }
        .address-card { background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; }
        .address-label { color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 0.5rem; }
        .address-value { font-family: monospace; font-size: 0.8rem; color: var(--secondary-color); word-break: break-all; }
        .btn-full-width { width: 100%; }
        .notification-icon-large { font-size: 1.5rem; }
        .notification-title-style { margin: 0 0 0.25rem 0; font-size: 1rem; }
        .notification-message-style { margin: 0; font-size: 0.875rem; color: var(--text-secondary); }
        .notification-close-btn { background: none; border: none; color: var(--text-secondary); font-size: 1.2rem; cursor: pointer; padding: 0; margin-left: 1rem; }
        .flex-between-center-mb { justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .progress-bar-zero { width: 0%; }
        .font-size-1-5rem { font-size: 1.5rem; }
        .font-size-1rem { font-size: 1rem; }
        .word-break-all { word-break: break-all; }
        .iframe-chart { border: none; width: 100%; min-height: 420px; background: #181a20; }
        .code-block-padded { padding: 0.5rem 1rem; }
        .text-center-colored-title { text-align: center; color: var(--secondary-color); margin-bottom: 2rem; }
        .btn-flex-back { flex: 1; padding: 1rem; }
        .deposit-plan-card-styled { 
            background: var(--bg-primary); 
            border: 1px solid var(--border-color); 
            border-radius: 12px; 
            padding: 1.5rem; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            margin-bottom: 1rem; 
        }
        .deposit-plan-card-styled:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }
    </style>
    
    <script>
        // Функция для применения динамических стилей
        function applyDynamicStyles() {
            // Применяем цвета для элементов с data-color
            document.querySelectorAll('[data-color]').forEach(el => {
                const color = el.getAttribute('data-color');
                if (color) {
                    el.style.color = color;
                }
            });
            
            // Применяем фоновые цвета для элементов с data-bg-color
            document.querySelectorAll('[data-bg-color]').forEach(el => {
                const bgColor = el.getAttribute('data-bg-color');
                if (bgColor) {
                    el.style.background = bgColor;
                }
            });
        }
        
        // Применяем стили при загрузке и при изменениях DOM
        document.addEventListener('DOMContentLoaded', applyDynamicStyles);
        
        // Функция для исправления динамических атрибутов
        function fixDynamicAttributes() {
            // Исправляем план карточки
            document.querySelectorAll('[data-locked], [data-available]').forEach(el => {
                const isLocked = el.getAttribute('data-locked') === 'true';
                const isAvailable = el.getAttribute('data-available') === 'true';
                
                el.classList.toggle('plan-card-locked', isLocked);
                el.classList.toggle('plan-card-available', isAvailable);
            });
            
            // Исправляем QR коды
            const depositQR = document.getElementById('deposit-qr-code');
            if (depositQR && window.GENESIS_CONFIG) {
                depositQR.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(window.GENESIS_CONFIG.addresses.system)}`;
            }
            
            const platformQR = document.getElementById('platform-qr-code');
            if (platformQR && window.GENESIS_CONFIG) {
                platformQR.src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(window.GENESIS_CONFIG.addresses.platform)}`;
            }
            
            // Исправляем input с адресом
            const addressInput = document.getElementById('user-address-input');
            if (addressInput && window.CabinetApp) {
                addressInput.value = window.CabinetApp.state.userAddress || '';
            }
        }
        
        // Создаем наблюдатель для новых элементов
        const observer = new MutationObserver(() => {
            applyDynamicStyles();
        });
        
        // Начинаем наблюдение
        observer.observe(document.body, {
            childList: true,
            subtree: true
        });
    </script>
</head>
<body>
    <!-- MCP-MARKER:SECTION:AUTHENTICATION - Экран авторизации -->
    
    <!-- Loading Screen -->
    <!-- MCP-MARKER:COMPONENT:LOADING_SCREEN - Экран загрузки -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content" role="status" aria-live="polite">
            <div class="loading-logo">GENESIS 1.1</div>
            <div class="loading-text">Инициализация системы...</div>
            <div class="loading-spinner"></div>
        </div>
        
        <!-- Emergency Actions (показываются через 10 секунд) -->
        <div id="emergency-actions" class="emergency-actions hidden">
            <h4>🚨 Экстренные действия</h4>
            <button class="btn btn-outline" onclick="clearCacheAndReload()">🧹 Очистить кэш</button>
            <button class="btn btn-outline" onclick="enableDevAccess()">🔧 Доступ разработчика</button>
            <button class="btn btn-outline" onclick="showSystemInfo()">📊 Системная информация</button>
        </div>
    </div>

    <!-- Auth Screen -->
    <!-- MCP-MARKER:COMPONENT:AUTH_SCREEN - Экран авторизации -->
    <div id="auth-screen" class="auth-screen hidden">
        <div class="auth-container">
            <h2 class="auth-title">🔐 Авторизация</h2>
            <p class="auth-subtitle">Введите BSC адрес для доступа к кабинету</p>
            
            <div class="form-group">
                <label for="wallet-address" class="form-label">BSC Адрес:</label>
                <input type="text" 
                       id="wallet-address" 
                       class="form-control" 
                       placeholder="0x1234567890abcdef..."
                       autocomplete="off"
                       aria-label="BSC адрес кошелька для входа в кабинет">
            </div>
            
            <button id="auth-button" class="btn btn-full">Войти в кабинет</button>
            
            <div class="auth-test-info">
                <p>Для тестирования используйте:</p>
                <code class="auth-test-code">
                    0x742d35Cc6634C0532925a3b844Bc9e7595f2bD8e
                </code>
            </div>
        </div>
    </div>

    <!-- Cabinet App -->
    <!-- MCP-MARKER:SECTION:CABINET_LAYOUT - Основная структура кабинета -->
    <!-- MCP-MARKER:COMPONENT:CABINET_APP - Основное приложение кабинета -->
    <div id="cabinet-app" class="cabinet-app hidden">
        <!-- Header -->
        <!-- MCP-MARKER:COMPONENT:CABINET_HEADER - Шапка кабинета -->
        <div id="cabinet-header" class="cabinet-header">
            <div class="header-content">
                <div class="header-left">
                    <button id="sidebar-toggle" class="mobile-menu-toggle" onclick="toggleSidebar()" tabindex="0" aria-label="Переключить боковое меню">☰</button>
                    <h1 class="header-title">GENESIS 1.1</h1>
                    <span class="header-subtitle">Личный кабинет</span>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <!-- Статус доступа к платформе -->
                        <div id="access-status-indicator" class="access-status tooltip access-status-hidden" data-tooltip="Статус доступа к платформе">
                            <span id="access-status-icon">🔒</span>
                            <span id="access-status-text">Проверка...</span>
                            <span id="access-days-count" class="access-days"></span>
                        </div>
                        
                        <span class="user-address" id="user-address-display" title="Полный BSC адрес"></span>
                        <button class="btn btn-outline" onclick="logout()" tabindex="0" aria-label="Выйти из кабинета">Выйти</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <!-- MCP-MARKER:COMPONENT:CABINET_SIDEBAR - Боковое меню -->
        <div id="cabinet-sidebar" class="cabinet-sidebar">
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-page="dashboard">
                            <span class="nav-icon">📊</span>
                            <span class="nav-text">Панель управления</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="how-it-works">
                            <span class="nav-icon">🛠️</span>
                            <span class="nav-text">Как все устроено</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="portfolio">
                            <span class="nav-icon">💼</span>
                            <span class="nav-text">Портфель</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="transactions">
                            <span class="nav-icon">📋</span>
                            <span class="nav-text">Транзакции</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="analytics">
                            <span class="nav-icon">📈</span>
                            <span class="nav-text">Аналитика</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="bonuses">
                            <span class="nav-icon">🎁</span>
                            <span class="nav-text">Бонусы</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="gifts">
                            <span class="nav-icon">🎈</span>
                            <span class="nav-text">Подарки</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="referrals">
                            <span class="nav-icon">👥</span>
                            <span class="nav-text">Рефералы</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="multipliers">
                            <span class="nav-icon">⚡</span>
                            <span class="nav-text">Множители</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="mining-rent">
                            <span class="nav-icon">💻</span>
                            <span class="nav-text">Аренда мощностей</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="my-device">
                            <span class="nav-icon">📱</span>
                            <span class="nav-text">Мое устройство</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="plex-coin">
                            <span class="nav-icon">🪙</span>
                            <span class="nav-text">PLEX Монета</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="settings">
                            <span class="nav-icon">⚙️</span>
                            <span class="nav-text">Настройки</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="experience">
                            <span class="nav-icon">📅</span>
                            <span class="nav-text">Стаж</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="rank">
                            <span class="nav-icon">🏅</span>
                            <span class="nav-text">Ранг</span>
                        </a>
                    </li>
                    <li class="nav-item" id="pwa-install-nav-item">
                        <a href="#" class="nav-link" data-page="install-app" onclick="window.CabinetApp.showPage('install-app'); return false;">
                            <span class="nav-icon">📱</span>
                            <span class="nav-text">Установить приложение</span>
                        </a>
                    </li>
                    
                    <!-- MCP-MARKER:NAV:SEPARATOR - Разделитель меню -->
                    <!-- Разделитель -->
                    <li class="nav-separator"></li>

                    <!-- MCP-MARKER:NAV:LOGOUT_BUTTON - Кнопка выхода в меню -->
                    <!-- Кнопка выхода -->
                    <li class="nav-item nav-item-logout">
                        <a href="#" class="nav-link nav-link-logout" onclick="handleLogout(); return false;">
                            <span class="nav-icon">🚪</span>
                            <span class="nav-text">Выход</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- Main Content -->
        <!-- MCP-MARKER:COMPONENT:CABINET_MAIN - Основной контент -->
        <div id="cabinet-main" class="cabinet-main">
            <!-- MCP-MARKER:COMPONENT:BREADCRUMBS - Навигация breadcrumbs -->
            <!-- Breadcrumbs навигация -->
            <div id="breadcrumbs" class="breadcrumbs">
                <a href="#" onclick="window.location.href='index.html'; return false;" class="breadcrumb-link">
                    <span class="breadcrumb-icon">🏠</span>
                    <span class="breadcrumb-text">Главная</span>
                </a>
                <span class="breadcrumb-separator">→</span>
                <span class="breadcrumb-current">Личный кабинет</span>
            </div>
            
            <div id="page-content">
                <!-- Контент страниц будет загружаться сюда -->
                <div class="page-header">
                    <h2 class="page-title">Добро пожаловать!</h2>
                    <p class="page-subtitle">Выберите раздел в меню слева для начала работы</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stats-card">
                        <div class="stats-header">
                            <span class="stats-title">Общий баланс</span>
                            <span class="stats-icon">💰</span>
                        </div>
                        <div class="stats-value">0.00</div>
                        <div class="stats-change">USDT</div>
                    </div>
                    
                    <div class="stats-card">
                        <div class="stats-header">
                            <span class="stats-title">Активные депозиты</span>
                            <span class="stats-icon">📈</span>
                        </div>
                        <div class="stats-value">0</div>
                        <div class="stats-change">штук</div>
                    </div>
                    
                    <div class="stats-card">
                        <div class="stats-header">
                            <span class="stats-title">Общий доход</span>
                            <span class="stats-icon">🚀</span>
                        </div>
                        <div class="stats-value">0.00</div>
                        <div class="stats-change">USDT</div>
                    </div>
                    
                    <div class="stats-card">
                        <div class="stats-header">
                            <span class="stats-title">Доход за сегодня</span>
                            <span class="stats-icon">📅</span>
                        </div>
                        <div class="stats-value">0.00</div>
                        <div class="stats-change">USDT</div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="margin-bottom-large">
                    <h3 class="color-text-primary margin-bottom-medium">Быстрые действия</h3>
                    <div class="flex-gap flex-wrap">
                        <button class="btn btn-secondary" onclick="window.CabinetApp.showCreateDepositModal()">
                            💰 Создать депозит
                        </button>
                        <button class="btn btn-outline" onclick="window.CabinetApp.showPlatformAccessModal()">
                            🔑 Пополнить доступ
                        </button>
                        <button class="btn btn-outline" onclick="window.CabinetApp.navigateTo('analytics')">
                            📊 Аналитика
                        </button>
                        <button class="btn btn-outline" onclick="window.CabinetApp.navigateTo('settings')">
                            ⚙️ Настройки
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MCP-MARKER:COMPONENT:TERMINAL_CONTAINER - Контейнер терминала -->
    <!-- Терминал для отладки -->
    <div id="genesis-terminal" class="genesis-terminal" data-terminal="true">
        <div class="terminal-header">
            <div class="terminal-title">
                <span class="terminal-icon">🖥️</span>
                <span>GENESIS Terminal v2.1</span>
            </div>
            <div class="terminal-controls">
                <button id="terminal-btn-stats" class="terminal-btn" onclick="window.GenesisTerminal?.toggleStats()" title="Статистика">📊</button>
                <button id="terminal-btn-clear" class="terminal-btn" onclick="window.GenesisTerminal?.clear()" title="Очистить">🗑️</button>
                <button id="terminal-btn-export" class="terminal-btn" onclick="window.GenesisTerminal?.exportLogs()" title="Экспорт">📥</button>
                <button id="terminal-btn-fullscreen" class="terminal-btn" onclick="window.GenesisTerminal?.toggleFullscreen()" title="Полноэкранный режим">⛶</button>
                <button id="terminal-btn-minimize" class="terminal-btn" onclick="window.GenesisTerminal?.minimize()" title="Свернуть">_</button>
            </div>
        </div>
        
        <div id="terminal-stats" class="terminal-stats">
            <div class="stat-item">
                <span class="stat-label">Сообщений:</span>
                <span id="messageCount" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Время работы:</span>
                <span id="uptime" class="stat-value">00:00:00</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Память:</span>
                <span id="memoryUsage" class="stat-value">N/A</span>
            </div>
        </div>
        
        <div id="genesis-terminal-body" class="terminal-body"></div>
        
        <div class="terminal-input-container">
            <span class="terminal-prompt">></span>
            <input type="text" 
                   id="terminalInput" 
                   class="terminal-input" 
                   placeholder="Введите команду (help для справки)"
                   onkeydown="window.GenesisTerminal?.handleInput(event)"
                   oninput="window.GenesisTerminal?.handleAutocomplete(this.value)">
            <div id="autocomplete" class="terminal-autocomplete"></div>
        </div>
        
        <!-- Панель дополнительной статистики -->
        <div id="statsPanel" class="terminal-stats-panel">
            <h4>📊 Подробная статистика</h4>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-label">Всего сообщений:</span>
                    <span id="totalMessages" class="stat-value">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Ошибок:</span>
                    <span id="errorCount" class="stat-value error">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Предупреждений:</span>
                    <span id="warningCount" class="stat-value warning">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">API запросов:</span>
                    <span id="apiCalls" class="stat-value">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- MCP-MARKER:SECTION:DEPOSIT_MODALS - Модальные окна депозитов -->
    
    <!-- Модальное окно создания депозита -->
    <!-- MCP-MARKER:COMPONENT:MODAL_DEPOSIT_CREATE - Модалка создания депозита -->
    <div id="create-deposit-modal" class="modal-overlay hidden">
        <div class="modal-container" role="dialog" aria-modal="true">
            <div class="modal-header">
                <h3>💰 Создание депозита</h3>
                <button class="modal-close" onclick="closeDepositModal()" tabindex="0" aria-label="Закрыть модальное окно">&times;</button>
            </div>
            <div class="modal-content">
                <div id="deposit-modal-content">
                    <!-- Контент будет загружен динамически -->
                    <div class="empty-state">
                        <div class="empty-icon">⏳</div>
                        <h3>Загрузка...</h3>
                        <p>Подготовка формы создания депозита</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно подтверждения депозита -->
    <!-- MCP-MARKER:COMPONENT:MODAL_DEPOSIT_CONFIRM - Модалка подтверждения депозита -->
    <div id="confirm-deposit-modal" class="modal-overlay hidden">
        <div class="modal-container modal-medium" role="dialog" aria-modal="true">
            <div class="modal-header">
                <h3 class="color-warning">⚠️ Подтверждение депозита</h3>
                <button class="modal-close" onclick="closeConfirmModal()" tabindex="0" aria-label="Закрыть модальное окно">&times;</button>
            </div>
            <div class="modal-content">
                <div id="confirm-modal-content">
                    <!-- Контент подтверждения -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно результата транзакции -->
    <!-- MCP-MARKER:COMPONENT:MODAL_TRANSACTION_RESULT - Модалка результата транзакции -->
    <div id="transaction-result-modal" class="modal-overlay hidden">
        <div class="modal-container modal-medium" role="dialog" aria-modal="true">
            <div class="modal-header">
                <h3 id="transaction-result-title">📊 Результат транзакции</h3>
                <button class="modal-close" onclick="closeTransactionResultModal()" tabindex="0" aria-label="Закрыть модальное окно">&times;</button>
            </div>
            <div class="modal-content">
                <div id="transaction-result-content">
                    <!-- Результат транзакции -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно пополнения доступа -->
    <!-- MCP-MARKER:COMPONENT:MODAL_PLATFORM_ACCESS - Модалка пополнения доступа -->
    <div id="platform-access-modal" class="modal-overlay hidden">
        <div class="modal-container modal-medium" role="dialog" aria-modal="true">
            <div class="modal-header">
                <h3>🔑 Пополнение доступа к платформе</h3>
                <button class="modal-close" onclick="closePlatformAccessModal()" tabindex="0" aria-label="Закрыть модальное окно">&times;</button>
            </div>
            <div class="modal-content">
                <div id="platform-access-content">
                    <!-- Контент будет загружен динамически -->
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <!-- MCP-MARKER:COMPONENT:NOTIFICATION_CONTAINER - Контейнер уведомлений -->
    <div id="notification-container"></div>

    <!-- Подключение всех необходимых сервисов -->
    <script src="js/config.js"></script>
    <script src="js/services/deposit-system-final-check.js"></script>
    <script src="js/services/utils.js"></script>
    <script src="js/services/api.js"></script>
    <script src="js/services/platform-access.js"></script>
    <script src="js/services/deposits-enhanced.js"></script>
    <script src="js/services/deposits-cabinet.js"></script>
    <script src="js/services/deposit-creation-system.js"></script>
    <script src="js/services/cabinet-deposit-integration.js"></script>
    <script src="js/services/mining-rent.js"></script>
    <script src="js/services/multipliers.js"></script>
    
    <!-- Главный сервис кабинета -->
    <script src="js/services/genesis-cabinet.js"></script>
    
    <!-- PWA установка -->
    <script src="js/services/pwa-install.js"></script>
    
    <!-- Сервис личного кабинета (временно отключен) -->
    <!-- <script src="js/services/cabinet.js?v=2.1"></script> -->
    
    <!-- Расширение страницы устройства -->
    <script src="js/services/device-page-extension.js"></script>
    
    <!-- Исправление модальных окон депозитов -->
    <script src="fixes/fix-deposit-modal.js"></script>
    
    <!-- КРИТИЧЕСКИЙ СКРИПТ: Системная инициализация -->
    <script>
        // MCP-MARKER:SECTION:SYSTEM_INITIALIZATION - Системная инициализация
        // MCP-BREADCRUMB:2025-07-25:14:40 - Добавлены breadcrumbs в JavaScript секцию
        
        // MCP-MARKER:FIXED:DEBUG_CONSOLE - Заменен console.log на debugLog
        
        // Глобальные переменные
        window.GENESIS_VERSION = '1.1';
        window.currentUser = null;
        window.cabinetApp = null;
        
        // Обработчик загрузки страницы
        window.onload = () => {
            setTimeout(() => {
                const cachedWallet = localStorage.getItem('walletAddress');
                document.getElementById('loading-screen').classList.add('hidden');
                if (!cachedWallet) {
                    document.getElementById('auth-screen').classList.remove('hidden');
                } else {
                    document.querySelector('.cabinet-app')?.classList.remove('hidden');
                }
            }, 1000);
        };
        
        // MCP-MARKER:SECTION:GLOBAL_FUNCTIONS - Глобальные функции
        // MCP-BREADCRUMB:2025-07-25:21:45 - Добавлены маркеры для глобальных функций
        
        // MCP-MARKER:FUNCTION:DEBUG_LOG - Функция логирования
        window.debugLog = function(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const prefix = type === 'error' ? '❌' : type === 'warn' ? '⚠️' : type === 'success' ? '✅' : 'ℹ️';
            console.log(`${prefix} [${timestamp}] ${message}`);
        };
        
        // MCP-MARKER:FUNCTION:HANDLE_AUTH - Функция авторизации
        // Функция авторизации для кнопки
        function handleAuth() {
            const wallet = document.getElementById('wallet-address').value.trim();
            if (wallet.length === 42 && wallet.startsWith('0x')) {
                localStorage.setItem('walletAddress', wallet);
                document.getElementById('auth-screen').classList.add('hidden');
                document.querySelector('.cabinet-app')?.classList.remove('hidden');
                // Инициализируем приложение
                if (window.CabinetApp) {
                    window.CabinetApp.state.userAddress = wallet;
                    window.CabinetApp.state.isAuthenticated = true;
                    window.CabinetApp.showMainApp();
                }
            } else {
                // MCP-MARKER:FIXED:ALERT_TO_NOTIFICATION - Заменен alert на современное уведомление
                debugLog('Неверный адрес кошелька!', 'error');
                if (window.CabinetApp && window.CabinetApp.showNotification) {
                    window.CabinetApp.showNotification('Ошибка', 'Неверный адрес кошелька!', 'error');
                }
            }
        }
        document.getElementById('auth-button').onclick = handleAuth;
        
        debugLog('GENESIS 1.1 Cabinet - инициализация', 'info');
        
        // Функции для работы с модальными окнами
        // MCP-MARKER:FUNCTION:CLOSE_DEPOSIT_MODAL - Закрытие модалки депозита
        window.closeDepositModal = function() {
            document.getElementById('create-deposit-modal').classList.add('hidden');
        };
        
        // MCP-MARKER:FUNCTION:CLOSE_CONFIRM_MODAL - Закрытие модалки подтверждения
        window.closeConfirmModal = function() {
            document.getElementById('confirm-deposit-modal').classList.add('hidden');
        };
        
        // MCP-MARKER:FUNCTION:CLOSE_TRANSACTION_RESULT_MODAL - Закрытие модалки результата
        window.closeTransactionResultModal = function() {
            document.getElementById('transaction-result-modal').classList.add('hidden');
        };
        
        // MCP-MARKER:FUNCTION:CLOSE_PLATFORM_ACCESS_MODAL - Закрытие модалки доступа
        window.closePlatformAccessModal = function() {
            const modal = document.getElementById('platform-access-modal');
            if (modal) modal.classList.add('hidden');
        };
        
        // Глобальные функции для экстренных действий и управления
        // MCP-MARKER:FUNCTION:CLEAR_CACHE_AND_RELOAD - Очистка кэша и перезагрузка
        window.clearCacheAndReload = function() {
            console.log('🧹 Очистка кэша и перезагрузка...');
            localStorage.clear();
            sessionStorage.clear();
            // Принудительная перезагрузка без кэша
            window.location.reload(true);
        };
        
        // MCP-MARKER:FUNCTION:ENABLE_DEV_ACCESS - Режим разработчика
        window.enableDevAccess = function() {
            console.log('🔧 Режим разработчика активирован');
            localStorage.setItem('genesis_dev_mode', 'true');
            window.CabinetApp.showNotification('Режим разработчика', 'Активирован режим разработчика', 'info');
        };
        
        // MCP-MARKER:FUNCTION:SHOW_SYSTEM_INFO - Системная информация
        window.showSystemInfo = function() {
            debugLog('📊 Системная информация:', 'info');
            debugLog('- Версия: ' + window.GENESIS_VERSION, 'info');
            debugLog('- User Agent: ' + navigator.userAgent, 'info');
            debugLog('- Платформа: ' + navigator.platform, 'info');
            debugLog('- Язык: ' + navigator.language, 'info');
            // MCP-MARKER:FIXED:ALERT_TO_NOTIFICATION - Заменен alert на уведомление
            if (window.CabinetApp && window.CabinetApp.showNotification) {
                window.CabinetApp.showNotification('Системная информация', 'Информация выведена в терминал и консоль (F12)', 'info');
            }
        };
        
        // MCP-MARKER:FUNCTION:LOGOUT - Выход из системы
        // MCP-MARKER:METHOD:CABINET:LOGOUT - Выход из кабинета
        window.logout = function() {
            // MCP-MARKER:FIXED:CONFIRM_TO_MODAL - Заменен confirm на современное подтверждение
            if (window.CabinetApp && window.CabinetApp.showConfirmDialog) {
                window.CabinetApp.showConfirmDialog(
                    'Подтверждение выхода',
                    'Вы уверены, что хотите выйти из кабинета?',
                    () => performLogout()
                );
            } else {
                // Fallback для старых браузеров
                if (confirm('Вы уверены, что хотите выйти из кабинета?')) {
                    performLogout();
                }
            }
        };
        
        function performLogout() {
            debugLog('🚪 Выход из кабинета...', 'info');
            
            // Очищаем данные пользователя
            localStorage.removeItem('genesis_user_address');
            localStorage.removeItem('genesis_auth_status');
            localStorage.removeItem('genesis_user_email');
            localStorage.removeItem('genesis_user_nickname');
            localStorage.removeItem('genesis_pending_deposits');
            localStorage.removeItem('genesis_active_deposits');
            
            // Логируем действие
            if (window.GenesisTerminal) {
                window.GenesisTerminal.log('👋 Выход из кабинета', 'info');
            }
            
            // Показываем индикатор перехода
            const loadingEl = document.createElement('div');
            loadingEl.className = 'genesis-transition-loading';
            loadingEl.innerHTML = `
                <div class="transition-content">
                    <div class="spinner"></div>
                    <p>Выход из кабинета...</p>
                </div>
            `;
            document.body.appendChild(loadingEl);
            
            // Перенаправляем на главную с задержкой
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 800);
        }
        
        // Добавляем функцию быстрого выхода (для горячих клавиш)
        window.handleLogout = window.logout;
        
        // MCP-MARKER:FUNCTION:TOGGLE_MOBILE_MENU - Переключение мобильного меню
        window.toggleMobileMenu = function() {
            const sidebar = document.getElementById('cabinet-sidebar');
            if (sidebar) {
                sidebar.classList.toggle('active');
                window.CabinetApp.state.isMobileMenuOpen = !window.CabinetApp.state.isMobileMenuOpen;
            }
        };
        
        // Функция для сайдбара
        function toggleSidebar() {
            document.querySelector('.cabinet-sidebar')?.classList.toggle('active');
        }
        
        // Закрытие модалок по Escape и горячие клавиши навигации
        document.addEventListener('keydown', e => {
            // Escape для закрытия модальных окон
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal-overlay').forEach(m => {
                    if (!m.classList.contains('hidden')) {
                        m.classList.add('hidden');
                    }
                });
                
                // Escape для выхода из кабинета (если нет активных модальных окон)
                const activeModals = document.querySelectorAll('.modal-overlay:not(.hidden)');
                if (activeModals.length === 0 && window.location.pathname.includes('cabinet')) {
                    if (confirm('Нажата клавиша Escape. Выйти из кабинета?')) {
                        handleLogout();
                    }
                }
            }
            
            // Ctrl + H для перехода на главную страницу
            if (e.ctrlKey && e.key === 'h') {
                e.preventDefault();
                if (confirm('Перейти на главную страницу?')) {
                    window.location.href = 'index.html';
                }
            }
            
            // Ctrl + D для панели управления
            if (e.ctrlKey && e.key === 'd') {
                e.preventDefault();
                if (window.CabinetApp && window.CabinetApp.navigateTo) {
                    window.CabinetApp.navigateTo('dashboard');
                }
            }
            
            // Ctrl + P для портфеля
            if (e.ctrlKey && e.key === 'p') {
                e.preventDefault();
                if (window.CabinetApp && window.CabinetApp.navigateTo) {
                    window.CabinetApp.navigateTo('portfolio');
                }
            }
            
            // Ctrl + L для выхода (Logout)
            if (e.ctrlKey && e.key === 'l') {
                e.preventDefault();
                handleLogout();
            }
        });
        
        // Основной объект приложения
        window.CabinetApp = {
            state: {
                isAuthenticated: false,
                userAddress: null,
                currentPage: 'dashboard',
                platformAccess: null,
                deposits: [],
                portfolio: null,
                isMobileMenuOpen: false
            },
            
            // Инициализация приложения
            // MCP-MARKER:METHOD:CABINET:INIT - Инициализация приложения
            // MCP-BREADCRUMB:2025-07-25:14:40 - Метод покрыт маркерами, готов к использованию
            init: function() {
                try {
                    console.log('🚀 Инициализация GENESIS 1.1 Cabinet...');
                    
                    // Показываем экран загрузки
                    this.showLoadingScreen();
                    
                    // Настраиваем обработчик кнопки авторизации сразу
                    this.setupAuthHandler();
                    
                    // Инициализируем техническую информацию
                    this.initTechnicalInfo();
                    
                    // Запускаем измерение FPS
                    this.startFPSMeasurement();
                    
                    // Показываем экстренные действия через 10 секунд
                    setTimeout(() => {
                        const emergencyActions = document.getElementById('emergency-actions');
                        if (emergencyActions) {
                            emergencyActions.classList.remove('hidden');
                        }
                    }, 10000);
                    
                    // Проверяем авторизацию
                    setTimeout(() => {
                        this.checkAuth();
                    }, 2000);
                    
                    // Получаем информацию о сети асинхронно (не блокирует инициализацию)
                    setTimeout(() => {
                        this.getNetworkInfo();
                    }, 1000);
                    
                } catch (error) {
                    console.error('❌ Ошибка инициализации:', error);
                    // Показываем экран авторизации в случае ошибки
                    setTimeout(() => {
                        this.showAuthScreen();
                    }, 1000);
                }
            },
            
            // Инициализация технической информации
            // MCP-MARKER:METHOD:CABINET:INIT_TECHNICAL_INFO - Инициализация технической информации
            initTechnicalInfo: function() {
                // Обновляем информацию об устройстве
                this.updateDeviceInfo();
                
                // Запускаем таймер сессии
                this.startSessionTimer();
                
                // Обновляем статистику каждые 5 секунд
                setInterval(() => {
                    this.updateStats();
                }, 5000);
            },
            
            // Получение информации о сети
            // MCP-MARKER:METHOD:CABINET:GET_NETWORK_INFO - Получение информации о сети
            getNetworkInfo: function() {
                // Получаем IP адрес и локацию с таймаутом
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 секунд таймаут
                
                fetch('https://api.ipify.org?format=json', { 
                    signal: controller.signal 
                })
                    .then(response => {
                        clearTimeout(timeoutId);
                        if (!response.ok) throw new Error('Network response was not ok');
                        return response.json();
                    })
                    .then(data => {
                        const ipElement = document.getElementById('network-ip');
                        if (ipElement) ipElement.textContent = data.ip;
                        
                        // Получаем информацию о локации с таймаутом
                        const locationController = new AbortController();
                        const locationTimeoutId = setTimeout(() => locationController.abort(), 5000);
                        
                        return fetch(`https://ipapi.co/${data.ip}/json/`, { 
                            signal: locationController.signal 
                        });
                    })
                    .then(response => {
                        clearTimeout(locationTimeoutId);
                        if (!response.ok) throw new Error('Location API response was not ok');
                        return response.json();
                    })
                    .then(data => {
                        const locationElement = document.getElementById('network-location');
                        const providerElement = document.getElementById('network-provider');
                        const orgElement = document.getElementById('network-organization');
                        
                        if (locationElement) locationElement.textContent = `${data.city || 'Неизвестно'}, ${data.country_name || 'Неизвестно'}`;
                        if (providerElement) providerElement.textContent = data.org || 'Не определено';
                        if (orgElement) orgElement.textContent = data.org || 'Не определено';
                    })
                    .catch(error => {
                        console.log('Не удалось получить информацию о сети:', error);
                        const elements = ['network-ip', 'network-location', 'network-provider', 'network-organization'];
                        elements.forEach(id => {
                            const element = document.getElementById(id);
                            if (element) element.textContent = 'Не определено';
                        });
                    });
                
                // Измеряем пинг до BSC с таймаутом
                setTimeout(() => {
                    this.measureBSCPing();
                }, 1000);
            },
            
            // Измерение пинга до BSC
            // MCP-MARKER:METHOD:CABINET:MEASURE_BSC_PING - Измерение пинга до BSC
            measureBSCPing: function() {
                const startTime = performance.now();
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 3000); // 3 секунды таймаут
                
                fetch('https://bsc-dataseed.binance.org/', { 
                    method: 'HEAD',
                    mode: 'no-cors',
                    signal: controller.signal
                })
                .then(() => {
                    clearTimeout(timeoutId);
                    const endTime = performance.now();
                    const ping = Math.round(endTime - startTime);
                    const element = document.getElementById('network-bsc-ping');
                    if (element) element.textContent = `${ping} мс`;
                })
                .catch((error) => {
                    clearTimeout(timeoutId);
                    console.log('Не удалось измерить пинг до BSC:', error);
                    const element = document.getElementById('network-bsc-ping');
                    if (element) element.textContent = 'Недоступно';
                });
            },
            
            // Измерение FPS
            // MCP-MARKER:METHOD:CABINET:START_FPS_MEASUREMENT - Измерение FPS
            startFPSMeasurement: function() {
                let frameCount = 0;
                let lastTime = performance.now();
                
                const measureFPS = () => {
                    frameCount++;
                    const currentTime = performance.now();
                    
                    if (currentTime - lastTime >= 1000) {
                        const fps = Math.round((frameCount * 1000) / (currentTime - lastTime));
                        const element = document.getElementById('performance-fps');
                        if (element) element.textContent = `${fps} FPS`;
                        frameCount = 0;
                        lastTime = currentTime;
                    }
                    
                    requestAnimationFrame(measureFPS);
                };
                
                requestAnimationFrame(measureFPS);
            },
            
            // Обновление статистики
            // MCP-MARKER:METHOD:CABINET:UPDATE_STATS - Обновление статистики
            updateStats: function() {
                // Обновляем время последнего обновления
                const lastUpdateElement = document.getElementById('stats-last-update');
                if (lastUpdateElement) {
                    lastUpdateElement.textContent = new Date().toLocaleTimeString();
                }
                
                // Обновляем память браузера
                if (performance.memory) {
                    const usedMB = Math.round(performance.memory.usedJSHeapSize / 1024 / 1024);
                    const totalMB = Math.round(performance.memory.totalJSHeapSize / 1024 / 1024);
                    const memoryElement = document.getElementById('stats-memory-usage');
                    if (memoryElement) {
                        memoryElement.textContent = `${usedMB} MB / ${totalMB} MB`;
                    }
                }
                
                // Симулируем загрузку CPU (в реальном приложении это можно получить через Web Workers)
                const cpuUsage = Math.floor(Math.random() * 30) + 10; // 10-40%
                const cpuElement = document.getElementById('stats-cpu-usage');
                if (cpuElement) {
                    cpuElement.textContent = `${cpuUsage}%`;
                }
            },
            
            // Настройка обработчиков событий
            // MCP-MARKER:METHOD:CABINET:SETUP_EVENT_HANDLERS - Настройка обработчиков событий
            setupEventHandlers: function() {
                // Авторизация
                const authButton = document.getElementById('auth-button');
                const walletInput = document.getElementById('wallet-address');
                
                if (authButton) {
                    authButton.addEventListener('click', () => this.handleAuth());
                }
                
                if (walletInput) {
                    walletInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.handleAuth();
                        }
                    });
                }
                
                // Навигация по страницам
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.getAttribute('data-page');
                        if (page) {
                            this.navigateTo(page);
                        }
                    });
                });
                
                // Закрытие модалок по клику на overlay
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            modal.classList.add('hidden');
                        }
                    });
                });
            },
            
            // Обработка авторизации
            // MCP-MARKER:METHOD:CABINET:AUTH_HANDLER - Обработка авторизации
            // MCP-BREADCRUMB:2025-07-25:14:40 - Метод требует доработки интеграции с BSC
            handleAuth: async function() {
                console.log('🔐 handleAuth вызвана');
                
                const walletInput = document.getElementById('wallet-address');
                const authButton = document.getElementById('auth-button');
                
                console.log('🔍 Элементы найдены:', { walletInput: !!walletInput, authButton: !!authButton });
                
                if (!walletInput || !authButton) {
                    console.error('❌ Не найдены элементы формы авторизации');
                    return;
                }
                
                const address = walletInput.value.trim();
                console.log('📝 Введенный адрес:', address);
                
                // Валидация адреса
                if (!address) {
                    console.log('❌ Адрес пустой');
                    this.showNotification('Ошибка', 'Пожалуйста, введите BSC адрес', 'error');
                    return;
                }
                
                if (!address.match(/^0x[a-fA-F0-9]{40}$/)) {
                    console.log('❌ Неверный формат адреса');
                    this.showNotification('Ошибка', 'Неверный формат BSC адреса', 'error');
                    return;
                }
                
                console.log('✅ Адрес валиден, начинаем авторизацию');
                
                authButton.disabled = true;
                authButton.textContent = 'Проверка...';
                
                try {
                    // Проверка доступа к платформе
                    console.log('🔍 Проверка доступа к платформе для: ' + address);
                    
                    // Здесь будет реальная проверка через BSCScan
                    // Пока используем заглушку
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    // Сохранение адреса пользователя
                    localStorage.setItem('genesis_user_address', address);
                    this.state.userAddress = address;
                    this.state.isAuthenticated = true;
                    
                    console.log('✅ Авторизация успешна:', address);
                    console.log('💾 Адрес сохранен в localStorage');
                    
                    this.showNotification('Успех', 'Авторизация прошла успешно', 'success');
                    
                    console.log('🚀 Вызываем showCabinet...');
                    await this.showCabinet();
                    
                } catch (error) {
                    console.error('❌ Ошибка авторизации:', error);
                    this.showNotification('Ошибка', 'Ошибка авторизации. Попробуйте еще раз.', 'error');
                } finally {
                    authButton.disabled = false;
                    authButton.textContent = 'Войти в кабинет';
                }
            },
            
            // Показать модальное окно создания депозита
            // MCP-MARKER:METHOD:CABINET:SHOW_CREATE_DEPOSIT_MODAL - Показать модальное окно создания депозита
            showCreateDepositModal: function() {
                console.log('💰 Открытие модального окна создания депозита');
                
                // Проверяем доступ к платформе
                if (!this.state.platformAccess || !this.state.platformAccess.isActive) {
                    this.showNotification('Внимание', 'Необходимо пополнить доступ к платформе для создания депозитов', 'warning');
                    this.showPlatformAccessModal();
                    return;
                }
                
                // Проверяем инициализацию сервисов депозитов
                if (window.GenesisCabinet && window.GenesisCabinet.showDepositModal) {
                    // Используем систему из cabinet-deposit-integration.js
                    window.GenesisCabinet.showDepositModal();
                } else if (window.DepositCreationSystem && window.DepositCreationSystem.showDepositCreationModal) {
                    // Используем систему из deposit-creation-system.js
                    window.DepositCreationSystem.showDepositCreationModal();
                } else {
                    // Показываем базовое модальное окно
                    this.showBasicDepositModal();
                }
            },
            
            // Показать базовое модальное окно депозита
            // MCP-MARKER:METHOD:CABINET:SHOW_BASIC_DEPOSIT_MODAL - Показать базовое модальное окно депозита
            showBasicDepositModal: function() {
                const modal = document.getElementById('create-deposit-modal');
                const content = document.getElementById('deposit-modal-content');
                
                if (!modal || !content) {
                    this.showNotification('Ошибка', 'Модальное окно не найдено', 'error');
                    return;
                }
                
                // Генерируем базовый контент
                content.innerHTML = `
                    <div class="text-center padding-2rem">
                        <h3 class="color-primary margin-bottom-1-5rem">💰 Создание депозита</h3>
                        
                        <div class="qr-container">
                            <h4 class="color-secondary margin-bottom-1rem">📱 QR-код для оплаты</h4>
                            <div class="qr-code-box">
                                <img id="deposit-qr-code" src="" alt="QR код" />
                            </div>
                            <p class="color-text-secondary font-size-09rem">Отсканируйте QR-код в мобильном кошельке</p>
                        </div>
                        
                        <div class="qr-container">
                            <h4 class="color-warning margin-bottom-1rem">📋 Адрес для оплаты</h4>
                            <div class="address-container">
                                ${window.GENESIS_CONFIG.addresses.system}
                            </div>
                            <button onclick="window.CabinetApp.copyAddress()" class="btn-secondary width-100">
                                📋 Копировать адрес
                            </button>
                        </div>
                        
                        <div class="warning-container">
                            <h5 class="color-primary margin-bottom-05rem">ℹ️ Информация</h5>
                            <ul class="text-left color-text-secondary font-size-09rem margin-0 padding-left-1-5rem">
                                <li>Минимальная сумма: $25 USDT</li>
                                <li>Сеть: BSC (BEP-20)</li>
                                <li>Депозит активируется автоматически</li>
                                <li>Время подтверждения: 1-5 минут</li>
                            </ul>
                        </div>
                    </div>
                `;
                
                modal.classList.remove('hidden');
            },
            
            // Копировать адрес в буфер обмена
            // MCP-MARKER:METHOD:CABINET:COPY_ADDRESS - Копировать адрес в буфер обмена
            copyAddress: function(type) {
                let address;
                if (type === 'platform') {
                    address = window.GENESIS_CONFIG && window.GENESIS_CONFIG.addresses.platform || '0x000000000000000000000000000000000000dEaD';
                } else {
                    address = window.GENESIS_CONFIG && window.GENESIS_CONFIG.addresses.system || '0x0000000000000000000000000000000000000000';
                }
                // Original copyAddress logic continues below
                navigator.clipboard.writeText(address).then(() => {
                    this.showNotification('Успех', 'Адрес скопирован в буфер обмена', 'success');
                }).catch(err => {
                    console.error('Ошибка копирования:', err);
                    this.showNotification('Ошибка', 'Не удалось скопировать адрес', 'error');
                });
            },
            
            // Показать модальное окно пополнения доступа
            // MCP-MARKER:METHOD:CABINET:SHOW_PLATFORM_ACCESS_MODAL - Показать модальное окно пополнения доступа
            showPlatformAccessModal: function() {
                console.log('🔑 Открытие модального окна пополнения доступа');
                
                const modal = document.getElementById('platform-access-modal');
                const content = document.getElementById('platform-access-content');
                
                if (!modal || !content) {
                    this.showNotification('Ошибка', 'Модальное окно не найдено', 'error');
                    return;
                }
                
                // Генерируем контент для пополнения доступа
                content.innerHTML = `
                    <div class="text-center-padded">
                        <h4 class="warning-title">⚠️ Требуется пополнение доступа</h4>
                        
                        <div class="access-card-warning">
                            <div class="margin-bottom-1">
                                <div class="access-cost-label">Стоимость доступа:</div>
                                <div class="font-size-1-5 font-weight-700 access-cost-value">$1 в день</div>
                            </div>
                            <div class="access-description">
                                Минимальное пополнение: $10 USDT (на 10 дней)
                            </div>
                        </div>
                        
                        <div class="access-card-bordered">
                            <h5 class="qr-title">📱 QR-код для оплаты</h5>
                            <div class="qr-container">
                                <img id="platform-qr-code" src="" alt="QR код" />
                            </div>
                        </div>
                        
                        <div class="address-card">
                            <div class="address-label">Адрес для пополнения:</div>
                            <div class="address-value">
                                ${window.GENESIS_CONFIG.addresses.platform}
                            </div>
                        </div>
                        
                        <button onclick="window.CabinetApp.copyAddress('platform')" class="btn-warning btn-full-width">
                            📋 Копировать адрес
                        </button>
                    </div>
                `;
                
                modal.classList.remove('hidden');
            },
            
            // Показать уведомление
            // MCP-MARKER:METHOD:CABINET:SHOW_NOTIFICATION - Показать уведомление
            showNotification: function(title, message = '', type = 'info') {
                // Создаем уведомление
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: var(--bg-secondary);
                    border: 1px solid var(--border-color);
                    border-radius: 8px;
                    padding: 1rem 1.5rem;
                    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                    z-index: 1100;
                    animation: notificationSlideIn 0.3s ease-out;
                    min-width: 300px;
                    max-width: 400px;
                `;
                
                // Цвет границы в зависимости от типа
                const borderColors = {
                    'success': 'var(--success-color)',
                    'error': 'var(--error-color)',
                    'warning': 'var(--warning-color)',
                    'info': 'var(--secondary-color)'
                };
                notification.style.borderLeftWidth = '4px';
                notification.style.borderLeftColor = borderColors[type] || borderColors.info;
                
                // Иконки для разных типов
                const icons = {
                    'success': '✅',
                    'error': '❌',
                    'warning': '⚠️',
                    'info': 'ℹ️'
                };
                
                notification.innerHTML = `
                    <div class="notification-icon notification-icon-large">${icons[type] || icons.info}</div>
                    <div class="notification-content">
                        <h4 class="notification-title-style">${title}</h4>
                        ${message ? `<p class="notification-message-style">${message}</p>` : ''}
                    </div>
                    <button onclick="this.parentElement.remove()" class="notification-close-btn">×</button>
                `;
                
                // Добавляем в контейнер
                let container = document.getElementById('notification-container');
                if (!container) {
                    container = document.createElement('div');
                    container.id = 'notification-container';
                    document.body.appendChild(container);
                }
                container.appendChild(notification);
                
                // Автоматическое скрытие
                setTimeout(() => {
                    notification.style.animation = 'notificationSlideOut 0.3s ease-out';
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }, type === 'error' ? 7000 : 4000);
            },
            
            // Показать экран авторизации
            // MCP-MARKER:METHOD:CABINET:SHOW_AUTH_SCREEN - Показать экран авторизации
            showAuthScreen: function() {
                // Убираем класс для скрытия терминала
                document.body.classList.remove('cabinet-mode');
                
                document.getElementById('loading-screen').classList.add('hidden');
                document.getElementById('auth-screen').classList.remove('hidden');
                document.getElementById('cabinet-app').classList.add('hidden');
                
                // Фокус на поле ввода
                setTimeout(() => {
                    const walletInput = document.getElementById('wallet-address');
                    if (walletInput) walletInput.focus();
                }, 100);
            },
            
            // Показать кабинет
            // MCP-MARKER:METHOD:CABINET:SHOW_CABINET - Показать кабинет
            showCabinet: async function() {
                console.log('🏠 showCabinet вызвана');
                
                // Добавляем класс для показа терминала
                document.body.classList.add('cabinet-mode');
                
                // Делаем терминал видимым
                const terminal = document.getElementById('genesis-terminal');
                if (terminal) {
                    terminal.classList.add('visible');
                }
                
                try {
                    document.getElementById('loading-screen').classList.add('hidden');
                    document.getElementById('auth-screen').classList.add('hidden');
                    document.getElementById('cabinet-app').classList.remove('hidden');
                    
                    console.log('✅ Экраны переключены');
                    
                    // Отображение адреса пользователя
                    const addressDisplay = document.getElementById('user-address-display');
                    if (addressDisplay) {
                        addressDisplay.textContent = this.state.userAddress.slice(0, 6) + '...' + this.state.userAddress.slice(-4);
                        console.log('👤 Адрес пользователя отображен');
                    } else {
                        console.warn('⚠️ Элемент user-address-display не найден');
                    }
                    
                    console.log('🔍 Проверяем доступ к платформе...');
                    // Проверка доступа к платформе
                    await this.checkPlatformAccess();
                    
                    console.log('📊 Загружаем данные пользователя...');
                    // Загрузка данных пользователя
                    await this.loadUserData();
                    
                    console.log('🔧 Настраиваем обработчики событий...');
                    // Настройка обработчиков событий
                    this.setupEventHandlers();
                    
                    console.log('📋 Переходим на панель управления...');
                    // Показать панель управления
                    this.navigateTo('dashboard');
                    
                    console.log('✅ Кабинет успешно показан');
                    
                } catch (error) {
                    console.error('❌ Ошибка в showCabinet:', error);
                }
            },
            
            // Проверка доступа к платформе
            // MCP-MARKER:METHOD:CABINET:PLATFORM_ACCESS_CHECK - Проверка доступа к платформе
            // MCP-BREADCRUMB:2025-07-25:14:40 - Критический метод, требует полной реализации
            checkPlatformAccess: async function() {
                const statusIndicator = document.getElementById('access-status-indicator');
                const statusIcon = document.getElementById('access-status-icon');
                const statusText = document.getElementById('access-status-text');
                const daysCount = document.getElementById('access-days-count');
                
                if (!statusIndicator) return;
                
                statusIndicator.style.display = 'flex';
                
                try {
                    // Здесь будет реальная проверка через BSCScan
                    // Пока используем заглушку
                    const mockAccess = {
                        isActive: true,
                        daysRemaining: 7,
                        status: 'active'
                    };
                    
                    this.state.platformAccess = mockAccess;
                    
                    if (mockAccess.isActive) {
                        statusIndicator.className = 'access-status active tooltip';
                        statusIcon.textContent = '✅';
                        statusText.textContent = 'Доступ активен';
                        daysCount.textContent = mockAccess.daysRemaining + ' дней';
                        
                        if (mockAccess.daysRemaining <= 3) {
                            statusIndicator.className = 'access-status warning tooltip';
                            statusIcon.textContent = '⚠️';
                            this.showNotification('Внимание', `Доступ истекает через ${mockAccess.daysRemaining} дней`, 'warning');
                        }
                    } else {
                        statusIndicator.className = 'access-status inactive tooltip';
                        statusIcon.textContent = '❌';
                        statusText.textContent = 'Доступ истек';
                        daysCount.textContent = '0 дней';
                        this.showNotification('Внимание', 'Необходимо пополнить доступ к платформе', 'error');
                    }
                    
                } catch (error) {
                    debugLog('Ошибка проверки доступа: ' + error.message, 'error');
                    statusIndicator.className = 'access-status inactive tooltip';
                    statusIcon.textContent = '⚠️';
                    statusText.textContent = 'Ошибка проверки';
                }
            },
            
            // Загрузка данных пользователя
            // MCP-MARKER:METHOD:CABINET:USER_DATA_LOAD - Загрузка данных пользователя
            loadUserData: async function() {
                try {
                    debugLog('Загрузка данных пользователя...', 'info');
                    
                    // Здесь будет загрузка реальных данных из блокчейна
                    // Пока используем заглушки
                    
                    debugLog('Данные пользователя загружены', 'success');
                } catch (error) {
                    debugLog('Ошибка загрузки данных: ' + error.message, 'error');
                }
            },
            
            // Навигация по страницам
            // MCP-MARKER:METHOD:CABINET:NAVIGATION - Навигация по страницам
            navigateTo: function(page) {
                debugLog('Переход на страницу: ' + page, 'info');
                
                // Обновление активной ссылки
                document.querySelectorAll('.nav-link').forEach(link => {
                    if (link.getAttribute('data-page') === page) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
                
                this.state.currentPage = page;
                
                // Закрытие мобильного меню
                if (window.innerWidth <= 768) {
                    document.getElementById('cabinet-sidebar').classList.remove('active');
                    this.state.isMobileMenuOpen = false;
                }
                
                // Загрузка контента страницы
                this.loadPageContent(page);
            },
            
            // Загрузка контента страницы
            // MCP-MARKER:METHOD:CABINET:PAGE_CONTENT_LOADER - Загрузчик контента страниц
            loadPageContent: function(page) {
                const contentContainer = document.getElementById('page-content');
                if (!contentContainer) return;
                
                // Здесь будет загрузка реального контента страниц
                let content = '';
                
                switch(page) {
                    case 'dashboard':
                        content = this.getDashboardContent();
                        break;
                    case 'portfolio':
                        content = this.getPortfolioContent();
                        break;
                    case 'transactions':
                        content = this.getTransactionsContent();
                        break;
                    case 'analytics':
                        content = this.getAnalyticsContent();
                        break;
                    case 'bonuses':
                        content = this.getBonusesContent();
                        break;
                    case 'gifts':
                        content = this.getGiftsContent();
                        break;
                    case 'referrals':
                        content = this.getReferralsContent();
                        break;
                    case 'multipliers':
                        content = this.getMultipliersContent();
                        break;
                    case 'mining-rent':
                        content = this.getMiningRentContent();
                        break;
                    case 'my-device':
                        content = this.getMyDeviceContent();
                        break;
                    case 'install-app':
                        content = this.getInstallAppContent();
                        break;
                    case 'plex-coin':
                        content = this.getPlexCoinContent();
                        break;
                    case 'settings':
                        content = this.getSettingsContent();
                        break;
                    case 'experience':
                        content = this.getExperienceContent();
                        break;
                    case 'rank':
                        content = this.getRankContent();
                        break;
                    case 'how-it-works':
                        content = this.getHowItWorksContent();
                        break;
                    default:
                        content = this.getDashboardContent();
                }
                
                contentContainer.innerHTML = content;
                
                // Инициализация специфичных для страницы скриптов
                this.initPageSpecificScripts(page);
            },
            
            // Инициализация скриптов для конкретной страницы
            initPageSpecificScripts: function(page) {
                switch(page) {
                    case 'my-device':
                        // Инициализация сервиса технической информации
                        if (window.GenesisTechInfo) {
                            console.log('🔧 Инициализация GenesisTechInfo для страницы устройства');
                            // Сервис уже автоматически инициализируется при загрузке techInfo.js
                            
                            // Запускаем расширение страницы для PWA функционала
                            if (window.extendDevicePage) {
                                setTimeout(() => {
                                    window.extendDevicePage();
                                }, 500);
                            }
                        } else {
                            console.warn('⚠️ GenesisTechInfo не найден, инициализируем базовую версию');
                            
                            // Базовая инициализация для обновления элементов
                            setTimeout(() => {
                                this.updateBasicDeviceInfo();
                                if (window.extendDevicePage) {
                                    window.extendDevicePage();
                                }
                            }, 500);
                        }
                        break;
                    case 'portfolio':
                        // Обновляем прогресс-бары после рендеринга
                        setTimeout(() => {
                            const progressBars = document.querySelectorAll('.progress-bar[data-progress]');
                            progressBars.forEach(bar => {
                                const progress = parseFloat(bar.getAttribute('data-progress')) || 0;
                                bar.style.width = progress + '%';
                            });
                        }, 100);
                        break;
                }
            },
            
            // Базовое обновление информации об устройстве (fallback если GenesisTechInfo недоступен)
            // MCP-MARKER:METHOD:CABINET:UPDATE_BASIC_DEVICE_INFO - Базовое обновление информации об устройстве
            updateBasicDeviceInfo: function() {
                console.log('🔧 Базовое обновление информации об устройстве');
                
                try {
                    // Обновляем базовые элементы интерфейса
                    const updates = {
                        'device-platform': navigator.platform || 'Неизвестно',
                        'device-browser': this.getBrowserName(),
                        'device-language': navigator.language || 'Неизвестно',
                        'device-resolution': `${screen.width} × ${screen.height}`,
                        'device-viewport': `${window.innerWidth} × ${window.innerHeight}`,
                        'device-pixel-ratio': window.devicePixelRatio || 'Неизвестно',
                        'device-color-depth': screen.colorDepth ? `${screen.colorDepth} бит` : 'Неизвестно',
                        'device-timezone': Intl.DateTimeFormat().resolvedOptions().timeZone || 'Неизвестно',
                        'network-status': navigator.onLine ? '🟢 Онлайн' : '🔴 Офлайн',
                        'performance-cpu-cores': `${navigator.hardwareConcurrency || 'Неизвестно'} ядер`,
                        'performance-service-workers': 'serviceWorker' in navigator ? '✅ Поддерживается' : '❌ Не поддерживается',
                        'security-protocol': location.protocol,
                        'security-encryption': location.protocol === 'https:' ? '🔒 TLS/SSL' : '⚠️ HTTP',
                        'security-cookies': navigator.cookieEnabled ? '✅ Включены' : '❌ Отключены'
                    };
                    
                    // Применяем обновления
                    Object.entries(updates).forEach(([elementId, value]) => {
                        const element = document.getElementById(elementId);
                        if (element) {
                            element.textContent = value;
                            element.style.animation = 'techUpdate 0.3s ease-in-out';
                        }
                    });
                    
                    // Показываем галочки на карточках с задержкой
                    setTimeout(() => {
                        document.querySelectorAll('.tech-card-checkmark').forEach((checkmark, index) => {
                            setTimeout(() => {
                                checkmark.style.opacity = '1';
                                checkmark.classList.add('show');
                            }, index * 200);
                        });
                    }, 1000);
                    
                    console.log('✅ Базовая информация об устройстве обновлена');
                } catch (error) {
                    console.error('❌ Ошибка обновления базовой информации:', error);
                }
            },
            
            // Получение названия браузера
            getBrowserName: function() {
                const ua = navigator.userAgent;
                if (ua.includes('Chrome') && !ua.includes('Edg')) return 'Chrome';
                if (ua.includes('Firefox')) return 'Firefox';
                if (ua.includes('Safari') && !ua.includes('Chrome')) return 'Safari';
                if (ua.includes('Edg')) return 'Edge';
                if (ua.includes('Opera')) return 'Opera';
                return 'Неизвестный браузер';
            },
            
            // Методы генерации контента для каждой страницы
            getDashboardContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📊 Панель управления</h2>
                        <p class="page-subtitle">Обзор вашей активности в системе GENESIS 1.1</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Общий баланс</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">0.00</div>
                            <div class="stats-change">USDT</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Активные депозиты</span>
                                <span class="stats-icon">📈</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">штук</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Общий доход</span>
                                <span class="stats-icon">🚀</span>
                            </div>
                            <div class="stats-value">0.00</div>
                            <div class="stats-change">USDT</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Доход за сегодня</span>
                                <span class="stats-icon">📅</span>
                            </div>
                            <div class="stats-value">0.00</div>
                            <div class="stats-change">USDT</div>
                        </div>
                    </div>
                    
                    <div class="margin-bottom-large">
                        <h3 class="color-text-primary margin-bottom-medium">Быстрые действия</h3>
                        <div class="flex-gap flex-wrap">
                            <button class="btn btn-secondary" onclick="window.CabinetApp.showCreateDepositModal()">
                                💰 Создать депозит
                            </button>
                            <button class="btn btn-outline" onclick="window.CabinetApp.showPlatformAccessModal()">
                                🔑 Пополнить доступ
                            </button>
                            <button class="btn btn-outline" onclick="window.CabinetApp.navigateTo('analytics')">
                                📊 Аналитика
                            </button>
                            <button class="btn btn-outline" onclick="window.CabinetApp.navigateTo('settings')">
                                ⚙️ Настройки
                            </button>
                        </div>
                    </div>
                `;
            },
            
            getMultipliersContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">⚡ Множители</h2>
                        <p class="page-subtitle">Активируйте бонусные множители для увеличения доходности</p>
                    </div>

                    <div class="multiplier-grid">
                        <div>
                            <div class="stats-card mb-2">
                                <h3 class="bonus-title">
                                    <span>⚡</span> Активные множители
                                </h3>
                                
                                <div class="grid grid-auto-fit-200 gap-1 mb-2">
                                    <div class="multiplier-card multiplier-card-active">
                                        <div class="multiplier-icon">🔥</div>
                                        <h5 class="multiplier-title">Огненный</h5>
                                        <div class="multiplier-value color-success">x2.5</div>
                                        <div class="multiplier-time">Осталось: 4ч 23м</div>
                                        <div class="multiplier-progress">
                                            <div class="multiplier-progress-bar bg-success width-72"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="multiplier-card multiplier-card-secondary">
                                        <div class="multiplier-icon">💎</div>
                                        <h5 class="multiplier-title">Алмазный</h5>
                                        <div class="multiplier-value color-secondary">x1.8</div>
                                        <div class="multiplier-time">Осталось: 12ч 45м</div>
                                        <div class="multiplier-progress">
                                            <div class="multiplier-progress-bar bg-secondary width-53"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="multiplier-card multiplier-card-warning">
                                        <div class="multiplier-icon">⭐</div>
                                        <h5 class="multiplier-title">Звездный</h5>
                                        <div class="multiplier-value color-warning">x3.2</div>
                                        <div class="multiplier-time">Осталось: 23ч 17м</div>
                                        <div class="multiplier-progress">
                                            <div class="multiplier-progress-bar bg-warning width-97"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-primary p-1-5 border-radius-12 mb-2">
                                    <h4 class="bonus-item-title mb-1">📊 Эффект множителей</h4>
                                    
                                    <div class="effect-grid">
                                        <div class="effect-item">
                                            <div class="effect-label">Базовая доходность</div>
                                            <div class="effect-value text-primary">$45.20/день</div>
                                        </div>
                                        <div class="effect-item">
                                            <div class="effect-label">С множителями</div>
                                            <div class="effect-value text-success">$247.83/день</div>
                                        </div>
                                        <div class="effect-item">
                                            <div class="effect-label">Суммарный множитель</div>
                                            <div class="effect-value color-primary">x5.48</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <h4 class="bonus-item-title mb-1">🛒 Доступные множители</h4>
                                
                                <div class="available-grid">
                                    <div class="multiplier-shop-card">
                                        <div class="multiplier-header">
                                            <div class="multiplier-name">
                                                <span class="font-size-1-5">🚀</span>
                                                <h5 class="bonus-item-title">Турбо x2.0</h5>
                                            </div>
                                            <span class="multiplier-badge badge-success">6 часов</span>
                                        </div>
                                        <p class="multiplier-description">Удваивает доходность от всех источников на 6 часов</p>
                                        <div class="multiplier-price">
                                            <span class="multiplier-cost">Стоимость: $25</span>
                                            <span class="multiplier-alt">или 500 PLEX</span>
                                        </div>
                                        <button class="btn w-100" onclick="window.CabinetApp.activateMultiplier('turbo')">
                                            🚀 Активировать
                                        </button>
                                    </div>
                                    
                                    <div class="multiplier-shop-card">
                                        <div class="multiplier-header">
                                            <div class="multiplier-name">
                                                <span class="font-size-1-5">⚡</span>
                                                <h5 class="bonus-item-title">Молния x4.0</h5>
                                            </div>
                                            <span class="multiplier-badge badge-primary">3 часа</span>
                                        </div>
                                        <p class="multiplier-description">Увеличивает доходность в 4 раза на 3 часа</p>
                                        <div class="multiplier-price">
                                            <span class="multiplier-cost">Стоимость: $45</span>
                                            <span class="multiplier-alt">или 900 PLEX</span>
                                        </div>
                                        <button class="btn w-100" onclick="window.CabinetApp.activateMultiplier('lightning')">
                                            ⚡ Активировать
                                        </button>
                                    </div>
                                    
                                    <div class="multiplier-shop-card border-warning">
                                        <div class="multiplier-header">
                                            <div class="multiplier-name">
                                                <span class="font-size-1-5">🌟</span>
                                                <h5 class="bonus-item-title">Супер x7.5</h5>
                                            </div>
                                            <span class="multiplier-badge badge-warning">1 час</span>
                                        </div>
                                        <p class="multiplier-description">Максимальный множитель - увеличение в 7.5 раз на час</p>
                                        <div class="multiplier-price">
                                            <span class="multiplier-cost">Стоимость: $85</span>
                                            <span class="multiplier-alt">или 1700 PLEX</span>
                                        </div>
                                        <button class="btn w-100" onclick="window.CabinetApp.activateMultiplier('super')">
                                            🌟 Активировать
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="stats-card mb-1-5">
                                <h3 class="bonus-title color-secondary">
                                    <span>📊</span> Статистика
                                </h3>
                                
                                <div class="mb-1">
                                    <div class="flex flex-space-between mb-0-5">
                                        <span class="text-secondary">Активировано сегодня:</span>
                                        <span class="font-weight-600 color-success">3</span>
                                    </div>
                                    <div class="flex flex-space-between mb-0-5">
                                        <span class="text-secondary">Всего за месяц:</span>
                                        <span class="text-primary font-weight-600">47</span>
                                    </div>
                                    <div class="flex flex-space-between mb-0-5">
                                        <span class="text-secondary">Дополнительно заработано:</span>
                                        <span class="font-weight-600 color-primary">$2,847</span>
                                    </div>
                                    <div class="flex flex-space-between">
                                        <span class="text-secondary">Потрачено PLEX:</span>
                                        <span class="font-weight-600 color-warning">15,680</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-card mb-1-5">
                                <h3 class="bonus-title color-warning">
                                    <span>🎁</span> Акции
                                </h3>
                                
                                <div class="promo-card promo-card-success">
                                    <h5 class="promo-title">🔥 Горящее предложение!</h5>
                                    <p class="promo-description">Купи 3 множителя - получи 4-й бесплатно!</p>
                                    <div class="promo-footer">
                                        <span class="promo-timer color-success">Осталось: 2ч 45м</span>
                                        <button class="btn-secondary promo-btn">🔥 Участвовать</button>
                                    </div>
                                </div>
                                
                                <div class="promo-card promo-card-secondary">
                                    <h5 class="promo-title">💎 VIP бонус</h5>
                                    <p class="promo-description">Скидка 20% на все множители для VIP пользователей</p>
                                    <span class="promo-permanent">Постоянно активно</span>
                                </div>
                            </div>
                            
                            <div class="stats-card">
                                <h3 class="bonus-title color-primary">
                                    <span>🏆</span> Рекорды
                                </h3>
                                
                                <div class="records-grid">
                                    <div class="record-item">
                                        <span class="record-label">Максимальный множитель:</span>
                                        <span class="record-value color-warning">x12.5</span>
                                    </div>
                                    <div class="record-item">
                                        <span class="record-label">Самая долгая активация:</span>
                                        <span class="record-value text-primary">72 часа</span>
                                    </div>
                                    <div class="record-item">
                                        <span class="record-label">Рекордный заработок:</span>
                                        <span class="record-value text-success">$847/час</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            getMiningRentContent: function() {
                // Инициализируем сервис если еще не инициализирован
                if (window.miningRentService && !window.miningRentService.initialized) {
                    window.miningRentService.init();
                    window.miningRentService.initialized = true;
                }
                
                // Используем сервис для рендеринга страницы
                if (window.miningRentService && window.miningRentService.renderMiningRentPage) {
                    return window.miningRentService.renderMiningRentPage();
                }
                
                // Если сервис не загружен, показываем полную страницу аренды мощностей
                return `
                    <div class="page-header">
                        <h2 class="page-title">💻 Аренда мощностей</h2>
                        <p class="page-subtitle">Зарабатывайте на неиспользуемых ресурсах вашего устройства</p>
                    </div>
                    
                    <!-- Статистика аренды -->
                    <div class="stats-grid stats-mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Статус аренды</span>
                                <span class="stats-icon">🔴</span>
                            </div>
                            <div class="stats-value">Не активна</div>
                            <div class="stats-change">готов к запуску</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Заработано всего</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">USDT</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Заработано сегодня</span>
                                <span class="stats-icon">📅</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">за последние 24ч</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Мощность устройства</span>
                                <span class="stats-icon">⚡</span>
                            </div>
                            <div class="stats-value">Средняя</div>
                            <div class="stats-change">определяется автоматически</div>
                        </div>
                    </div>
                    
                    <!-- Информация об аренде -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">📋 Как это работает</h3>
                        <div class="background-secondary padding-large border-radius-large border-1-solid">
                            <div class="rental-info-grid">
                                <div class="rental-info-item">
                                    <div class="rental-info-icon">🖥️</div>
                                    <h4 class="rental-info-title">Используйте простои</h4>
                                    <p class="rental-info-description">Ваше устройство сдает в аренду неиспользуемые вычислительные мощности</p>
                                </div>
                                
                                <div class="rental-info-item">
                                    <div class="rental-info-icon">�</div>
                                    <h4 class="rental-info-title">Полная безопасность</h4>
                                    <p class="rental-info-description">Процесс полностью безопасен и не влияет на вашу работу</p>
                                </div>
                                
                                <div class="rental-info-item">
                                    <div class="rental-info-icon">💵</div>
                                    <h4 class="rental-info-title">Стабильный доход</h4>
                                    <p class="rental-info-description">Получайте криптовалюту каждый день на ваш кошелек</p>
                                </div>
                                
                                <div class="rental-info-item">
                                    <div class="rental-info-icon">⚙️</div>
                                    <h4 class="rental-info-title">Настройка нагрузки</h4>
                                    <p class="rental-info-description">Контролируйте интенсивность использования ресурсов</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Настройки аренды -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">⚙️ Настройки аренды</h3>
                        <div class="background-secondary padding-large border-radius-large border-1-solid">
                            <div class="rental-settings">
                                <div class="setting-item">
                                    <div class="setting-label">
                                        <span class="setting-title">Интенсивность использования CPU</span>
                                        <span class="setting-value">50%</span>
                                    </div>
                                    <div class="setting-slider">
                                        <input type="range" min="10" max="90" value="50" class="slider" id="cpu-intensity">
                                    </div>
                                </div>
                                
                                <div class="setting-item">
                                    <div class="setting-label">
                                        <span class="setting-title">Максимальное время работы</span>
                                        <span class="setting-value">8 часов</span>
                                    </div>
                                    <div class="setting-slider">
                                        <input type="range" min="1" max="24" value="8" class="slider" id="work-time">
                                    </div>
                                </div>
                                
                                <div class="setting-item">
                                    <div class="setting-label">
                                        <span class="setting-title">Работа в фоновом режиме</span>
                                        <span class="setting-toggle">
                                            <input type="checkbox" id="background-mode" checked>
                                            <label for="background-mode"></label>
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="setting-item">
                                    <div class="setting-label">
                                        <span class="setting-title">Автоматический запуск</span>
                                        <span class="setting-toggle">
                                            <input type="checkbox" id="auto-start">
                                            <label for="auto-start"></label>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Действия -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">🚀 Управление</h3>
                        <div class="rental-actions">
                            <button class="btn btn-primary rental-action-btn" onclick="window.CabinetApp.startMiningRent()">
                                ▶️ Запустить аренду
                            </button>
                            <button class="btn btn-secondary rental-action-btn" onclick="window.CabinetApp.stopMiningRent()" disabled>
                                ⏹️ Остановить аренду
                            </button>
                            <button class="btn btn-outline rental-action-btn" onclick="window.CabinetApp.showRentalStats()">
                                📊 Подробная статистика
                            </button>
                            <button class="btn btn-outline rental-action-btn" onclick="window.CabinetApp.showRentalHistory()">
                                📜 История заработка
                            </button>
                        </div>
                    </div>
                    
                    <!-- Информационный блок -->
                    <div class="info-block">
                        <h4 class="info-title">💡 Важная информация</h4>
                        <ul class="info-list">
                            <li class="info-list-item">✅ Аренда мощностей полностью безопасна для вашего устройства</li>
                            <li class="info-list-item">✅ Вы можете в любой момент остановить процесс</li>
                            <li class="info-list-item">✅ Заработок зависит от мощности устройства и времени работы</li>
                            <li class="info-list-item">✅ Выплаты производятся ежедневно в криптовалюте</li>
                            <li class="info-list-item">✅ Рекомендуется использовать стабильное интернет-соединение</li>
                        </ul>
                    </div>
                `;
            },
            
            getSettingsContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">⚙️ Настройки</h2>
                        <p class="page-subtitle">Управление вашим аккаунтом</p>
                    </div>
                    
                    <div class="bg-secondary padding-2rem border-radius-12px border-1px-border">
                        <h3 class="color-primary margin-bottom-1-5rem">Основные настройки</h3>
                        
                        <div class="margin-bottom-1-5rem">
                            <label class="display-block color-text-secondary margin-bottom-05rem">BSC Адрес:</label>
                            <div class="font-monospace bg-tertiary padding-1rem border-radius-6px word-break-all">
                                ${this.state.userAddress || 'Не указан'}
                            </div>
                        </div>
                        
                        <button class="btn btn-outline" onclick="window.logout()">
                            🚪 Выйти из аккаунта
                        </button>
                    </div>
                `;
            },
            
            getExperienceContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📅 Стаж</h2>
                        <p class="page-subtitle">Ваш опыт работы с платформой</p>
                    </div>
                    
                    <div class="stats-card">
                        <div class="stats-header">
                            <span class="stats-title">Дней на платформе</span>
                            <span class="stats-icon">📅</span>
                        </div>
                        <div class="stats-value">0</div>
                        <div class="stats-change">дней</div>
                    </div>
                `;
            },
            
            getRankContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🏅 Ранг</h2>
                        <p class="page-subtitle">Ваш статус в системе</p>
                    </div>
                    
                    <div class="stats-card">
                        <div class="stats-header">
                            <span class="stats-title">Текущий ранг</span>
                            <span class="stats-icon">🏅</span>
                        </div>
                        <div class="stats-value font-size-1-5rem">Новичок</div>
                        <div class="stats-change color-text-secondary">Начальный уровень</div>
                    </div>
                `;
            },
            
            getHowItWorksContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🛠️ Как все устроено</h2>
                        <p class="page-subtitle">Добро пожаловать в экосистему GENESIS 1.1 на базе монеты PLEX ONE</p>
                    </div>
                    
                    <div class="content-section">
                        <div class="info-banner">
                            <div class="info-icon">🌟</div>
                            <div class="info-content">
                                <h3>Рады вас приветствовать!</h3>
                                <p>Это один из ключевых сайтов нашей экосистемы на базе монеты PLEX ONE. Здесь вы можете начать зарабатывать сразу и все больше каждый день, каждый час и каждую минуту.</p>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3 class="section-title">📋 Пошаговый план заработка</h3>
                        
                        <div class="steps-container">
                            <div class="step-card">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>🔑 Оплатить доступ к сайту</h4>
                                    <p>Первый шаг - получить доступ к функциям платформы</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>💰 Купить тестовый депозит</h4>
                                    <p>Убедитесь, что прибыль по депозиту приходит на ваш кошелек</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>🎁 Посетить раздел "Бонусы и подарки"</h4>
                                    <p>Если вы уже участвуете в инструментах экосистемы</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>⚡ Купить первый множитель доходности</h4>
                                    <p>Доступны в разделе "Множители"</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">5</div>
                                <div class="step-content">
                                    <h4>📈 Приобрести первый депозит</h4>
                                    <p>Не тестовый, а полноценный депозит для заработка</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">6</div>
                                <div class="step-content">
                                    <h4>💻 Подключиться к программе аренды мощностей</h4>
                                    <p>Получайте криптовалюту, сдавая в аренду часть мощностей вашего устройства. Посмотрите раздел "Аренда мощностей"</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">7</div>
                                <div class="step-content">
                                    <h4>🏆 Проверить разделы "Стаж" и "Ранг"</h4>
                                    <p><strong>Стаж</strong> - ваш опыт в каждом инструменте системы, который превращается в монету Стаж и автоматически начисляется при росте опыта</p>
                                    <p><strong>Ранг</strong> - монета, которая начисляется в зависимости от стажа и количества PLEX ONE на кошельке более одной недели</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">8</div>
                                <div class="step-content">
                                    <h4>💎 Покупка множителей за Ранг и Стаж</h4>
                                    <p>После начисления Ранга и Стажа вы можете покупать множители за эти монеты</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">9</div>
                                <div class="step-content">
                                    <h4>🚀 Применение мощных множителей</h4>
                                    <p>Применяйте множители на активные депозиты и начинайте получать в десятки раз больше прибыли</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3 class="section-title">🔧 Архитектура системы</h3>
                        
                        <div class="architecture-info">
                            <div class="arch-card">
                                <div class="arch-icon">🌐</div>
                                <div class="arch-content">
                                    <h4>Блокчейн как база данных</h4>
                                    <p>На этом сайте реализована передовая DeFi система учета, анализа и наград пользователя. В качестве базы данных выступает сам блокчейн.</p>
                                </div>
                            </div>
                            
                            <div class="arch-card">
                                <div class="arch-icon">📊</div>
                                <div class="arch-content">
                                    <h4>Анализ активности кошелька</h4>
                                    <p>Анализ проводится по результатам активности вашего кошелька. Для системы вы = адрес вашего кошелька.</p>
                                </div>
                            </div>
                            
                            <div class="arch-card">
                                <div class="arch-icon">🔒</div>
                                <div class="arch-content">
                                    <h4>Анонимная работа</h4>
                                    <p>Ваши действия, прогресс и награды система вычисляет по действиям кошелька. Это значит, что вы можете работать анонимно.</p>
                                </div>
                            </div>
                            
                            <div class="arch-card">
                                <div class="arch-icon">💵</div>
                                <div class="arch-content">
                                    <h4>Высокая доходность</h4>
                                    <p>Вы можете зарабатывать много - вплоть до нескольких долларов в минуту.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <div class="warning-banner">
                            <div class="warning-icon">⚠️</div>
                            <div class="warning-content">
                                <h4>⚠️ ВАЖНО! Безопасность кошелька</h4>
                                <p><strong>Если вы потеряли доступ к своему кошельку = вы потеряли доход и деньги. Мы помочь не сможем!</strong></p>
                                <ul>
                                    <li>Храните сид-фразу и/или приватный ключ в надежном месте</li>
                                    <li>Никогда и никому не передавайте доступ к своему кошельку</li>
                                    <li>Сделайте несколько резервных копий</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3 class="section-title">⚡ Что такое множитель?</h3>
                        
                        <div class="multiplier-explanation">
                            <div class="multiplier-card">
                                <div class="multiplier-icon">📈</div>
                                <div class="multiplier-content">
                                    <h4>Множитель доходности</h4>
                                    <p>Это ваша возможность получать пассивный доход в <strong>10, 20, 30 раз выше</strong> на ограниченный период времени.</p>
                                </div>
                            </div>
                            
                            <div class="example-card">
                                <h4>💡 Пример расчета:</h4>
                                <div class="calculation">
                                    <div class="calc-step">
                                        <span class="calc-label">Базовый доход:</span>
                                        <span class="calc-value">10 центов в минуту</span>
                                    </div>
                                    <div class="calc-step">
                                        <span class="calc-label">В сутках минут:</span>
                                        <span class="calc-value">1440</span>
                                    </div>
                                    <div class="calc-step">
                                        <span class="calc-label">Доход за сутки без множителя:</span>
                                        <span class="calc-value">144 доллара</span>
                                    </div>
                                    <div class="calc-divider"></div>
                                    <div class="calc-step multiplier-example">
                                        <span class="calc-label">Множитель x30 на 4 часа:</span>
                                        <span class="calc-value">864 доллара вместо 144</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="multiplier-info">
                                <h4>📋 Особенности множителей:</h4>
                                <ul>
                                    <li>Система не всегда располагает свободными множителями</li>
                                    <li>Они стоят довольно дорого</li>
                                    <li>Самые эффективные множители доступны только за PLEX ONE</li>
                                    <li>Некоторые ударные множители доступны только за монеты Стаж и Ранг</li>
                                    <li>Ударные множители приносят очень высокий доход</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <div class="success-banner">
                            <div class="success-icon">🎯</div>
                            <div class="success-content">
                                <h4>Готовы начать зарабатывать?</h4>
                                <p>Теперь вы знаете, как устроена система GENESIS 1.1. Начните с первого шага - оплаты доступа к платформе!</p>
                                <div class="action-buttons">
                                    <button class="btn btn-primary" onclick="window.CabinetApp.showPlatformAccessModal()">
                                        🔑 Оплатить доступ
                                    </button>
                                    <button class="btn btn-secondary" onclick="window.CabinetApp.navigateTo('portfolio')">
                                        💰 Перейти к депозитам
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // Вспомогательные методы
            showLoadingScreen: function() {
                // Убираем класс для скрытия терминала
                document.body.classList.remove('cabinet-mode');
                
                document.getElementById('loading-screen').classList.remove('hidden');
                document.getElementById('auth-screen').classList.add('hidden');
                document.getElementById('cabinet-app').classList.add('hidden');
            },
            
            checkAuth: function() {
                const savedAddress = localStorage.getItem('genesis_user_address');
                if (savedAddress) {
                    this.state.userAddress = savedAddress;
                    this.state.isAuthenticated = true;
                    this.showCabinet();
                } else {
                    this.showAuthScreen();
                }
            },
            
            setupAuthHandler: function() {
                const authButton = document.getElementById('auth-button');
                const walletInput = document.getElementById('wallet-address');
                
                console.log('🔧 setupAuthHandler вызван');
                console.log('Auth button:', authButton);
                console.log('Wallet input:', walletInput);
                
                if (authButton) {
                    authButton.onclick = () => {
                        console.log('🖱️ Клик на кнопке авторизации');
                        this.handleAuth();
                    };
                    console.log('✅ Обработчик onclick установлен');
                }
                
                if (walletInput) {
                    walletInput.onkeypress = (e) => {
                        if (e.key === 'Enter') {
                            console.log('⌨️ Enter нажат в поле ввода');
                            this.handleAuth();
                        }
                    };
                    console.log('✅ Обработчик onkeypress установлен');
                }
            },
            
            updateDeviceInfo: function() {
                // Обновление информации об устройстве
                const browserElement = document.getElementById('device-browser');
                const platformElement = document.getElementById('device-platform');
                const languageElement = document.getElementById('device-language');
                const cookiesElement = document.getElementById('device-cookies');
                const onlineElement = document.getElementById('device-online');
                const javaElement = document.getElementById('device-java');
                const screenElement = document.getElementById('device-screen');
                const colorDepthElement = document.getElementById('device-color-depth');
                const pixelRatioElement = document.getElementById('device-pixel-ratio');
                const touchElement = document.getElementById('device-touch');
                
                if (browserElement) browserElement.textContent = navigator.userAgent.split(' ')[0];
                if (platformElement) platformElement.textContent = navigator.platform;
                if (languageElement) languageElement.textContent = navigator.language;
                if (cookiesElement) cookiesElement.textContent = navigator.cookieEnabled ? 'Включены' : 'Отключены';
                if (onlineElement) onlineElement.textContent = navigator.onLine ? 'Онлайн' : 'Офлайн';
                if (javaElement) javaElement.textContent = navigator.javaEnabled && navigator.javaEnabled() ? 'Включена' : 'Отключена';
                if (screenElement) screenElement.textContent = `${screen.width} x ${screen.height}`;
                if (colorDepthElement) colorDepthElement.textContent = `${screen.colorDepth} бит`;
                if (pixelRatioElement) pixelRatioElement.textContent = window.devicePixelRatio || '1';
                if (touchElement) touchElement.textContent = 'ontouchstart' in window ? 'Поддерживается' : 'Не поддерживается';
            },
            
            startSessionTimer: function() {
                const startTime = Date.now();
                
                setInterval(() => {
                    const elapsed = Date.now() - startTime;
                    const seconds = Math.floor(elapsed / 1000) % 60;
                    const minutes = Math.floor(elapsed / 60000) % 60;
                    const hours = Math.floor(elapsed / 3600000);
                    
                    const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    const element = document.getElementById('device-session-time');
                    if (element) element.textContent = timeString;
                }, 1000);
            }
        };
        
        // Запуск приложения
        window.CabinetApp.init();
    </script>
    
    <!-- Подключаем исправления CSS ошибок -->
    <script src="fixes/fix-css-errors.js"></script>
    
    <!-- MCP-MARKER:SECTION:CABINET_APP_INIT - Инициализация приложения кабинета -->
    <script>
        // MCP-MARKER:GLOBAL:CABINET_APP - Глобальный объект приложения кабинета
        window.CabinetApp = {
            state: {
                currentPage: 'dashboard',
                userAddress: null,
                isAuthorized: false,
                accessDays: 0,
                deposits: [],
                transactions: []
            },
            
            // MCP-MARKER:METHOD:CABINET:INIT - Инициализация кабинета
            init() {
                console.log('🚀 Инициализация кабинета GENESIS 1.1');
                
                // Получаем адрес пользователя
                this.state.userAddress = localStorage.getItem('genesis_user_address');
                
                if (!this.state.userAddress) {
                    // Показываем экран авторизации
                    this.showAuthScreen();
                    return;
                }
                
                // Инициализация UI
                this.initializeUI();
                
                // Отображаем адрес пользователя
                this.updateUserDisplay();
                
                // Показываем панель управления
                this.showPage('dashboard');
                
                // Проверяем статус доступа
                this.checkAccessStatus();
                
                console.log('✅ Кабинет инициализирован');
            },
            
            // MCP-MARKER:METHOD:CABINET:INIT_UI - Инициализация интерфейса
            initializeUI() {
                // Обработчики навигации
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.getAttribute('data-page');
                        if (page) {
                            this.showPage(page);
                        }
                    });
                });
                
                // Обработчик авторизации
                const authButton = document.getElementById('auth-button');
                if (authButton) {
                    authButton.addEventListener('click', () => this.handleAuth());
                }
                
                // Обработчик Enter в поле адреса
                const walletInput = document.getElementById('wallet-address');
                if (walletInput) {
                    walletInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.handleAuth();
                        }
                    });
                }
                
                // Скрываем экран загрузки через 10 секунд
                setTimeout(() => {
                    const emergencyActions = document.getElementById('emergency-actions');
                    if (emergencyActions) {
                        emergencyActions.classList.remove('hidden');
                    }
                }, 10000);
            },
            
            // MCP-MARKER:METHOD:CABINET:SHOW_PAGE - Показать страницу
            showPage(page) {
                console.log(`📄 Переход на страницу: ${page}`);
                
                // Обновляем активную ссылку в меню
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-page') === page) {
                        link.classList.add('active');
                    }
                });
                
                // Закрываем мобильное меню
                const sidebar = document.getElementById('cabinet-sidebar');
                if (sidebar) {
                    sidebar.classList.remove('active');
                }
                
                // Получаем контент страницы
                const content = this.getPageContent(page);
                
                // Обновляем контент
                const pageContent = document.getElementById('page-content');
                if (pageContent) {
                    pageContent.innerHTML = content;
                    
                    // Инициализируем компоненты страницы
                    this.initializePageComponents(page);
                }
                
                this.state.currentPage = page;
            },
            
            // MCP-MARKER:METHOD:CABINET:GET_PAGE_CONTENT - Получить контент страницы
            getPageContent(page) {
                // Используем генератор контента если он доступен
                if (window.CabinetContentGenerator) {
                    switch(page) {
                        case 'gifts':
                            return window.CabinetContentGenerator.getGiftsContent();
                        case 'multipliers':
                            return window.CabinetContentGenerator.getMultipliersContent();
                        case 'mining-rent':
                            return window.CabinetContentGenerator.getMiningRentContent();
                        case 'my-device':
                            return window.CabinetContentGenerator.getMyDeviceContent ? window.CabinetContentGenerator.getMyDeviceContent() : this.getMyDeviceContent();
                    }
                }
                
                // Fallback контент для всех страниц
                switch(page) {
                    case 'dashboard':
                        return this.getDashboardContent();
                    case 'portfolio':
                        return this.getPortfolioContent();
                    case 'transactions':
                        return this.getTransactionsContent();
                    case 'analytics':
                        return this.getAnalyticsContent();
                    case 'bonuses':
                        debugLog('🎁 getPageContent: вызов getBonusesContent для bonuses', 'info');
                        // MCP-MARKER:REMOVED:DEBUG_ALERT - Удален отладочный alert
                        return this.getBonusesContent();
                    case 'gifts':
                        return this.getGiftsContent();
                    case 'referrals':
                        return this.getReferralsContent();
                    case 'multipliers':
                        return this.getMultipliersContent();
                    case 'mining-rent':
                        return this.getMiningRentContent();
                    case 'my-device':
                        return this.getMyDeviceContent();
                    case 'plex-coin':
                        return this.getPlexCoinContent();
                    case 'settings':
                        return this.getSettingsContent();
                    case 'experience':
                        return this.getExperienceContent();
                    case 'rank':
                        return this.getRankContent();
                    case 'install-app':
                        return this.getInstallAppContent();
                    case 'how-it-works':
                        return this.getHowItWorksContent();
                    default:
                        return '<div class="empty-state"><h3>Страница не найдена</h3></div>';
                }
            },
            
            // MCP-MARKER:METHOD:CABINET:DASHBOARD_CONTENT - Контент панели управления
            getDashboardContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📊 Панель управления</h2>
                        <p class="page-subtitle">Обзор вашей активности в системе GENESIS 1.1</p>
                    </div>
                    
                    <div class="stats-mb-2">
                        <div class="stats-grid">
                            <div class="stats-card">
                                <div class="stats-header">
                                    <span class="stats-title">Общий баланс</span>
                                    <span class="stats-icon">💰</span>
                                </div>
                                <div class="stats-value">$0.00</div>
                                <div class="stats-change">USDT + PLEX</div>
                            </div>
                            
                            <div class="stats-card">
                                <div class="stats-header">
                                    <span class="stats-title">Активные депозиты</span>
                                    <span class="stats-icon">📈</span>
                                </div>
                                <div class="stats-value">0</div>
                                <div class="stats-change">из 13 доступных</div>
                            </div>
                            
                            <div class="stats-card">
                                <div class="stats-header">
                                    <span class="stats-title">Доход сегодня</span>
                                    <span class="stats-icon">💎</span>
                                </div>
                                <div class="stats-value">$0.00</div>
                                <div class="stats-change positive">+0% за день</div>
                            </div>
                            
                            <div class="stats-card">
                                <div class="stats-header">
                                    <span class="stats-title">Дней доступа</span>
                                    <span class="stats-icon">📅</span>
                                </div>
                                <div class="stats-value">${this.state.accessDays || 0}</div>
                                <div class="stats-change ${this.state.accessDays > 0 ? 'positive' : 'negative'}">
                                    ${this.state.accessDays > 0 ? 'Активен' : 'Требуется оплата'}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Быстрые действия -->
                    <div class="quick-actions">
                        <h3 class="margin-bottom-1">⚡ Быстрые действия</h3>
                        <div class="flex-gap flex-wrap">
                            <button class="btn btn-secondary" onclick="window.CabinetApp.showCreateDepositModal()">
                                💰 Создать депозит
                            </button>
                            <button class="btn btn-outline" onclick="window.CabinetApp.showPlatformAccessModal()">
                                🔑 Пополнить доступ
                            </button>
                            <button class="btn btn-outline" onclick="window.CabinetApp.showPage('portfolio')">
                                💼 Мой портфель
                            </button>
                            <button class="btn btn-outline" onclick="window.CabinetApp.showPage('analytics')">
                                📊 Аналитика
                            </button>
                        </div>
                    </div>
                    
                    <!-- Последняя активность -->
                    <div class="last-activity">
                        <h3 class="last-activity-title">📋 Последняя активность</h3>
                        <div class="last-activity-content">
                            <div class="empty-state">
                                <div class="empty-icon">📭</div>
                                <h3>Нет активности</h3>
                                <p>Начните с создания вашего первого депозита</p>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:PORTFOLIO_CONTENT - Контент портфеля
            getPortfolioContent() {
                return window.GenesisCabinet?.getPortfolioContent() || `
                    <div class="page-header">
                        <h2 class="page-title">💼 Портфель депозитов</h2>
                        <p class="page-subtitle">Управление вашими инвестициями</p>
                    </div>
                    
                    <!-- Статистика портфеля -->
                    <div class="stats-grid mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Общая стоимость</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">0 депозитов</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Заработано всего</span>
                                <span class="stats-icon">💎</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change positive">+0% ROI</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Ежедневный доход</span>
                                <span class="stats-icon">📈</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">в день</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Следующий план</span>
                                <span class="stats-icon">🚀</span>
                            </div>
                            <div class="stats-value">TRIAL</div>
                            <div class="stats-change">$25 USDT</div>
                        </div>
                    </div>
                    
                    <!-- Активные депозиты -->
                    <div class="active-deposits">
                        <h3 class="active-deposits-title">💎 Активные депозиты</h3>
                        <div class="active-deposits-grid">
                            <div class="empty-state">
                                <div class="empty-icon">💼</div>
                                <h3>Нет активных депозитов</h3>
                                <p>Создайте свой первый депозит для начала получения прибыли</p>
                                <button class="btn margin-top-1" onclick="window.CabinetApp.showCreateDepositModal()">
                                    Создать депозит
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Доступные планы -->
                    <div class="mt-2">
                        <h3 class="plans-title">🏆 Доступные планы депозитов</h3>
                        <div class="plans-grid">
                            ${this.renderDepositPlans()}
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:RENDER_DEPOSIT_PLANS - Отрисовка планов депозитов
            renderDepositPlans() {
                if (!window.GENESIS_CONFIG || !window.GENESIS_CONFIG.depositPlans) {
                    return '<p>Загрузка планов...</p>';
                }
                
                return window.GENESIS_CONFIG.depositPlans.slice(0, 3).map((plan, index) => `
                    <div class="plan-card ${index > 0 ? 'plan-card-locked' : 'plan-card-available'}" 
                         ${index === 0 ? 'onclick="window.CabinetApp.showCreateDepositModal()"' : ''}>
                        <div class="flex-between mb-1">
                            <h4 class="plan-title-dynamic color-primary">${plan.name}</h4>
                            <span class="${index === 0 ? 'deposit-status-available' : 'opacity-50'}">🔒 ${index === 0 ? 'Доступен' : 'Заблокирован'}</span>
                        </div>
                        
                        <div class="plan-details">
                            <div class="plan-detail-row">
                                <span class="text-secondary">Инвестиция:</span>
                                <span class="font-weight-600">${plan.usdtAmount}</span>
                            </div>
                            <div class="plan-detail-row">
                                <span class="text-secondary">Доходность:</span>
                                <span class="text-success font-weight-600">${plan.percentage}%</span>
                            </div>
                            <div class="plan-detail-row">
                                <span class="text-secondary">Срок:</span>
                                <span class="warning-color font-weight-600">${plan.days} дней</span>
                            </div>
                        </div>
                        
                        <div class="plan-total-profit">
                            <div class="plan-total-profit-content">
                                <span class="text-secondary">Общая прибыль:</span>
                                <span class="primary-color font-weight-700">+${((plan.usdtAmount * plan.percentage / 100) - plan.usdtAmount).toFixed(2)}</span>
                            </div>
                        </div>
                        
                        <button class="btn ${index === 0 ? '' : 'btn-outline'}" ${index > 0 ? 'disabled' : ''}>
                            ${index === 0 ? '🚀 Инвестировать' : '🔒 Завершите предыдущий'}
                        </button>
                    </div>
                `).join('');
            },
            
            // MCP-MARKER:METHOD:CABINET:TRANSACTIONS_CONTENT - Контент транзакций
            getTransactionsContent() {
                return window.GenesisCabinet?.getTransactionsContent() || `
                    <div class="page-header">
                        <h2 class="page-title">📋 История транзакций</h2>
                        <p class="page-subtitle">Все ваши операции в системе</p>
                    </div>
                    
                    <div class="stats-card">
                        <div class="empty-state">
                            <div class="empty-icon">📊</div>
                            <h3>Транзакций пока нет</h3>
                            <p>История транзакций появится после первой операции</p>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:ANALYTICS_CONTENT - Контент аналитики
            getAnalyticsContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📈 Аналитика</h2>
                        <p class="page-subtitle">Детальный анализ вашей активности</p>
                    </div>
                    
                    <div class="stats-card mb-2">
                        <h3 class="mb-1-5">📊 График доходности</h3>
                        <div class="height-250 flex-center background-primary border-radius-12">
                            <p class="text-secondary">График будет доступен после создания депозитов</p>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Средний ROI</span>
                                <span class="stats-icon">📊</span>
                            </div>
                            <div class="stats-value">0%</div>
                            <div class="stats-change">за все время</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Лучший месяц</span>
                                <span class="stats-icon">🏆</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">-</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Средний депозит</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">0 депозитов</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Прогноз на месяц</span>
                                <span class="stats-icon">🔮</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">потенциальный доход</div>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:BONUSES_CONTENT - Контент бонусов
            getBonusesContent() {
                // Загружаем данные пользователя для бонусной системы
                const userBonusData = this.getUserBonusData();
                
                return `
                    <div class="page-header">
                        <h2 class="page-title">🎁 Бонусная программа GENESIS</h2>
                        <p class="page-subtitle">Получайте дополнительные награды и множители доходности</p>
                    </div>
                    
                    <!-- Общая статистика бонусов -->
                    <div class="stats-grid stats-mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Баланс USDT</span>
                                <span class="stats-icon">💵</span>
                            </div>
                            <div class="stats-value">0.00</div>
                            <div class="stats-change">USDT</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Баланс PLEX</span>
                                <span class="stats-icon">🪙</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">PLEX</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Монеты стажа</span>
                                <span class="stats-icon">📅</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">стажа</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Монеты ранга</span>
                                <span class="stats-icon">🏅</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">ранга</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Активные депозиты</span>
                                <span class="stats-icon">📊</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">штук</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Активные множители</span>
                                <span class="stats-icon">⚡</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">работают сейчас</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Бонусный доход</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">всего получено</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Реферальный доход</span>
                                <span class="stats-icon">👥</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">за все время</div>
                        </div>
                    </div>
                    
                    <!-- Бонусные задания -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">🎯 Бонусные задания</h3>
                        <div class="display-grid gap-1rem">
                            <div class="background-secondary padding-large border-radius-large border-1-solid">
                                <div class="flex flex-between-center-mb">
                                    <div class="flex-align-center gap-1rem">
                                        <span class="font-size-large">💳</span>
                                        <div>
                                            <div class="font-weight-600">Первый депозит</div>
                                            <div class="font-size-09rem color-text-secondary">Создайте свой первый депозит</div>
                                        </div>
                                    </div>
                                    <div class="text-align-right">
                                        <div class="font-weight-600 color-success">+$10 USDT</div>
                                        <button class="btn btn-secondary margin-top-05rem">Выполнить</button>
                                    </div>
                                </div>
                                <div class="bonus-progress">
                                    <div class="bonus-progress-bar progress-bar-zero"></div>
                                </div>
                            </div>
                            
                            <div class="background-secondary padding-large border-radius-large border-1-solid">
                                <div class="flex flex-between-center-mb">
                                    <div class="flex-align-center gap-1rem">
                                        <span class="font-size-large">👥</span>
                                        <div>
                                            <div class="font-weight-600">Пригласить друга</div>
                                            <div class="font-size-09rem color-text-secondary">Пригласите 1 активного пользователя</div>
                                        </div>
                                    </div>
                                    <div class="text-align-right">
                                        <div class="font-weight-600 color-success">+$25 USDT</div>
                                        <button class="btn btn-secondary margin-top-05rem">Пригласить</button>
                                    </div>
                                </div>
                                <div class="bonus-progress">
                                    <div class="bonus-progress-bar progress-bar-zero"></div>
                                </div>
                            </div>
                            
                            <div class="background-secondary padding-large border-radius-large border-1-solid">
                                <div class="flex flex-between-center-mb">
                                    <div class="flex-align-center gap-1rem">
                                        <span class="font-size-large">⚡</span>
                                        <div>
                                            <div class="font-weight-600">Купить множитель</div>
                                            <div class="font-size-09rem color-text-secondary">Активируйте любой множитель</div>
                                        </div>
                                    </div>
                                    <div class="text-align-right">
                                        <div class="font-weight-600 color-success">+50 PLEX</div>
                                        <button class="btn btn-secondary margin-top-05rem">К множителям</button>
                                    </div>
                                </div>
                                <div class="bonus-progress">
                                    <div class="bonus-progress-bar progress-bar-zero"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Программа лояльности -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">⭐ Программа лояльности</h3>
                        <div class="background-secondary padding-large border-radius-large border-1-solid">
                            <div class="loyalty-program">
                                <div class="loyalty-level">
                                    <div class="loyalty-icon">🥉</div>
                                    <div class="loyalty-info">
                                        <h4 class="loyalty-title">Новичок</h4>
                                        <p class="loyalty-description">Стартовый уровень - приветственные бонусы</p>
                                        <div class="loyalty-progress">
                                            <div class="loyalty-progress-bar progress-bar-zero"></div>
                                        </div>
                                        <div class="loyalty-benefits">
                                            <span class="loyalty-benefit">+5% к доходности</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Информационный блок -->
                    <div class="info-block">
                        <h4 class="info-title">💡 Как получать бонусы</h4>
                        <ul class="info-list">
                            <li class="info-list-item">✅ Выполняйте ежедневные задания для получения дополнительных наград</li>
                            <li class="info-list-item">✅ Приглашайте друзей и получайте % от их депозитов</li>
                            <li class="info-list-item">✅ Активные пользователи получают монеты Стажа и Ранга</li>
                            <li class="info-list-item">✅ Повышайте уровень лояльности для получения эксклюзивных привилегий</li>
                            <li class="info-list-item">✅ Участвуйте в акциях и получайте специальные призы</li>
                        </ul>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:GIFTS_CONTENT - Контент подарков
            getGiftsContent() {
                return window.CabinetContentGenerator?.getGiftsContent() || `
                    <div class="page-header">
                        <h2 class="page-title">🎈 Подарочная система</h2>
                        <p class="page-subtitle">Уникальные бонусы и награды</p>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-primary mb-1-5">🎁 Доступные подарки</h3>
                        <div class="empty-state">
                            <div class="empty-icon">🎁</div>
                            <h3>Подарки скоро появятся</h3>
                            <p>Следите за обновлениями системы</p>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:REFERRALS_CONTENT - Контент рефералов
            getReferralsContent() {
                const refLink = `https://genesis.app/ref/${this.state.userAddress?.substring(2, 8) || 'xxxxx'}`;
                
                return window.GenesisCabinet?.getReferralsContent() || `
                    <div class="page-header">
                        <h2 class="page-title">👥 Реферальная программа</h2>
                        <p class="page-subtitle">Приглашайте друзей и зарабатывайте вместе</p>
                    </div>
                    
                    <div class="stats-grid mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Всего рефералов</span>
                                <span class="stats-icon">👥</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">партнеров</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Активных</span>
                                <span class="stats-icon">✅</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">с депозитами</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Заработано</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change positive">всего</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Ваш процент</span>
                                <span class="stats-icon">📊</span>
                            </div>
                            <div class="stats-value">10%</div>
                            <div class="stats-change">от прибыли</div>
                        </div>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-primary mb-1-5">🔗 Ваша реферальная ссылка</h3>
                        
                        <div class="bg-primary p-1-5 border-radius-8 mb-1">
                            <div class="flex gap-1">
                                <input type="text" value="${refLink}" readonly 
                                       class="flex-1 p-0-5 bg-secondary border-1px-border border-radius-6 color-text-primary font-monospace">
                                <button class="btn" onclick="navigator.clipboard.writeText('${refLink}'); this.innerHTML = '✅ Скопировано!'">
                                    📋 Копировать
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-auto-fit-200 gap-1">
                            <button class="btn-secondary">📱 Telegram</button>
                            <button class="btn-secondary">💬 WhatsApp</button>
                            <button class="btn-secondary">🐦 Twitter</button>
                            <button class="btn-secondary">📱 QR-код</button>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:EXPERIENCE_CONTENT - Контент стажа
            getExperienceContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📅 Стаж в системе</h2>
                        <p class="page-subtitle">Ваш опыт и достижения в GENESIS 1.1</p>
                    </div>
                    
                    <div class="stats-grid mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Дней в системе</span>
                                <span class="stats-icon">📅</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">с регистрации</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Завершено депозитов</span>
                                <span class="stats-icon">✅</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">всего</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Общий оборот</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">за все время</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Статус активности</span>
                                <span class="stats-icon">🏆</span>
                            </div>
                            <div class="stats-value">Новичок</div>
                            <div class="stats-change">следующий: Трейдер</div>
                        </div>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-primary mb-1-5">🏆 Достижения</h3>
                        <div class="grid grid-auto-fit gap-1">
                            <div class="p-1 bg-primary border-radius-8 text-center opacity-5">
                                <div class="font-size-2">🎯</div>
                                <h4 class="margin-0">Первый депозит</h4>
                                <p class="text-secondary font-size-0-8 margin-0">Создайте первый депозит</p>
                            </div>
                            <div class="p-1 bg-primary border-radius-8 text-center opacity-5">
                                <div class="font-size-2">💎</div>
                                <h4 class="margin-0">Инвестор</h4>
                                <p class="text-secondary font-size-0-8 margin-0">Инвестируйте $1000+</p>
                            </div>
                            <div class="p-1 bg-primary border-radius-8 text-center opacity-5">
                                <div class="font-size-2">🚀</div>
                                <h4 class="margin-0">Ветеран</h4>
                                <p class="text-secondary font-size-0-8 margin-0">365 дней в системе</p>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:GET_USER_BONUS_DATA - Получение данных бонусов пользователя
            getUserBonusData() {
                const userAddress = this.userData?.address;
                if (!userAddress) {
                    return {
                        usdtBalance: 0,
                        plexBalance: 0,
                        activeBonuses: 0,
                        totalEarned: 0,
                        multiplier: 1.0,
                        achievements: []
                    };
                }
                
                // Загружаем данные из localStorage или API
                const bonusData = JSON.parse(localStorage.getItem(`genesis_bonus_${userAddress}`) || '{}');
                return {
                    usdtBalance: bonusData.usdtBalance || 0,
                    plexBalance: bonusData.plexBalance || 0,
                    activeBonuses: bonusData.activeBonuses || 0,
                    totalEarned: bonusData.totalEarned || 0,
                    multiplier: bonusData.multiplier || 1.0,
                    achievements: bonusData.achievements || []
                };
            },
            
            // MCP-MARKER:METHOD:CABINET:RANK_CONTENT - Контент ранга
            getRankContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🏅 Ранговая система</h2>
                        <p class="page-subtitle">Ваш статус и привилегии</p>
                    </div>
                    
                    <div class="stats-card mb-2 text-center">
                        <div class="font-size-large mb-1">🥉</div>
                        <h3 class="color-primary">Бронзовый ранг</h3>
                        <p class="text-secondary">Начальный уровень инвестора</p>
                        
                        <div class="bg-primary border-radius-8 p-1 mt-1">
                            <div class="flex-between mb-0-5">
                                <span class="text-secondary">Прогресс к следующему рангу:</span>
                                <span class="font-weight-600">0%</span>
                            </div>
                            <div class="progress-bar-container bg-secondary border-radius-4 overflow-hidden" style="height: 8px;">
                                <div class="progress-bar" style="width: 0%;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-secondary mb-1-5">📊 Ранговая лестница</h3>
                        <div class="grid gap-1">
                            <div class="p-1 bg-primary border-radius-8 border-success">
                                <div class="flex-between">
                                    <div class="flex-align-center gap-0-5">
                                        <span class="font-size-1-5">🥉</span>
                                        <div>
                                            <h4 class="margin-0">Бронза</h4>
                                            <p class="text-secondary font-size-0-8 margin-0">$0 - $999</p>
                                        </div>
                                    </div>
                                    <span class="text-success font-weight-600">Текущий</span>
                                </div>
                            </div>
                            
                            <div class="p-1 bg-primary border-radius-8 opacity-7">
                                <div class="flex-between">
                                    <div class="flex-align-center gap-0-5">
                                        <span class="font-size-1-5">🥈</span>
                                        <div>
                                            <h4 class="margin-0">Серебро</h4>
                                            <p class="text-secondary font-size-0-8 margin-0">$1,000 - $9,999</p>
                                        </div>
                                    </div>
                                    <span class="text-secondary">+5% к доходу</span>
                                </div>
                            </div>
                            
                            <div class="p-1 bg-primary border-radius-8 opacity-5">
                                <div class="flex-between">
                                    <div class="flex-align-center gap-0-5">
                                        <span class="font-size-1-5">🥇</span>
                                        <div>
                                            <h4 class="margin-0">Золото</h4>
                                            <p class="text-secondary font-size-0-8 margin-0">$10,000 - $49,999</p>
                                        </div>
                                    </div>
                                    <span class="text-secondary">+10% к доходу</span>
                                </div>
                            </div>
                            
                            <div class="p-1 bg-primary border-radius-8 opacity-5">
                                <div class="flex-between">
                                    <div class="flex-align-center gap-0-5">
                                        <span class="font-size-1-5">💎</span>
                                        <div>
                                            <h4 class="margin-0">Платина</h4>
                                            <p class="text-secondary font-size-0-8 margin-0">$50,000+</p>
                                        </div>
                                    </div>
                                    <span class="text-secondary">+20% к доходу</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:PLEX_COIN_CONTENT - Контент PLEX монеты
            getPlexCoinContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🪙 PLEX Монета</h2>
                        <p class="page-subtitle">Внутренняя валюта экосистемы GENESIS</p>
                    </div>
                    
                    <div class="stats-grid mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Баланс PLEX</span>
                                <span class="stats-icon">🪙</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">PLEX</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Курс к USDT</span>
                                <span class="stats-icon">💱</span>
                            </div>
                            <div class="stats-value">0.01</div>
                            <div class="stats-change positive">+5.2%</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">В обороте</span>
                                <span class="stats-icon">🔄</span>
                            </div>
                            <div class="stats-value">10M</div>
                            <div class="stats-change">PLEX</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Держателей</span>
                                <span class="stats-icon">👥</span>
                            </div>
                            <div class="stats-value">1,234</div>
                            <div class="stats-change positive">+12 сегодня</div>
                        </div>
                    </div>
                    
                    <div class="stats-card mb-2">
                        <h3 class="color-primary mb-1-5">💡 О монете PLEX</h3>
                        <div class="line-height-16">
                            <p class="mb-1">PLEX - это внутренняя валюта экосистемы GENESIS 1.1, которая используется для:</p>
                            <ul class="padding-left-1-5rem margin-0">
                                <li class="mb-0-5">🎁 Получения бонусов и наград</li>
                                <li class="mb-0-5">💳 Оплаты комиссий со скидкой</li>
                                <li class="mb-0-5">🚀 Доступа к эксклюзивным планам</li>
                                <li class="mb-0-5">⚡ Покупки множителей доходности</li>
                                <li class="mb-0-5">👥 Вознаграждений рефералам</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-secondary mb-1-5">📈 Экономика PLEX</h3>
                        <div class="display-grid grid-template-2col gap-1">
                            <div>
                                <h4 class="margin-bottom-1">Эмиссия</h4>
                                <p class="text-secondary font-size-0-9 margin-0">Максимальная эмиссия: <strong>100,000,000 PLEX</strong></p>
                                <p class="text-secondary font-size-0-9 margin-0">Выпущено: <strong>10,000,000 PLEX</strong></p>
                                <p class="text-secondary font-size-0-9 margin-0">Сожжено: <strong>500,000 PLEX</strong></p>
                            </div>
                            <div>
                                <h4 class="margin-bottom-1">Распределение</h4>
                                <p class="text-secondary font-size-0-9 margin-0">Награды: <strong>40%</strong></p>
                                <p class="text-secondary font-size-0-9 margin-0">Экосистема: <strong>30%</strong></p>
                                <p class="text-secondary font-size-0-9 margin-0">Резерв: <strong>30%</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plex-actions">
                        <button class="plex-action-btn" onclick="window.CabinetApp.showNotification('info', '🚧 Функция в разработке', 'Обмен PLEX скоро будет доступен')">
                            <span>💱</span>
                            <span>Обменять PLEX</span>
                        </button>
                        <a href="https://bscscan.com/token/${window.GENESIS_CONFIG?.plex?.address || '0x...'}"
                           target="_blank"
                           class="plex-action-btn outline">
                            <span>🔍</span>
                            <span>Контракт в BSCScan</span>
                        </a>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:MY_DEVICE_CONTENT - Контент моего устройства
            getMyDeviceContent() {
                // Используем сервис устройства если доступен
                if (window.DevicePageExtension && window.DevicePageExtension.generateDevicePageContent) {
                    return window.DevicePageExtension.generateDevicePageContent();
                }
                
                return `
                    <div class="page-header">
                        <h2 class="page-title">📱 Мое устройство</h2>
                        <p class="page-subtitle">Информация о вашем устройстве и браузере</p>
                    </div>
                    
                    <div class="device-info-container">
                        <div class="genesis-info-grid">
                            <div class="genesis-info-card">
                                <h3><span>🖥️</span> Система</h3>
                                <div class="tech-card-checkmark">✓</div>
                                <div class="info-item">
                                    <span class="info-label">ОС:</span>
                                    <span class="info-value" id="device-os">Определение...</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Браузер:</span>
                                    <span class="info-value" id="device-browser">Определение...</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Язык:</span>
                                    <span class="info-value" id="device-language">Определение...</span>
                                </div>
                            </div>
                            
                            <div class="genesis-info-card">
                                <h3><span>🌐</span> Сеть</h3>
                                <div class="tech-card-checkmark">✓</div>
                                <div class="info-item">
                                    <span class="info-label">IP адрес:</span>
                                    <span class="info-value" id="device-ip">Скрыт</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Статус:</span>
                                    <span class="info-value text-success">Онлайн</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Скорость:</span>
                                    <span class="info-value" id="device-speed">Тестирование...</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="privacy-notice">
                            <div class="privacy-icon">🔒</div>
                            <div class="privacy-content">
                                <h4>Конфиденциальность гарантирована</h4>
                                <p>Мы собираем только техническую информацию для оптимизации работы платформы. Никакие личные данные не передаются третьим лицам.</p>
                                <div class="privacy-features">
                                    <span class="privacy-feature">🛡️ Шифрование</span>
                                    <span class="privacy-feature">🚫 Без трекинга</span>
                                    <span class="privacy-feature">✅ GDPR</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <script>
                        // Обновляем информацию об устройстве
                        setTimeout(() => {
                            const os = navigator.platform || 'Неизвестно';
                            const browser = navigator.userAgent.includes('Chrome') ? 'Chrome' : 
                                           navigator.userAgent.includes('Firefox') ? 'Firefox' : 
                                           navigator.userAgent.includes('Safari') ? 'Safari' : 'Другой';
                            const language = navigator.language || 'Неизвестно';
                            
                            document.getElementById('device-os').textContent = os;
                            document.getElementById('device-browser').textContent = browser;
                            document.getElementById('device-language').textContent = language;
                            document.getElementById('device-speed').textContent = 'Отлично';
                        }, 100);
                    </script>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:SETTINGS_CONTENT - Контент настроек
            getSettingsContent() {
                return window.GenesisCabinet?.getSettingsContent() || `
                    <div class="page-header">
                        <h2 class="page-title">⚙️ Настройки</h2>
                        <p class="page-subtitle">Персонализация вашего кабинета</p>
                    </div>
                    
                    <div class="stats-card mb-2">
                        <h3 class="color-primary mb-1-5">👤 Профиль</h3>
                        <div class="grid gap-1-5">
                            <div>
                                <label for="bsc-address-input" class="display-block text-secondary font-size-0-9 margin-bottom-0-5">BSC адрес:</label>
                                <div class="flex gap-0-5">
                                    <input type="text" id="bsc-address-input" value="${this.state.userAddress || ''}" readonly 
                                           title="BSC адрес для транзакций"
                                           class="flex-1 padding-small bg-primary border-1px-border border-radius-6 color-text-primary font-monospace font-size-0-9">
                                    <button class="btn-secondary" onclick="navigator.clipboard.writeText('${this.state.userAddress || ''}'); this.innerHTML = '✅'">
                                        📋
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <label class="display-block text-secondary font-size-0-9 margin-bottom-0-5">Email для уведомлений:</label>
                                <div class="flex gap-0-5">
                                    <input type="email" placeholder="your@email.com" 
                                           class="flex-1 padding-small bg-primary border-1px-border border-radius-6 color-text-primary">
                                    <button class="btn">💾 Сохранить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stats-card mb-2">
                        <h3 class="color-secondary mb-1-5">🔔 Уведомления</h3>
                        <div class="grid gap-1">
                            <label class="flex-align-center gap-1 cursor-pointer">
                                <input type="checkbox" checked>
                                <span>📧 Email уведомления о депозитах</span>
                            </label>
                            <label class="flex-align-center gap-1 cursor-pointer">
                                <input type="checkbox" checked>
                                <span>🔔 Push-уведомления в браузере</span>
                            </label>
                            <label class="flex-align-center gap-1 cursor-pointer">
                                <input type="checkbox">
                                <span>📱 SMS уведомления (скоро)</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-warning mb-1-5">🎨 Внешний вид</h3>
                        <div class="grid gap-1-5">
                            <div>
                                <label for="theme-select" class="display-block text-secondary font-size-0-9 margin-bottom-0-5">Тема:</label>
                                <select id="theme-select" title="Выбор темы интерфейса" class="w-100 padding-small bg-primary border-1px-border border-radius-6 color-text-primary">
                                    <option>🌙 Темная (по умолчанию)</option>
                                    <option disabled>☀️ Светлая (скоро)</option>
                                    <option disabled>🎮 Киберпанк (скоро)</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="language-select" class="display-block text-secondary font-size-0-9 margin-bottom-0-5">Язык:</label>
                                <select id="language-select" title="Выбор языка интерфейса" class="w-100 padding-small bg-primary border-1px-border border-radius-6 color-text-primary">
                                    <option>🇷🇺 Русский</option>
                                    <option disabled>🇬🇧 English (soon)</option>
                                    <option disabled>🇪🇸 Español (soon)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:INSTALL_APP_CONTENT - Контент установки приложения
            getInstallAppContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📱 Установить приложение</h2>
                        <p class="page-subtitle">Установите GENESIS 1.1 как приложение на ваше устройство</p>
                    </div>
                    
                    <div class="stats-card text-center">
                        <div class="font-size-3rem mb-1">📲</div>
                        <h3 class="color-primary mb-1">Установка в один клик</h3>
                        <p class="text-secondary mb-2">Получите быстрый доступ к платформе прямо с домашнего экрана</p>
                        
                        <button class="btn font-size-11rem padding-1rem-2rem" onclick="window.installPWA?.prompt()">
                            ⬇️ Установить приложение
                        </button>
                        
                        <div class="mt-2 text-secondary font-size-0-9">
                            <p>✅ Работает офлайн</p>
                            <p>✅ Быстрый запуск</p>
                            <p>✅ Уведомления в реальном времени</p>
                        </div>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-secondary mb-1-5">📖 Инструкция по установке</h3>
                        <div class="grid gap-1">
                            <div class="p-1 bg-primary border-radius-8">
                                <h4 class="flex-align-center gap-0-5 margin-bottom-0-5">
                                    <span>🌐</span> Chrome / Edge
                                </h4>
                                <p class="text-secondary font-size-0-9 margin-0">
                                    Нажмите кнопку "Установить" в адресной строке или используйте кнопку выше
                                </p>
                            </div>
                            
                            <div class="p-1 bg-primary border-radius-8">
                                <h4 class="flex-align-center gap-0-5 margin-bottom-0-5">
                                    <span>🍎</span> Safari (iOS)
                                </h4>
                                <p class="text-secondary font-size-0-9 margin-0">
                                    Нажмите "Поделиться" → "На экран Домой"
                                </p>
                            </div>
                            
                            <div class="p-1 bg-primary border-radius-8">
                                <h4 class="flex-align-center gap-0-5 margin-bottom-0-5">
                                    <span>🤖</span> Android
                                </h4>
                                <p class="text-secondary font-size-0-9 margin-0">
                                    Меню браузера → "Добавить на главный экран"
                                </p>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:MULTIPLIERS_CONTENT - Контент множителей
            getMultipliersContent() {
                return window.CabinetContentGenerator?.getMultipliersContent() || this.getDefaultMultipliersContent();
            },
            
            getDefaultMultipliersContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">⚡ Множители доходности</h2>
                        <p class="page-subtitle">Увеличивайте прибыль с помощью множителей</p>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-primary mb-1-5">🚀 Активные множители</h3>
                        <div class="empty-state">
                            <div class="empty-icon">⚡</div>
                            <h3>Нет активных множителей</h3>
                            <p>Приобретите множитель для увеличения дохода</p>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:MINING_RENT_CONTENT - Контент аренды мощностей
            getMiningRentContent() {
                return window.CabinetContentGenerator?.getMiningRentContent() || this.getDefaultMiningRentContent();
            },
            
            getDefaultMiningRentContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">💻 Аренда мощностей</h2>
                        <p class="page-subtitle">Арендуйте вычислительные мощности</p>
                    </div>
                    
                    <div class="stats-card">
                        <h3 class="color-primary mb-1-5">⚡ Доступные мощности</h3>
                        <div class="empty-state">
                            <div class="empty-icon">💻</div>
                            <h3>Скоро будет доступно</h3>
                            <p>Функция аренды мощностей в разработке</p>
                        </div>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:HOW_IT_WORKS_CONTENT - Контент "Как все устроено" (оставляем пустым по запросу)
            getHowItWorksContent() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🛠️ Как все устроено</h2>
                        <p class="page-subtitle">Принципы работы платформы GENESIS 1.1</p>
                    </div>
                    
                    <div class="empty-state">
                        <div class="empty-icon">🛠️</div>
                        <h3>Раздел в разработке</h3>
                        <p>Содержимое раздела будет добавлено позже</p>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:HANDLE_AUTH - Обработка авторизации
            async handleAuth() {
                const walletInput = document.getElementById('wallet-address');
                const address = walletInput.value.trim();
                
                if (!address || !this.isValidAddress(address)) {
                    this.showNotification('error', '❌ Ошибка', 'Введите корректный BSC адрес');
                    return;
                }
                
                // Сохраняем адрес
                localStorage.setItem('genesis_user_address', address);
                this.state.userAddress = address;
                this.state.isAuthorized = true;
                
                // Переходим в кабинет
                this.showCabinetScreen();
                this.init();
            },
            
            // MCP-MARKER:METHOD:CABINET:UTILS - Вспомогательные методы
            isValidAddress(address) {
                return /^0x[a-fA-F0-9]{40}$/.test(address);
            },
            
            updateUserDisplay() {
                const addressDisplay = document.getElementById('user-address-display');
                if (addressDisplay && this.state.userAddress) {
                    addressDisplay.textContent = this.formatAddress(this.state.userAddress);
                }
            },
            
            formatAddress(address) {
                if (!address) return '';
                return address.substring(0, 6) + '...' + address.slice(-4);
            },
            
            async checkAccessStatus() {
                // Проверяем статус доступа к платформе
                if (window.GenesisPlatformAccess) {
                    try {
                        const accessData = await window.GenesisPlatformAccess.checkUserAccessBalance(this.state.userAddress);
                        this.state.accessDays = accessData.daysRemaining || 0;
                        
                        // Обновляем индикатор
                        const indicator = document.getElementById('access-status-indicator');
                        if (indicator) {
                            indicator.classList.remove('access-status-hidden');
                            
                            const iconEl = document.getElementById('access-status-icon');
                            const textEl = document.getElementById('access-status-text');
                            const daysEl = document.getElementById('access-days-count');
                            
                            if (accessData.isActive) {
                                indicator.classList.add('active');
                                iconEl.textContent = '✅';
                                textEl.textContent = 'Активен';
                                daysEl.textContent = `(${accessData.daysRemaining} дней)`;
                            } else {
                                indicator.classList.add('inactive');
                                iconEl.textContent = '❌';
                                textEl.textContent = 'Неактивен';
                                daysEl.textContent = '';
                            }
                        }
                    } catch (error) {
                        console.error('Ошибка проверки доступа:', error);
                    }
                }
            },
            
            showAuthScreen() {
                document.getElementById('loading-screen').classList.add('hidden');
                document.getElementById('auth-screen').classList.remove('hidden');
                document.getElementById('cabinet-app').classList.add('hidden');
            },
            
            showCabinetScreen() {
                document.getElementById('loading-screen').classList.add('hidden');
                document.getElementById('auth-screen').classList.add('hidden');
                document.getElementById('cabinet-app').classList.remove('hidden');
            },
            
            // MCP-MARKER:METHOD:CABINET:SHOW_NOTIFICATION - Показать уведомление
            showNotification(type, title, message) {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <span class="notification-icon-large">${type === 'success' ? '✅' : type === 'error' ? '❌' : type === 'warning' ? '⚠️' : 'ℹ️'}</span>
                    <div class="notification-content">
                        <h4 class="notification-title-style">${title}</h4>
                        <p class="notification-message-style">${message}</p>
                    </div>
                    <button class="notification-close-btn" onclick="this.parentElement.remove()">&times;</button>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.style.animation = 'notificationSlideOut 0.3s ease-out';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 5000);
            },
            
            // MCP-MARKER:METHOD:CABINET:MODAL_METHODS - Методы модальных окон
            showCreateDepositModal() {
                if (window.CabinetDepositService?.showCreateDepositModal) {
                    window.CabinetDepositService.showCreateDepositModal();
                } else {
                    this.showNotification('warning', '⚠️ Внимание', 'Сервис депозитов загружается...');
                }
            },
            
            showPlatformAccessModal() {
                if (window.GenesisPlatformAccess?.showPaymentModal) {
                    window.GenesisPlatformAccess.showPaymentModal();
                } else {
                    this.showNotification('warning', '⚠️ Внимание', 'Сервис доступа загружается...');
                }
            },
            
            // MCP-MARKER:METHOD:CABINET:INIT_PAGE_COMPONENTS - Инициализация компонентов страницы
            initializePageComponents(page) {
                // Инициализация специфичных компонентов для каждой страницы
                if (page === 'my-device' && window.updateTechInfo) {
                    window.updateTechInfo();
                }
            },
            
            // MCP-MARKER:METHOD:CABINET:CLAIM_GIFT - Получение подарка
            claimGift(giftType) {
                this.showNotification('success', '🎁 Поздравляем!', 'Подарок успешно получен!');
            },
            
            // MCP-MARKER:METHOD:CABINET:PURCHASE_MULTIPLIER - Покупка множителя
            purchaseMultiplier(type) {
                // MCP-MARKER:REMOVED:STUB_FUNCTION - Удалена функция-заглушка
                debugLog(`Попытка покупки множителя типа: ${type}`, 'info');
                this.showNotification('Функция недоступна', 'Множители будут доступны в следующих обновлениях', 'info');
            },
            
            // MCP-MARKER:METHOD:CABINET:RENT_MINING_POWER - Аренда мощностей
            rentMiningPower(plan) {
                // MCP-MARKER:REMOVED:STUB_FUNCTION - Удалена функция-заглушка
                debugLog(`Попытка аренды мощностей плана: ${plan}`, 'info');
                this.showNotification('Функция недоступна', 'Аренда мощностей будет доступна в следующих обновлениях', 'info');
            },
            
            // MCP-MARKER:METHOD:CABINET:UPDATE_MINING_CALCULATOR - Обновление калькулятора майнинга
            updateMiningCalculator(power) {
                const powerEl = document.getElementById('mining-power-value');
                if (powerEl) powerEl.textContent = power;
                
                const cost = power * 9; // $9 за TH/s
                const costEl = document.getElementById('mining-cost');
                if (costEl) costEl.textContent = `${cost}/месяц`;
                
                const dailyMin = power * 0.5;
                const dailyMax = power * 0.7;
                const dailyEl = document.getElementById('mining-daily');
                if (dailyEl) dailyEl.textContent = `${dailyMin.toFixed(0)}-${dailyMax.toFixed(0)}`;
                
                const monthlyMin = dailyMin * 30;
                const monthlyMax = dailyMax * 30;
                const monthlyEl = document.getElementById('mining-monthly');
                if (monthlyEl) monthlyEl.textContent = `${monthlyMin.toFixed(0)}-${monthlyMax.toFixed(0)}`;
                
                const profitMin = monthlyMin - cost;
                const profitMax = monthlyMax - cost;
                const profitEl = document.getElementById('mining-profit');
                if (profitEl) profitEl.textContent = `${profitMin.toFixed(0)}-${profitMax.toFixed(0)}/месяц`;
            }
        };
        
        // MCP-MARKER:SECTION:HELPER_FUNCTIONS - Вспомогательные функции
        function toggleSidebar() {
            const sidebar = document.getElementById('cabinet-sidebar');
            if (sidebar) {
                sidebar.classList.toggle('active');
            }
        }
        
        function logout() {
            localStorage.removeItem('genesis_user_address');
            window.location.href = '/';
        }
        
        function clearCacheAndReload() {
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => {
                        caches.delete(name);
                    });
                }).then(() => {
                    localStorage.clear();
                    sessionStorage.clear();
                    window.location.reload(true);
                });
            } else {
                localStorage.clear();
                sessionStorage.clear();
                window.location.reload(true);
            }
        }
        
        function enableDevAccess() {
            console.log('🔧 Режим разработчика активирован');
            localStorage.setItem('genesis_dev_mode', 'true');
            window.CabinetApp.showNotification('success', '🔧 Успешно', 'Режим разработчика активирован');
        }
        
        function showSystemInfo() {
            const info = {
                version: window.GENESIS_CONFIG?.version || '1.1',
                build: new Date().toISOString(),
                browser: navigator.userAgent,
                screen: `${screen.width}x${screen.height}`,
                online: navigator.onLine
            };
            console.table(info);
            alert('Системная информация выведена в консоль (F12)');
        }
        
        // MCP-MARKER:REMOVED:DUPLICATE_FUNCTION - Удален дублирующий closeDepositModal
        
        // MCP-MARKER:SECTION:DOM_READY - Инициализация при загрузке DOM
        document.addEventListener('DOMContentLoaded', () => {
            console.log('🎯 DOM загружен, инициализация кабинета...');
            
            // Инициализация CabinetApp
            setTimeout(() => {
                window.CabinetApp.init();
            }, 1000);
            
            // MCP-MARKER:REMOVED:FORCE_LOADING_SCREEN_HIDE - Удален костыль принудительного скрытия экрана загрузки
            // Экран загрузки должен скрываться только после успешной инициализации
        });
        
        console.log('✅ Cabinet scripts loaded');
    </script>

    <script>
        // MCP-MARKER:CONTENT_GENERATOR - Генератор контента для всех разделов
        // MCP-MARKER:METHOD:CABINET:CONTENT_GENERATOR - Основной генератор контента разделов

        class CabinetContentGenerator {
            constructor() {
                this.initialized = false;
            }

            async initialize() {
                if (this.initialized) return;
                this.initialized = true;
                console.log('🎨 Cabinet content generator initialized');
            }

            // MCP-MARKER:METHOD:CABINET:GET_SECTION_CONTENT - Получение контента раздела
            getSectionContent(sectionName) {
                console.log(`📄 Getting content for section: ${sectionName}`);
                
                let cont
                let content = '';
                
                switch(sectionName) {
                    case 'dashboard':
                        content = this.getDashboardContent();
                        break;
                    case 'portfolio':
                        content = this.getPortfolioContent();
                        break;
                    case 'bonuses':
                        content = this.getBonusesContent();
                        break;
                    case 'analytics':
                        content = this.getAnalyticsContent();
                        break;
                    case 'transactions':
                        content = this.getTransactionsContent();
                        break;
                    case 'gifts':
                        content = this.getGiftsContent();
                        break;
                    case 'referrals':
                        content = this.getReferralsContent();
                        break;
                    case 'multipliers':
                        content = this.getMultipliersContent();
                        break;
                    case 'mining-rent':
                        content = this.getMiningRentContent();
                        break;
                    case 'my-device':
                        content = this.getMyDeviceContent();
                        break;
                    case 'install-app':
                        content = this.getInstallAppContent();
                        break;
                    case 'experience':
                        content = this.getExperienceContent();
                        break;
                    case 'rank':
                        content = this.getRankContent();
                        break;
                    case 'plex-coin':
                        content = this.getPlexCoinContent();
                        break;
                    case 'settings':
                        content = this.getSettingsContent();
                        break;
                    case 'how-it-works':
                        content = this.getHowItWorksContent();
                        break;
                    default:
                        content = '<div class="page-header"><h2>⚠️ Раздел в разработке</h2><p>Этот раздел скоро будет доступен</p></div>';
                }
                
                return content;
            }

            // Контент для главной страницы
            // MCP-MARKER:CONTENT:DASHBOARD - Контент главной
            // MCP-MARKER:METHOD:CABINET:GET_DASHBOARD_CONTENT - Генерация контента главной
            getDashboardContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🏠 Панель управления</h2>
                        <p class="page-subtitle">Обзор вашей деятельности в экосистеме GENESIS</p>
                    </div>
                `;
            },
                    case 'how-it-works':
                        content = this.getHowItWorksContent();
                        break;
                    default:
                        content = '<div class="empty-state"><div class="empty-icon">🚧</div><h3>Страница в разработке</h3><p>Этот раздел скоро будет доступен</p></div>';
                }
                
                contentContainer.innerHTML = content;
                
                // Анимация появления
                contentContainer.style.opacity = '0';
                setTimeout(() => {
                    contentContainer.style.transition = 'opacity 0.3s ease';
                    contentContainer.style.opacity = '1';
                }, 10);
            },
            
            // Контент для портфеля
            // MCP-MARKER:CONTENT:PORTFOLIO - Контент портфеля
            getPortfolioContent: function() {
                const hasAccess = this.state.platformAccess && this.state.platformAccess.isActive;
                
                // Планы депозитов согласно ТЗ (13 планов)
                const depositPlans = [
                    { id: 1, name: 'STARTER', amount: 25, currency: 'USDT', percent: 0.3, days: 100, icon: '🌱' },
                    { id: 2, name: 'BASIC', amount: 50, currency: 'USDT', percent: 0.35, days: 90, icon: '🔰' },
                    { id: 3, name: 'STANDARD', amount: 100, currency: 'USDT', percent: 0.4, days: 80, icon: '📊' },
                    { id: 4, name: 'ADVANCED', amount: 250, currency: 'USDT', percent: 0.45, days: 70, icon: '📈' },
                    { id: 5, name: 'PROFESSIONAL', amount: 500, currency: 'USDT', percent: 0.5, days: 60, icon: '💼' },
                    { id: 6, name: 'EXPERT', amount: 750, currency: 'USDT', percent: 0.55, days: 55, icon: '🎯' },
                    { id: 7, name: 'MASTER', amount: 1000, currency: 'USDT', percent: 0.6, days: 50, icon: '👑' },
                    { id: 8, name: 'PREMIUM', amount: 1250, currency: 'USDT', percent: 0.65, days: 45, icon: '💎' },
                    { id: 9, name: 'GOLD', amount: 1500, currency: 'USDT', percent: 0.7, days: 40, icon: '🏆' },
                    { id: 10, name: 'PLATINUM', amount: 1750, currency: 'USDT', percent: 0.75, days: 35, icon: '🔥' },
                    { id: 11, name: 'DIAMOND', amount: 2000, currency: 'PLEX/USDT', percent: 0.8, days: 30, icon: '💠' },
                    { id: 12, name: 'ELITE', amount: 2250, currency: 'PLEX/USDT', percent: 0.85, days: 25, icon: '⭐' },
                    { id: 13, name: 'ULTIMATE', amount: 2500, currency: 'PLEX/USDT', percent: 0.9, days: 20, icon: '🚀' }
                ];
                
                // Получаем статус депозитов пользователя (пока моковые данные)
                const userDeposits = this.state.deposits || [];
                const activeDeposits = userDeposits.filter(d => d.status === 'active');
                const completedDeposits = userDeposits.filter(d => d.status === 'completed');
                
                // Проверяем, какой план доступен для покупки (строго по порядку)
                const lastPurchasedPlanId = userDeposits.length > 0 ? 
                    Math.max(...userDeposits.map(d => d.planId)) : 0;
                const nextAvailablePlanId = lastPurchasedPlanId + 1;
                
                // Расчет статистики портфеля
                const totalInvested = userDeposits.reduce((sum, d) => sum + d.amount, 0);
                const totalEarned = userDeposits.reduce((sum, d) => {
                    if (d.status === 'completed') {
                        return sum + (d.amount * d.percent / 100 * d.days);
                    } else if (d.status === 'active') {
                        const daysPassed = Math.floor((Date.now() - d.startDate) / (1000 * 60 * 60 * 24));
                        return sum + (d.amount * d.percent / 100 * Math.min(daysPassed, d.days));
                    }
                    return sum;
                }, 0);
                const dailyIncome = activeDeposits.reduce((sum, d) => sum + (d.amount * d.percent / 100), 0);
                
                return `
                    <div class="page-header">
                        <h2 class="page-title">💼 Инвестиционный портфель</h2>
                        <p class="page-subtitle">Управление депозитами и отслеживание доходности</p>
                    </div>
                    
                    <!-- Статистика портфеля -->
                    <div class="stats-grid stats-mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Общая стоимость</span>
                                <span class="stats-icon">�</span>
                            </div>
                            <div class="stats-value">$14,045.50</div>
                            <div class="stats-change positive">+15.3% за месяц</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Прибыль/Убыток</span>
                                <span class="stats-icon">�</span>
                            </div>
                            <div class="stats-value color-success">+$2,345.50</div>
                            <div class="stats-change positive">+22.4% ROI</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Активов в портфеле</span>
                                <span class="stats-icon">🪙</span>
                            </div>
                            <div class="stats-value">7</div>
                            <div class="stats-change">токенов</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Лучший актив</span>
                                <span class="stats-icon">⭐</span>
                            </div>
                            <div class="stats-value">PLEX</div>
                            <div class="stats-change positive">+245% за год</div>
                        </div>
                    </div>
                    
                    <!-- Кнопки быстрых действий -->
                    <div class="quick-actions">
                        <button class="btn btn-secondary" onclick="window.CabinetApp.showCreateDepositModal()" ${!hasAccess || nextAvailablePlanId > 13 ? 'disabled' : ''}>
                            💰 Создать депозит
                        </button>
                        <button class="btn btn-outline" onclick="window.CabinetApp.showDepositCalculator()">
                            🧮 Калькулятор доходности
                        </button>
                        <button class="btn btn-outline" onclick="window.CabinetApp.exportPortfolioReport()">
                            📊 Экспорт отчета
                        </button>
                        <button class="btn btn-outline" onclick="window.CabinetApp.showTokenSwap()">
                            🔄 Обмен токенов
                        </button>
                        <button class="btn btn-outline" onclick="window.CabinetApp.showPortfolioAnalytics()">
                            📈 Аналитика
                        </button>
                    </div>
                    
                    <!-- Активные депозиты -->
                    ${activeDeposits.length > 0 ? `
                        <div class="active-deposits">
                            <h3 class="active-deposits-title">🟢 Активные депозиты</h3>
                            <div class="active-deposits-grid">
                                ${activeDeposits.map(deposit => {
                                    const plan = depositPlans.find(p => p.id === deposit.planId);
                                    const daysPassed = Math.floor((Date.now() - deposit.startDate) / (1000 * 60 * 60 * 24));
                                    const progress = (daysPassed / plan.days) * 100;
                                    const earned = deposit.amount * plan.percent / 100 * daysPassed;
                                    
                                    return `
                                        <div class="deposit-card">
                                            <div class="deposit-header">
                                                <h4 class="deposit-title">
                                                    <span class="font-size-1-5">${plan.icon}</span>
                                                    <span class="text-primary">${plan.name}</span>
                                                </h4>
                                                <span class="deposit-status-active">Активен</span>
                                            </div>
                                            
                                            <div class="deposit-stats">
                                                <div>
                                                    <div class="text-secondary font-size-0-9">Инвестировано</div>
                                                    <div class="font-size-1-2 font-weight-600">${deposit.amount}</div>
                                                </div>
                                                <div>
                                                    <div class="text-secondary font-size-0-9">Заработано</div>
                                                    <div class="font-size-1-2 font-weight-600 text-success">${earned.toFixed(2)}</div>
                                                </div>
                                            </div>
                                            
                                            <div class="deposit-progress">
                                                <div class="deposit-progress-header">
                                                    <span class="text-secondary font-size-0-9">Прогресс</span>
                                                    <span class="text-primary font-size-0-9">${daysPassed}/${plan.days} дней</span>
                                                </div>
                                                <div class="deposit-progress-bar">
                                                    <div class="progress-bar" data-progress="0"></div>
                                                </div>
                                            </div>
                                            
                                            <div class="deposit-actions">
                                                <button class="btn-secondary flex-1 font-size-0-9 p-0-5" onclick="window.CabinetApp.showDepositDetails(this.getAttribute('data-deposit-id'))" data-deposit-id="${deposit.id}">
                                                    📊 Детали
                                                </button>
                                                <button class="btn-outline flex-1 font-size-0-9 p-0-5" onclick="window.CabinetApp.reinvestDeposit(this.getAttribute('data-deposit-id'))" data-deposit-id="${deposit.id}">
                                                    🔄 Реинвестировать
                                                </button>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    <!-- Доступные планы депозитов -->
                    <div>
                        <h3 class="plans-title">💎 Планы депозитов</h3>
                        ${!hasAccess ? `
                            <div class="notification warning notification-warning-static">
                                <div class="notification-icon">⚠️</div>
                                <div class="notification-content">
                                    <h4>Требуется доступ к платформе</h4>
                                    <p>Для создания депозитов необходимо пополнить доступ</p>
                                </div>
                                <button class="btn btn-warning" onclick="window.CabinetApp.showPlatformAccessModal()">
                                    Пополнить доступ
                                </button>
                            </div>
                        ` : ''}
                        
                        <div class="plans-grid">
                            ${depositPlans.map(plan => {
                                const isPurchased = userDeposits.some(d => d.planId === plan.id);
                                const isAvailable = plan.id === nextAvailablePlanId && hasAccess;
                                const isLocked = plan.id > nextAvailablePlanId || !hasAccess;
                                
                                const borderColor = isPurchased ? 'var(--success-color)' : (isAvailable ? 'var(--primary-color)' : 'var(--border-color)');
                                const hoverEvents = !isLocked ? `onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 8px 25px rgba(0,0,0,0.3)';" onmouseout="this.style.transform='none';this.style.boxShadow='none';"` : '';
                                const planCardId = `plan-card-${plan.id || Math.random().toString(36).substr(2, 9)}`;
                                
                                // Отложенная установка стилей
                                setTimeout(() => {
                                    const element = document.getElementById(planCardId);
                                    if (element) {
                                        element.style.borderColor = borderColor.replace('var(--success-color)', '#10b981').replace('var(--primary-color)', '#3b82f6').replace('var(--border-color)', '#e5e7eb');
                                        element.style.border = '2px solid';
                                    }
                                }, 0);
                                
                                return `
                                    <div id="${planCardId}" class="plan-card dynamic-border" data-locked="${isLocked}" data-available="${isAvailable}" 
                                         ${hoverEvents}>
                                        ${isLocked ? `
                                            <div class="overlay">
                                                <span class="font-size-2">🔒</span>
                                            </div>
                                        ` : ''}
                                        
                                        <div class="deposit-header">
                                            <h4 class="deposit-title">
                                                <span class="font-size-1-5">${plan.icon}</span>
                                                <span class="text-primary">${plan.name}</span>
                                            </h4>
                                            ${isPurchased ? `
                                                <span class="deposit-status-purchased">✓ Куплен</span>
                                            ` : isAvailable ? `
                                                <span class="deposit-status-available">Доступен</span>
                                            ` : ''}
                                        </div>
                                        
                                        <div class="plan-details">
                                            <div class="plan-detail-row">
                                                <span class="text-secondary">Сумма:</span>
                                                <span class="color-primary font-weight-600">${plan.amount}</span>
                                            </div>
                                            <div class="plan-detail-row">
                                                <span class="text-secondary">Доход в день:</span>
                                                <span class="text-success font-weight-600">${plan.percent}%</span>
                                            </div>
                                            <div class="plan-detail-row">
                                                <span class="text-secondary">Срок:</span>
                                                <span class="text-primary font-weight-600">${plan.days} дней</span>
                                            </div>
                                            <div class="flex flex-space-between">
                                                <span class="text-secondary">Валюта:</span>
                                                <span class="color-secondary font-weight-600">${plan.currency}</span>
                                            </div>
                                        </div>
                                        
                                        <div class="plan-total-profit">
                                            <div class="plan-total-profit-content">
                                                <span class="text-secondary font-size-0-9">Общий доход:</span>
                                                <span class="color-gold font-weight-700 font-size-11rem">${(plan.amount * plan.percent / 100 * plan.days).toFixed(2)}</span>
                                            </div>
                                        </div>
                                        
                                        ${isAvailable ? `
                                            <button class="btn w-100" onclick="window.CabinetApp.createDeposit(this.getAttribute('data-plan-id'))" data-plan-id="${plan.id}">
                                                💰 Создать депозит
                                            </button>
                                        ` : isPurchased ? `
                                            <button class="btn-secondary w-100" onclick="window.CabinetApp.viewDepositHistory(this.getAttribute('data-plan-id'))" data-plan-id="${plan.id}">
                                                📊 История
                                            </button>
                                        ` : `
                                            <button class="btn w-100" disabled>
                                                🔒 Недоступен
                                            </button>
                                        `}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                    
                    <!-- Состав портфеля -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">📈 Состав портфеля</h3>
                        <div class="background-secondary padding-large border-radius-large border-1-solid">
                            <div class="display-grid-gap">
                                <div class="flex-justify-between background-tertiary padding-medium border-radius-medium">
                                    <div class="flex-align-center gap-1rem">
                                        <span class="font-size-large">🪙</span>
                                        <div>
                                            <div class="font-weight-600">PLEX</div>
                                            <div class="font-size-09rem color-text-secondary">1,000,000 токенов</div>
                                        </div>
                                    </div>
                                    <div class="text-align-right">
                                        <div class="font-weight-600">$12,500.00</div>
                                        <div class="font-size-09rem color-success">+5.2%</div>
                                    </div>
                                </div>
                                
                                <div class="flex-justify-between background-tertiary padding-medium border-radius-medium">
                                    <div class="flex-align-center gap-1rem">
                                        <span class="font-size-large">💰</span>
                                        <div>
                                            <div class="font-weight-600">USDT</div>
                                            <div class="font-size-09rem color-text-secondary">345.50 токенов</div>
                                        </div>
                                    </div>
                                    <div class="text-align-right">
                                        <div class="font-weight-600">$345.50</div>
                                        <div class="font-size-09rem color-text-secondary">0.0%</div>
                                    </div>
                                </div>
                                
                                <div class="flex-justify-between background-tertiary padding-medium border-radius-medium">
                                    <div class="flex-align-center gap-1rem">
                                        <span class="font-size-large">🌐</span>
                                        <div>
                                            <div class="font-weight-600">BNB</div>
                                            <div class="font-size-09rem color-text-secondary">2.5 токенов</div>
                                        </div>
                                    </div>
                                    <div class="text-align-right">
                                        <div class="font-weight-600">$750.00</div>
                                        <div class="font-size-09rem color-error">-2.1%</div>
                                    </div>
                                </div>
                                
                                <div class="flex-justify-between background-tertiary padding-medium border-radius-medium">
                                    <div class="flex-align-center gap-1rem">
                                        <span class="font-size-large">🔷</span>
                                        <div>
                                            <div class="font-weight-600">ETH</div>
                                            <div class="font-size-09rem color-text-secondary">0.15 токенов</div>
                                        </div>
                                    </div>
                                    <div class="text-align-right">
                                        <div class="font-weight-600">$450.00</div>
                                        <div class="font-size-09rem color-success">+3.8%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- График стоимости портфеля -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">📉 График стоимости портфеля</h3>
                        <div class="background-secondary border-radius-large border-1-solid flex-center padding-2rem height-250">
                            <div class="text-center">
                                <div class="font-size-3rem margin-bottom-1rem">📈</div>
                                <p class="color-text-secondary">График динамики портфеля</p>
                                <p class="font-size-09rem color-text-secondary margin-top-05rem">Обновляется каждые 5 минут</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Рекомендации -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">🎯 Рекомендации</h3>
                        <div class="display-grid gap-1rem">
                            <div class="background-secondary padding-medium border-radius-large border-1-solid">
                                <div class="flex-justify-between">
                                    <div>
                                        <div class="font-weight-600 color-success">🔺 Купить PLEX</div>
                                        <div class="font-size-09rem color-text-secondary">Ожидается рост на 15%</div>
                                    </div>
                                    <button class="btn btn-secondary">Купить</button>
                                </div>
                            </div>
                            <div class="background-secondary padding-medium border-radius-large border-1-solid">
                                <div class="flex-justify-between">
                                    <div>
                                        <div class="font-weight-600 color-warning">🔻 Продать BNB</div>
                                        <div class="font-size-09rem color-text-secondary">Зафиксировать прибыль</div>
                                    </div>
                                    <button class="btn btn-secondary">Продать</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Информационный блок -->
                    <div class="info-block">
                        <h4 class="info-title">💡 Важная информация</h4>
                        <ul class="info-list">
                            <li class="info-list-item">✅ Покупка планов доступна только по порядку (от STARTER к ULTIMATE)</li>
                            <li class="info-list-item">✅ Планы 1-10 оплачиваются только в USDT</li>
                            <li class="info-list-item">✅ Планы 11-13 можно оплатить в PLEX или USDT</li>
                            <li class="info-list-item">✅ Все транзакции проверяются через BSCScan</li>
                            <li class="info-list-item">✅ Выплаты производятся ежедневно на ваш кошелек</li>
                        </ul>
                    </div>
                `;
            },
            
            // Контент для транзакций
            // MCP-MARKER:CONTENT:TRANSACTIONS - Контент транзакций
            // MCP-MARKER:METHOD:CABINET:GET_TRANSACTIONS_CONTENT - Генерация контента транзакций
            // MCP-MARKER:METHOD:CABINET:TRANSACTIONS_CONTENT - Генерация контента транзакций
            getTransactionsContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">Транзакции</h2>
                        <p class="page-subtitle">История всех операций</p>
                    </div>
                    
                    <div class="empty-state">
                        <div class="empty-icon">📋</div>
                        <h3>Нет транзакций</h3>
                        <p>Здесь будет отображаться история ваших операций</p>
                    </div>
                `;
            },
            
            // Контент для аналитики
            // MCP-MARKER:CONTENT:ANALYTICS - Контент аналитики
            // MCP-MARKER:METHOD:CABINET:GET_ANALYTICS_CONTENT - Генерация контента аналитики
            // MCP-MARKER:METHOD:CABINET:ANALYTICS_CONTENT - Генерация контента аналитики
            getAnalyticsContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">Аналитика</h2>
                        <p class="page-subtitle">Детальная статистика и графики</p>
                    </div>
                    
                    <div class="empty-state">
                        <div class="empty-icon">📈</div>
                        <h3>Недостаточно данных</h3>
                        <p>Создайте депозиты для отображения аналитики</p>
                    </div>
                `;
            },
            
            // Контент для бонусов
            // MCP-MARKER:CONTENT:BONUSES - Контент бонусов
            // MCP-MARKER:METHOD:CABINET:GET_BONUSES_CONTENT - Генерация контента бонусов
            // MCP-MARKER:METHOD:CABINET:BONUSES_CONTENT - Генерация контента бонусов
            getBonusesContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🎁 Бонусная программа GENESIS</h2>
                        <p class="page-subtitle">Получайте дополнительные награды и множители доходности</p>
                    </div>
                    
                    <!-- Общая статистика бонусов -->
                    <div class="stats-grid stats-mb-2">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Баланс USDT</span>
                                <span class="stats-icon">💵</span>
                            </div>
                            <div class="stats-value">0.00</div>
                            <div class="stats-change">USDT</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Баланс PLEX</span>
                                <span class="stats-icon">🪙</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">PLEX</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Монеты стажа</span>
                                <span class="stats-icon">📅</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">стажа</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Монеты ранга</span>
                                <span class="stats-icon">🏅</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">ранга</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Активные депозиты</span>
                                <span class="stats-icon">📊</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">штук</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Активные множители</span>
                                <span class="stats-icon">⚡</span>
                            </div>
                            <div class="stats-value">0</div>
                            <div class="stats-change">работают сейчас</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Бонусный доход</span>
                                <span class="stats-icon">💰</span>
                            </div>
                            <div class="stats-value">$0.00</div>
                            <div class="stats-change">всего получено</div>
                        </div>
                        
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Достижения</span>
                                <span class="stats-icon">🏆</span>
                            </div>
                            <div class="stats-value">0/25</div>
                            <div class="stats-change">разблокировано</div>
                        </div>
                    </div>
                    
                    <!-- Категории бонусов -->
                    <div class="bonus-section">
                        
                        <!-- 1. Бонусы за привлечение партнеров -->
                        <div class="bonus-card">
                            <h3 class="bonus-title">
                                <span class="bonus-icon">👥</span>
                                Бонусы за привлечение партнеров
                            </h3>
                            
                            <div class="bonus-grid">
                                <!-- Бонус за 3 партнеров -->
                                <div class="bonus-item"
                                     onmouseover="this.style.borderColor='var(--primary-color)';this.style.transform='translateY(-2px)'"
                                     onmouseout="this.style.borderColor='var(--border-color)';this.style.transform=''">
                                    <div class="bonus-item-header">
                                        <div>
                                            <h4 class="bonus-item-title">Начинающий наставник</h4>
                                            <p class="bonus-item-desc">Пригласите 3 партнеров</p>
                                        </div>
                                        <span class="bonus-icon">🥉</span>
                                    </div>
                                    <div class="bonus-reward">
                                        <div class="bonus-reward-content">
                                            <span class="text-secondary">Награда:</span>
                                            <span class="golden-reward">290 монет</span>
                                        </div>
                                    </div>
                                    <div class="flex flex-space-between flex-center">
                                        <span class="text-secondary font-size-0-9">Прогресс: 0/3</span>
                                        <button class="btn-outline p-0-5 font-size-0-9" disabled>🔒 Недоступно</button>
                                    </div>
                                </div>
                                
                                <!-- Бонус за 7 партнеров -->
                                <div class="bonus-item"
                                     onmouseover="this.style.borderColor='var(--primary-color)';this.style.transform='translateY(-2px)'"
                                     onmouseout="this.style.borderColor='var(--border-color)';this.style.transform=''">
                                    <div class="bonus-item-header">
                                        <div>
                                            <h4 class="bonus-item-title">Опытный наставник</h4>
                                            <p class="bonus-item-desc">Пригласите 7 партнеров</p>
                                        </div>
                                        <span class="bonus-icon">🥈</span>
                                    </div>
                                    <div class="bonus-reward">
                                        <div class="bonus-reward-content">
                                            <span class="text-secondary">Награда:</span>
                                            <span class="golden-reward">777 монет</span>
                                        </div>
                                    </div>
                                    <div class="flex flex-space-between flex-center">
                                        <span class="text-secondary font-size-0-9">Прогресс: 0/7</span>
                                        <button class="btn-outline p-0-5 font-size-0-9" disabled>🔒 Недоступно</button>
                                    </div>
                                </div>
                                
                                <!-- Бонус за 15 партнеров -->
                                <div class="bonus-item"
                                     onmouseover="this.style.borderColor='var(--primary-color)';this.style.transform='translateY(-2px)'"
                                     onmouseout="this.style.borderColor='var(--border-color)';this.style.transform=''">
                                    <div class="bonus-item-header">
                                        <div>
                                            <h4 class="bonus-item-title">Мастер рекрутinга</h4>
                                            <p class="bonus-item-desc">Пригласите 15 партнеров</p>
                                        </div>
                                        <span class="bonus-icon">🥇</span>
                                    </div>
                                    <div class="bonus-reward">
                                        <div class="flex flex-column flex-gap-0-5">
                                            <div class="bonus-reward-content">
                                                <span class="text-secondary">Множитель:</span>
                                                <span class="text-success font-weight-600">x0.88 на 12 часов</span>
                                            </div>
                                            <div class="text-secondary font-size-0-9">Однократный срочный множитель доходности</div>
                                        </div>
                                    </div>
                                    <div class="flex flex-space-between flex-center">
                                        <span class="text-secondary font-size-0-9">Прогресс: 0/15</span>
                                        <button class="btn-outline p-0-5 font-size-0-9" disabled>🔒 Недоступно</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 2. Бонусы за покупку депозитов -->
                        <div class="bonus-card">
                            <h3 class="bonus-title">
                                <span class="bonus-icon">💰</span>
                                Бонусы за покупку депозитов
                            </h3>
                            
                            <div class="bonus-grid">
                                <!-- Первый депозит -->
                                <div class="bonus-item-simple">
                                    <h4 class="bonus-item-title">🎯 Первый шаг</h4>
                                    <p class="bonus-item-desc mb-1">За первый депозит (не тестовый)</p>
                                    <div class="bonus-reward-simple">
                                        <div class="bonus-reward-content">
                                            <span class="text-secondary">Награда:</span>
                                            <span class="text-success font-weight-600">Множитель x0.71</span>
                                        </div>
                                        <div class="bonus-description">Однократный множитель доходности на 33 часа</div>
                                    </div>
                                </div>
                                
                                <!-- 3 депозита -->
                                <div class="bonus-item-simple">
                                    <h4 class="bonus-item-title">🔥 Активный инвестор</h4>
                                    <p class="bonus-item-desc mb-1">За покупку 3 депозитов</p>
                                    <div class="bonus-reward-simple">
                                        <div class="bonus-reward-content">
                                            <span class="text-secondary">Награда:</span>
                                            <span class="text-success font-weight-600">Множитель x1.21</span>
                                        </div>
                                        <div class="bonus-description">Однократный множитель доходности на 9 часов</div>
                                    </div>
                                </div>
                                
                                <!-- 5 депозитов -->
                                <div class="bonus-item-simple">
                                    <h4 class="bonus-item-title">💎 Серьезный игрок</h4>
                                    <p class="bonus-item-desc mb-1">За покупку 5 депозитов</p>
                                    <div class="bonus-reward-simple">
                                        <div class="bonus-reward-content">
                                            <span class="text-secondary">Награда:</span>
                                            <span class="text-success font-weight-600">Множитель x2.31</span>
                                        </div>
                                        <div class="bonus-description">Однократный множитель доходности на 10 часов</div>
                                    </div>
                                </div>
                                
                                <!-- 7 депозитов -->
                                <div class="bonus-item-simple">
                                    <h4 class="bonus-item-title">⚡ Профессионал</h4>
                                    <p class="bonus-item-desc mb-1">За покупку 7 депозитов</p>
                                    <div class="bonus-reward-simple">
                                        <div class="text-secondary font-size-0-85 mb-0-5">Награды:</div>
                                        <div class="flex flex-center flex-gap-0-5 mb-0-3">
                                            <span class="text-success">•</span>
                                            <span class="text-success font-weight-600">Два множителя x0.31</span>
                                            <span class="text-secondary font-size-0-8">на 54 часа</span>
                                        </div>
                                        <div class="flex flex-center flex-gap-0-5">
                                            <span class="primary-color">•</span>
                                            <span class="primary-color font-weight-600">Множитель x4.12</span>
                                            <span class="text-secondary font-size-0-8">на 5 часов</span>
                                        </div>
                                        <div class="text-secondary font-size-0-8 mt-0-5 font-style-italic">Однократные множители доходности</div>
                                    </div>
                                </div>
                                
                                <!-- Все депозиты -->
                                <div class="bonus-item-special grid-col-span-2"
                                     onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 8px 25px rgba(255,107,53,0.3)'"
                                     onmouseout="this.style.transform='';this.style.boxShadow=''">
                                    <h4 class="bonus-special-title">
                                        <span>👑</span> Легенда GENESIS
                                    </h4>
                                    <p class="bonus-item-desc mb-1">За покупку всех 13 депозитов</p>
                                    <div class="grid grid-auto-fit-150 gap-1">
                                        <div class="stat-card">
                                            <div class="stat-value golden-value-color">50,000</div>
                                            <div class="stat-label">монет</div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-value success-value-color">x7.17</div>
                                            <div class="stat-label">множитель</div>
                                            <div class="stat-sublabel">на 29 часов</div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-value secondary-value-color">50,000</div>
                                            <div class="stat-label">стажа</div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-value accent-value-color">120</div>
                                            <div class="stat-label">монет ранга</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 3. Бонусы за участие в экосистеме -->
                        <div class="bonus-card">
                            <h3 class="bonus-title">
                                <span class="bonus-icon">🌐</span>
                                Бонусы за участие в инструментах экосистемы
                            </h3>
                            
                            <div class="bonus-item-simple">
                                <p class="text-secondary mb-1">Получайте множитель доходности за каждый используемый инструмент экосистемы GENESIS</p>
                                <div class="flex flex-center gap-1">
                                    <div class="ecosystem-card">
                                        <div class="ecosystem-value">x0.077</div>
                                        <div class="ecosystem-desc">множитель доходности</div>
                                        <div class="ecosystem-subdesc">на 37 часов</div>
                                    </div>
                                    <div class="text-secondary">
                                        <div class="font-weight-500">За каждый инструмент:</div>
                                        <div class="font-size-0-85">• Однократный множитель</div>
                                        <div class="font-size-0-85">• Применяется автоматически</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 4. Бонусы за активность в чате -->
                        <div class="bonus-card">
                            <h3 class="bonus-title">
                                <span class="bonus-icon">💬</span>
                                Бонусы за активность в чате
                            </h3>
                            
                            <div class="bonus-item-simple">
                                <h4 class="bonus-item-title">🏆 Бонус за лояльность</h4>
                                <p class="bonus-item-desc mb-1">За активное участие в жизни сообщества</p>
                                <div class="bg-secondary p-1 border-radius-8 display-inline-block">
                                    <span class="text-success font-weight-700 font-size-1-3">$237</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 5-7. Бонусы в разработке -->
                        <div class="bonus-grid mb-2">
                            <div class="bonus-card opacity-70">
                                <h4 class="bonus-item-title mb-0-5 flex flex-center flex-gap-0-5">
                                    <span>🧪</span> Бонусы за тестирования
                                </h4>
                                <p class="bonus-item-desc">За участие в тестированиях продуктов экосистемы</p>
                                <div class="bg-primary p-0-5 border-radius-8 mt-1 text-center">
                                    <span class="warning-text-color">🚧 В разработке</span>
                                </div>
                            </div>
                            
                            <div class="bonus-card opacity-70">
                                <h4 class="bonus-item-title mb-0-5 flex flex-center flex-gap-0-5">
                                    <span>📅</span> Бонусы за стаж
                                </h4>
                                <p class="bonus-item-desc">Награды за длительное участие в проекте</p>
                                <div class="bg-primary p-0-5 border-radius-8 mt-1 text-center">
                                    <span class="warning-text-color">🚧 В разработке</span>
                                </div>
                            </div>
                            
                            <div class="bonus-card opacity-70">
                                <h4 class="bonus-item-title mb-0-5 flex flex-center flex-gap-0-5">
                                    <span>🏅</span> Бонусы за ранг
                                </h4>
                                <p class="bonus-item-desc">Эксклюзивные награды за достижение рангов</p>
                                <div class="bg-primary p-0-5 border-radius-8 mt-1 text-center">
                                    <span class="warning-text-color">🚧 В разработке</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Специальный бонус 1000 -->
                        <div class="golden-bonus">
                            <h3 class="golden-title">
                                <span class="font-size-2">🌟</span>
                                БОНУСНАЯ 1000
                            </h3>
                            
                            <p class="golden-description">
                                За привлечение партнеров и участие в GENESIS более 400 дней
                            </p>
                            
                            <div class="golden-grid">
                                <div class="golden-card golden-card-special">
                                    <div class="golden-value golden-value-color">$1000</div>
                                    <div class="text-secondary">Денежный бонус</div>
                                </div>
                                
                                <div class="golden-card">
                                    <div class="golden-value-medium success-value-color">x3.21</div>
                                    <div class="text-secondary font-size-0-85">множитель доходности</div>
                                    <div class="text-secondary font-size-0-8">на 7 часов</div>
                                </div>
                                
                                <div class="golden-card">
                                    <div class="golden-value-medium secondary-value-color">x0.21</div>
                                    <div class="text-secondary font-size-0-85">множитель доходности</div>
                                    <div class="text-secondary font-size-0-8">на 100 часов</div>
                                </div>
                                
                                <div class="golden-card">
                                    <div class="golden-value-large accent-value-color">MEV Валькирия</div>
                                    <div class="text-secondary font-size-0-85">Торговая поддержка</div>
                                    <div class="text-secondary font-size-0-8">$500 на 72 часа</div>
                                </div>
                                
                                <div class="golden-card">
                                    <div class="golden-value-large primary-value-color">Гарантированный доступ</div>
                                    <div class="text-secondary font-size-0-85">MEV бот Валькирия</div>
                                    <div class="text-secondary font-size-0-8">до $500 на 100 часов</div>
                                </div>
                            </div>
                            
                            <div class="golden-conditions">
                                <p class="text-secondary font-size-0-9 margin-zero">
                                    <strong class="warning-text-color">Условия:</strong> Привлечение активных партнеров + непрерывное участие в проекте более 400 дней
                                </p>
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Информационный блок -->
                    <div class="info-block">
                        <h4 class="info-title">💡 Как работают бонусы</h4>
                        <ul class="bonus-list">
                            <li class="bonus-list-item">
                                <span class="bonus-check">✓</span>
                                <span>Множители доходности применяются автоматически ко всем активным депозитам</span>
                            </li>
                            <li class="bonus-list-item">
                                <span class="bonus-check">✓</span>
                                <span>Монеты GENESIS можно обменять на дополнительные бонусы в магазине</span>
                            </li>
                            <li class="bonus-list-item">
                                <span class="bonus-check">✓</span>
                                <span>Однократные множители активируются сразу после получения</span>
                            </li>
                            <li class="bonus-list-item">
                                <span class="bonus-check">✓</span>
                                <span>Несколько множителей могут работать одновременно</span>
                            </li>
                            <li class="bonus-list-item">
                                <span class="bonus-check">✓</span>
                                <span>Прогресс по всем достижениям сохраняется автоматически</span>
                            </li>
                        </ul>
                    </div>
                `;
            },
            
            // Контент для подарков
            // MCP-MARKER:CONTENT:GIFTS - Контент подарков
            // MCP-MARKER:METHOD:CABINET:GET_GIFTS_CONTENT - Генерация контента подарков
            // MCP-MARKER:METHOD:CABINET:GIFTS_CONTENT - Генерация контента подарков
            getGiftsContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🎈 Подарки</h2>
                        <p class="page-subtitle">Здесь будут отображаться ваши подарки и специальные предложения</p>
                    </div>
                    <div class="empty-state">
                        <div class="empty-icon">🎈</div>
                        <h3>Подарков пока нет</h3>
                        <p>Следите за обновлениями и акциями!</p>
                    </div>
                `;
            },
            
            // Контент для рефералов
            // MCP-MARKER:CONTENT:REFERRALS - Контент рефералов
            // MCP-MARKER:METHOD:CABINET:GET_REFERRALS_CONTENT - Генерация контента рефералов
            // MCP-MARKER:METHOD:CABINET:REFERRALS_CONTENT - Генерация контента рефералов
            getReferralsContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">👥 Рефералы</h2>
                        <p class="page-subtitle">Партнерская программа</p>
                    </div>
                    
                    <div class="empty-state">
                        <div class="empty-icon">👥</div>
                        <h3>Реферальная программа</h3>
                        <p>Приглашайте друзей и получайте бонусы</p>
                    </div>
                `;
            },
            
            // Контент для множителей
            // MCP-MARKER:CONTENT:MULTIPLIERS - Контент множителей
            // MCP-MARKER:METHOD:CABINET:GET_MULTIPLIERS_CONTENT - Генерация контента множителей
            // MCP-MARKER:METHOD:CABINET:MULTIPLIERS_CONTENT - Генерация контента множителей
            getMultipliersContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">⚡ Множители</h2>
                        <p class="page-subtitle">Активируйте бонусные множители для увеличения доходности</p>
                    </div>

                    <div class="multiplier-grid">
                        <div>
                            <div class="stats-card mb-2">
                                <h3 class="bonus-title">
                                    <span>⚡</span> Активные множители
                                </h3>
                                
                                <div class="grid grid-auto-fit-200 gap-1 mb-2">
                                    <div class="multiplier-card multiplier-card-active">
                                        <div class="multiplier-icon">🔥</div>
                                        <h5 class="multiplier-title">Огненный</h5>
                                        <div class="multiplier-value color-success">x2.5</div>
                                        <div class="multiplier-time">Осталось: 4ч 23м</div>
                                        <div class="multiplier-progress">
                                            <div class="multiplier-progress-bar bg-success width-72"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="multiplier-card multiplier-card-secondary">
                                        <div class="multiplier-icon">💎</div>
                                        <h5 class="multiplier-title">Алмазный</h5>
                                        <div class="multiplier-value color-secondary">x1.8</div>
                                        <div class="multiplier-time">Осталось: 12ч 45м</div>
                                        <div class="multiplier-progress">
                                            <div class="multiplier-progress-bar bg-secondary width-53"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="multiplier-card multiplier-card-warning">
                                        <div class="multiplier-icon">⭐</div>
                                        <h5 class="multiplier-title">Звездный</h5>
                                        <div class="multiplier-value color-warning">x3.2</div>
                                        <div class="multiplier-time">Осталось: 23ч 17м</div>
                                        <div class="multiplier-progress">
                                            <div class="multiplier-progress-bar bg-warning width-97"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-primary p-1-5 border-radius-12 mb-2">
                                    <h4 class="bonus-item-title mb-1">📊 Эффект множителей</h4>
                                    
                                    <div class="effect-grid">
                                        <div class="effect-item">
                                            <div class="effect-label">Базовая доходность</div>
                                            <div class="effect-value text-primary">$45.20/день</div>
                                        </div>
                                        <div class="effect-item">
                                            <div class="effect-label">С множителями</div>
                                            <div class="effect-value text-success">$247.83/день</div>
                                        </div>
                                        <div class="effect-item">
                                            <div class="effect-label">Суммарный множитель</div>
                                            <div class="effect-value color-primary">x5.48</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <h4 class="bonus-item-title mb-1">🛒 Доступные множители</h4>
                                
                                <div class="available-grid">
                                    <div class="multiplier-shop-card">
                                        <div class="multiplier-header">
                                            <div class="multiplier-name">
                                                <span class="font-size-1-5">🚀</span>
                                                <h5 class="bonus-item-title">Турбо x2.0</h5>
                                            </div>
                                            <span class="multiplier-badge badge-success">6 часов</span>
                                        </div>
                                        <p class="multiplier-description">Удваивает доходность от всех источников на 6 часов</p>
                                        <div class="multiplier-price">
                                            <span class="multiplier-cost">Стоимость: $25</span>
                                            <span class="multiplier-alt">или 500 PLEX</span>
                                        </div>
                                        <button class="btn w-100" onclick="window.CabinetApp.activateMultiplier('turbo')">
                                            🚀 Активировать
                                        </button>
                                    </div>
                                    
                                    <div class="multiplier-shop-card">
                                        <div class="multiplier-header">
                                            <div class="multiplier-name">
                                                <span class="font-size-1-5">⚡</span>
                                                <h5 class="bonus-item-title">Молния x4.0</h5>
                                            </div>
                                            <span class="multiplier-badge badge-primary">3 часа</span>
                                        </div>
                                        <p class="multiplier-description">Увеличивает доходность в 4 раза на 3 часа</p>
                                        <div class="multiplier-price">
                                            <span class="multiplier-cost">Стоимость: $45</span>
                                            <span class="multiplier-alt">или 900 PLEX</span>
                                        </div>
                                        <button class="btn w-100" onclick="window.CabinetApp.activateMultiplier('lightning')">
                                            ⚡ Активировать
                                        </button>
                                    </div>
                                    
                                    <div class="multiplier-shop-card border-warning">
                                        <div class="multiplier-header">
                                            <div class="multiplier-name">
                                                <span class="font-size-1-5">🌟</span>
                                                <h5 class="bonus-item-title">Супер x7.5</h5>
                                            </div>
                                            <span class="multiplier-badge badge-warning">1 час</span>
                                        </div>
                                        <p class="multiplier-description">Максимальный множитель - увеличение в 7.5 раз на час</p>
                                        <div class="multiplier-price">
                                            <span class="multiplier-cost">Стоимость: $85</span>
                                            <span class="multiplier-alt">или 1700 PLEX</span>
                                        </div>
                                        <button class="btn w-100" onclick="window.CabinetApp.activateMultiplier('super')">
                                            🌟 Активировать
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="stats-card mb-1-5">
                                <h3 class="bonus-title color-secondary">
                                    <span>📊</span> Статистика
                                </h3>
                                
                                <div class="mb-1">
                                    <div class="flex flex-space-between mb-0-5">
                                        <span class="text-secondary">Активировано сегодня:</span>
                                        <span class="font-weight-600 color-success">3</span>
                                    </div>
                                    <div class="flex flex-space-between mb-0-5">
                                        <span class="text-secondary">Всего за месяц:</span>
                                        <span class="text-primary font-weight-600">47</span>
                                    </div>
                                    <div class="flex flex-space-between mb-0-5">
                                        <span class="text-secondary">Дополнительно заработано:</span>
                                        <span class="font-weight-600 color-primary">$2,847</span>
                                    </div>
                                    <div class="flex flex-space-between">
                                        <span class="text-secondary">Потрачено PLEX:</span>
                                        <span class="font-weight-600 color-warning">15,680</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-card mb-1-5">
                                <h3 class="bonus-title color-warning">
                                    <span>🎁</span> Акции
                                </h3>
                                
                                <div class="promo-card promo-card-success">
                                    <h5 class="promo-title">🔥 Горящее предложение!</h5>
                                    <p class="promo-description">Купи 3 множителя - получи 4-й бесплатно!</p>
                                    <div class="promo-footer">
                                        <span class="promo-timer color-success">Осталось: 2ч 45м</span>
                                        <button class="btn-secondary promo-btn">🔥 Участвовать</button>
                                    </div>
                                </div>
                                
                                <div class="promo-card promo-card-secondary">
                                    <h5 class="promo-title">💎 VIP бонус</h5>
                                    <p class="promo-description">Скидка 20% на все множители для VIP пользователей</p>
                                    <span class="promo-permanent">Постоянно активно</span>
                                </div>
                            </div>
                            
                            <div class="stats-card">
                                <h3 class="bonus-title color-primary">
                                    <span>🏆</span> Рекорды
                                </h3>
                                
                                <div class="records-grid">
                                    <div class="record-item">
                                        <span class="record-label">Максимальный множитель:</span>
                                        <span class="record-value color-warning">x12.5</span>
                                    </div>
                                    <div class="record-item">
                                        <span class="record-label">Самая долгая активация:</span>
                                        <span class="record-value text-primary">72 часа</span>
                                    </div>
                                    <div class="record-item">
                                        <span class="record-label">Рекордный заработок:</span>
                                        <span class="record-value text-success">$847/час</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // Контент для аренды мощностей
            // MCP-MARKER:CONTENT:MINING_RENT - Контент аренды мощностей
            // MCP-MARKER:METHOD:CABINET:GET_MINING_RENT_CONTENT - Генерация контента аренды мощностей
            // MCP-MARKER:METHOD:CABINET:MINING_RENT_CONTENT - Генерация контента аренды мощностей
            getMiningRentContent: function() {
                // Инициализируем сервис если еще не инициализирован
                if (window.miningRentService && !window.miningRentService.initialized) {
                    window.miningRentService.init();
                    window.miningRentService.initialized = true;
                }
                
                // Используем сервис для рендеринга страницы
                if (window.miningRentService && window.miningRentService.renderMiningRentPage) {
                    return window.miningRentService.renderMiningRentPage();
                }
                
                // Если сервис не загружен, показываем заглушку
                return `
                    <div class="page-header">
                        <h2 class="page-title">💻 Аренда мощностей</h2>
                        <p class="page-subtitle">Зарабатывайте на неиспользуемых ресурсах вашего устройства</p>
                    </div>
                    
                    <div class="empty-state">
                        <div class="empty-icon">⏳</div>
                        <h3>Загрузка...</h3>
                        <p>Подготовка раздела аренды мощностей</p>
                    </div>
                `;
            },
            
            // Контент для устройства
            // MCP-MARKER:CONTENT:MY_DEVICE - Контент "Мое устройство"
            // MCP-MARKER:METHOD:CABINET:GET_MY_DEVICE_CONTENT - Генерация контента устройства
            // MCP-MARKER:METHOD:CABINET:MY_DEVICE_CONTENT - Генерация контента устройства
            getMyDeviceContent: function() {
                const deviceInfo = this.getDeviceInfo();
                
                return `
                    <div class="page-header">
                        <h2 class="page-title">📱 Мое устройство</h2>
                        <p class="page-subtitle">Детальная информация о вашем устройстве и системе</p>
                    </div>
                    
                    <div class="genesis-info-grid">
                        <!-- Карточка устройства -->
                        <div class="genesis-info-card genesis-panel-glass">
                            <div class="tech-card-checkmark opacity-0">✓</div>
                            <h3>📱 Ваше устройство</h3>
                            <div class="info-item">
                                <span class="info-label">Платформа:</span>
                                <span class="info-value" id="device-platform">${deviceInfo.platform}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Операционная система:</span>
                                <span class="info-value" id="device-os">${deviceInfo.os || 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Браузер:</span>
                                <span class="info-value" id="device-browser">${deviceInfo.browser}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Версия браузера:</span>
                                <span class="info-value" id="device-browser-version">${deviceInfo.browserVersion || 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Разрешение экрана:</span>
                                <span class="info-value" id="device-resolution">${deviceInfo.screen}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Размер окна:</span>
                                <span class="info-value" id="device-viewport">${window.innerWidth} × ${window.innerHeight}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Плотность пикселей:</span>
                                <span class="info-value" id="device-pixel-ratio">${window.devicePixelRatio || 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Цветовая глубина:</span>
                                <span class="info-value" id="device-color-depth">${screen.colorDepth || 'Не определено'} бит</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Язык системы:</span>
                                <span class="info-value" id="device-language">${deviceInfo.language}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Часовой пояс:</span>
                                <span class="info-value" id="device-timezone">${deviceInfo.timezone}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Время загрузки:</span>
                                <span class="info-value" id="device-load-time">${performance.now().toFixed(2)} мс</span>
                            </div>
                        </div>
                        
                        <!-- Карточка сети -->
                        <div class="genesis-info-card genesis-panel-glass">
                            <div class="tech-card-checkmark opacity-0">✓</div>
                            <h3>🌐 Сетевая информация</h3>
                            <div class="info-item">
                                <span class="info-label">IP адрес:</span>
                                <span class="info-value" id="network-ip">Определяется...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Локация:</span>
                                <span class="info-value" id="network-location">Определяется...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Провайдер:</span>
                                <span class="info-value" id="network-provider">Определяется...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Организация:</span>
                                <span class="info-value" id="network-organization">Определяется...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Статус соединения:</span>
                                <span class="info-value" id="network-status">${navigator.onLine ? '🟢 Онлайн' : '🔴 Офлайн'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Тип соединения:</span>
                                <span class="info-value" id="network-connection-type">${navigator.connection ? navigator.connection.effectiveType || 'Не определено' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Скорость соединения:</span>
                                <span class="info-value" id="network-connection-speed">${navigator.connection ? (navigator.connection.downlink || 'Не определено') + ' Мбит/с' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Задержка сети:</span>
                                <span class="info-value" id="network-latency">${navigator.connection ? (navigator.connection.rtt || 'Не определено') + ' мс' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Пинг до BSC:</span>
                                <span class="info-value" id="network-bsc-ping">Измеряется...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Статус Web3:</span>
                                <span class="info-value" id="network-web3-status">${typeof window.ethereum !== 'undefined' ? '🟢 Подключен' : '🔴 Не подключен'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">RPC Endpoint:</span>
                                <span class="info-value" id="network-rpc-endpoint">https://bsc-dataseed.binance.org/</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">User Agent:</span>
                                <span class="info-value word-break-all" id="network-user-agent">${navigator.userAgent.substring(0, 100)}...</span>
                            </div>
                        </div>
                        
                        <!-- Карточка производительности -->
                        <div class="genesis-info-card genesis-panel-glass">
                            <div class="tech-card-checkmark opacity-0">✓</div>
                            <h3>⚡ Производительность</h3>
                            <div class="info-item">
                                <span class="info-label">Процессор:</span>
                                <span class="info-value" id="performance-cpu-cores">${navigator.hardwareConcurrency || 'Не определено'} ядер</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Память устройства:</span>
                                <span class="info-value" id="performance-device-memory">${navigator.deviceMemory ? navigator.deviceMemory + ' GB' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Память браузера:</span>
                                <span class="info-value" id="performance-browser-memory">${performance.memory ? Math.round(performance.memory.usedJSHeapSize / 1024 / 1024) + ' MB' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Время загрузки страницы:</span>
                                <span class="info-value" id="performance-page-load">${performance.timing ? (performance.timing.loadEventEnd - performance.timing.navigationStart) + ' мс' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Время DOM:</span>
                                <span class="info-value" id="performance-dom-time">${performance.timing ? (performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart) + ' мс' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Время рендеринга:</span>
                                <span class="info-value" id="performance-render-time">${performance.timing ? (performance.timing.loadEventEnd - performance.timing.domContentLoadedEventEnd) + ' мс' : 'Не определено'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">FPS (кадры в секунду):</span>
                                <span class="info-value" id="performance-fps">Измеряется...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Поддержка WebGL:</span>
                                <span class="info-value" id="performance-webgl">${this.checkWebGLSupport()}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Поддержка WebRTC:</span>
                                <span class="info-value" id="performance-webrtc">${this.checkWebRTCSupport()}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Поддержка Service Workers:</span>
                                <span class="info-value" id="performance-service-workers">${'serviceWorker' in navigator ? '✅ Поддерживается' : '❌ Не поддерживается'}</span>
                            </div>
                        </div>
                        
                        <!-- Карточка системы -->
                        <div class="genesis-info-card genesis-panel-glass">
                            <div class="tech-card-checkmark opacity-0">✓</div>
                            <h3>⚙️ Параметры системы</h3>
                            <div class="info-item">
                                <span class="info-label">Основной адрес:</span>
                                <span class="info-value" id="system-main-address">0x399B...fFCD</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Адрес доступа:</span>
                                <span class="info-value" id="system-access-address">0x2891...Af76</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Контракт токена:</span>
                                <span class="info-value" id="system-token-contract">0xdf17...e6c1</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Сеть:</span>
                                <span class="info-value" id="system-network">BSC Mainnet</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Статус API:</span>
                                <span class="info-value" id="system-api-status">✅ Активно</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Версия приложения:</span>
                                <span class="info-value" id="system-app-version">GENESIS 1.1</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Версия протокола:</span>
                                <span class="info-value" id="system-protocol-version">BEP-20</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Блокчейн ID:</span>
                                <span class="info-value" id="system-blockchain-id">56</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">RPC URL:</span>
                                <span class="info-value" id="system-rpc-url">https://bsc-dataseed.binance.org/</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Explorer URL:</span>
                                <span class="info-value" id="system-explorer-url">https://bscscan.com/</span>
                            </div>
                        </div>
                        
                        <!-- Карточка статистики -->
                        <div class="genesis-info-card genesis-panel-glass">
                            <div class="tech-card-checkmark opacity-0">✓</div>
                            <h3>📊 Статистика использования</h3>
                            <div class="info-item">
                                <span class="info-label">Время в системе:</span>
                                <span class="info-value" id="stats-session-time">00:00:00</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">API запросов:</span>
                                <span class="info-value" id="stats-api-calls">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Логов в терминале:</span>
                                <span class="info-value" id="stats-terminal-logs">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Ошибок:</span>
                                <span class="info-value" id="stats-errors">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Кэш:</span>
                                <span class="info-value" id="stats-cache-size">0 KB</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Память браузера:</span>
                                <span class="info-value" id="stats-memory-usage">${performance.memory ? Math.round(performance.memory.usedJSHeapSize / 1024 / 1024) + ' MB' : '-'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Загрузка CPU:</span>
                                <span class="info-value" id="stats-cpu-usage">Измеряется...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Активные вкладки:</span>
                                <span class="info-value" id="stats-active-tabs">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Время последнего обновления:</span>
                                <span class="info-value" id="stats-last-update">${new Date().toLocaleTimeString()}</span>
                            </div>
                        </div>
                        
                        <!-- Карточка безопасности -->
                        <div class="genesis-info-card genesis-panel-glass">
                            <div class="tech-card-checkmark opacity-0">✓</div>
                            <h3>🔒 Безопасность и конфиденциальность</h3>
                            <div class="info-item">
                                <span class="info-label">Протокол соединения:</span>
                                <span class="info-value" id="security-protocol">${location.protocol}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Шифрование:</span>
                                <span class="info-value" id="security-encryption">${location.protocol === 'https:' ? '🔒 TLS/SSL' : '⚠️ HTTP'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Do Not Track:</span>
                                <span class="info-value" id="security-dnt">${navigator.doNotTrack || 'Не установлен'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Cookies:</span>
                                <span class="info-value" id="security-cookies">${navigator.cookieEnabled ? '✅ Включены' : '❌ Отключены'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Local Storage:</span>
                                <span class="info-value" id="security-local-storage">${this.checkLocalStorageSupport()}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Session Storage:</span>
                                <span class="info-value" id="security-session-storage">${this.checkSessionStorageSupport()}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">IndexedDB:</span>
                                <span class="info-value" id="security-indexeddb">${this.checkIndexedDBSupport()}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Web Workers:</span>
                                <span class="info-value" id="security-web-workers">${this.checkWebWorkersSupport()}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Content Security Policy:</span>
                                <span class="info-value" id="security-csp">${this.checkCSPSupport()}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Важная надпись о конфиденциальности -->
                    <div class="privacy-notice genesis-panel-glass">
                        <div class="privacy-icon">🔒</div>
                        <div class="privacy-content">
                            <h4>🔒 Конфиденциальность данных</h4>
                            <p><strong>Важно:</strong> Мы НЕ собираем и НЕ сохраняем ваши персональные данные. Вся информация о вашем устройстве и соединении отображается только для вас в реальном времени и не передается на наши серверы. Ваша приватность — наш приоритет.</p>
                            <div class="privacy-features">
                                <span class="privacy-feature">✅ Данные не сохраняются</span>
                                <span class="privacy-feature">✅ Нет трекинга</span>
                                <span class="privacy-feature">✅ Локальная обработка</span>
                                <span class="privacy-feature">✅ Безопасное соединение</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="margin-top-2">
                        <h3 class="color-text-primary margin-bottom-1rem">PWA функции</h3>
                        <button class="btn btn-secondary" onclick="window.CabinetApp.installPWA()">
                            📱 Установить как приложение
                        </button>
                    </div>
                `;
            },
            
            // Вспомогательные методы для проверки поддержки технологий
            checkWebGLSupport: function() {
                try {
                    const canvas = document.createElement('canvas');
                    return canvas.getContext('webgl') || canvas.getContext('experimental-webgl') ? '✅ Поддерживается' : '❌ Не поддерживается';
                } catch (e) {
                    return '❌ Не поддерживается';
                }
            },
            
            checkWebRTCSupport: function() {
                return (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) ? '✅ Поддерживается' : '❌ Не поддерживается';
            },
            
            checkLocalStorageSupport: function() {
                try {
                    const test = 'test';
                    localStorage.setItem(test, test);
                    localStorage.removeItem(test);
                    return '✅ Поддерживается';
                } catch (e) {
                    return '❌ Не поддерживается';
                }
            },
            
            checkSessionStorageSupport: function() {
                try {
                    const test = 'test';
                    sessionStorage.setItem(test, test);
                    sessionStorage.removeItem(test);
                    return '✅ Поддерживается';
                } catch (e) {
                    return '❌ Не поддерживается';
                }
            },
            
            checkIndexedDBSupport: function() {
                return 'indexedDB' in window ? '✅ Поддерживается' : '❌ Не поддерживается';
            },
            
            checkWebWorkersSupport: function() {
                return 'Worker' in window ? '✅ Поддерживается' : '❌ Не поддерживается';
            },
            
            checkCSPSupport: function() {
                return 'securityPolicyViolationEvent' in window ? '✅ Поддерживается' : '❌ Не поддерживается';
            },
            
            // Контент для PLEX монеты
            // MCP-MARKER:CONTENT:PLEX_COIN - Контент PLEX монеты
            // MCP-MARKER:METHOD:CABINET:GET_PLEX_COIN_CONTENT - Генерация контента PLEX монеты
            // MCP-MARKER:METHOD:CABINET:PLEX_COIN_CONTENT - Генерация контента PLEX монеты
            getPlexCoinContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🪙 PLEX ONE (PLEX)</h2>
                        <p class="page-subtitle">Внутренняя валюта экосистемы GENESIS. Торгуется на PancakeSwap, отслеживается на GeckoTerminal и BSCScan.</p>
                    </div>

                    <div class="stats-card margin-bottom-2rem">
                        <h3 class="color-text-primary margin-bottom-1rem">🌐 Описание экосистемы GENESIS</h3>
                        <p class="color-text-secondary font-size-11rem">
                            GENESIS — это децентрализованная экосистема на базе токена PLEX ONE (BSC), объединяющая инвестиции, DeFi-инструменты, NFT, реферальные программы и геймификацию. Вся логика платформы строится вокруг PLEX: депозиты, бонусы, множители, аренда мощностей, торговля и награды. Токен PLEX ONE обеспечивает прозрачность, мгновенные расчёты и открытый аудит всех операций через блокчейн. В экосистеме реализованы механики стейкинга, фарминга, NFT-коллекций, а также интеграция с PancakeSwap и GeckoTerminal для мониторинга и торговли.
                        </p>
                    </div>

                    <div class="stats-grid margin-bottom-2rem">
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Адрес контракта</span>
                                <span class="stats-icon">🔗</span>
                            </div>
                            <div class="stats-value font-size-1rem word-break-all">0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1</div>
                            <div class="stats-change"><a href="https://bscscan.com/address/0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1#code" target="_blank" rel="noopener noreferrer">Проверить на BSCScan</a></div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Сеть</span>
                                <span class="stats-icon">🌐</span>
                            </div>
                            <div class="stats-value">Binance Smart Chain</div>
                            <div class="stats-change">BEP-20</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Total Supply</span>
                                <span class="stats-icon">💎</span>
                            </div>
                            <div class="stats-value">12,600,000</div>
                            <div class="stats-change">PLEX</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-header">
                                <span class="stats-title">Decimals</span>
                                <span class="stats-icon">🔢</span>
                            </div>
                            <div class="stats-value">9</div>
                            <div class="stats-change">Точность</div>
                        </div>
                    </div>

                    <div class="stats-card margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">📈 График цены PLEX ONE (GeckoTerminal)</h3>
                        <div class="background-tertiary border-radius-large overflow-hidden border-1-solid min-height-420 width-100">
                            <iframe 
                                height="420" 
                                width="100%" 
                                id="geckoterminal-embed" 
                                title="GeckoTerminal Embed" 
                                src="https://www.geckoterminal.com/ru/bsc/pools/0x41d9650faf3341cbf8947fd8063a1fc88dbf1889?embed=1&info=1&swaps=1&grayscale=0&light_chart=0&chart_type=price&resolution=15m" 
                                frameborder="0" 
                                allow="clipboard-write" 
                                allowfullscreen
                                class="iframe-chart">>
                            </iframe>
                        </div>
                    </div>

                    <div class="stats-card margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">💡 Как добавить PLEX ONE в MetaMask</h3>
                        <ol class="color-text-secondary padding-left-15rem font-size-1rem">
                            <li>Откройте MetaMask и выберите сеть <b>Binance Smart Chain</b>.</li>
                            <li>Нажмите <b>"Добавить токен"</b> (или <b>"Import tokens"</b>).</li>
                            <li>Вставьте адрес контракта: <code>0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1</code></li>
                            <li>Символ токена: <b>PLEX</b></li>
                            <li>Точность (Decimals): <b>9</b></li>
                            <li>Подтвердите добавление — теперь PLEX ONE будет отображаться в вашем кошельке!</li>
                        </ol>
                        <p class="color-success margin-top-05rem font-size-1rem">Вы всегда можете скопировать адрес контракта с этой страницы.</p>
                    </div>

                    <div class="stats-card margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">💱 Быстрые действия</h3>
                        <div class="plex-actions">
                            <a class="plex-action-btn" href="https://pancakeswap.finance/swap?outputCurrency=0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1&inputCurrency=0x55d398326f99059fF775485246999027B3197955" target="_blank" rel="noopener noreferrer">Купить PLEX на PancakeSwap</a>
                            <a class="plex-action-btn outline" href="https://pancakeswap.finance/swap?inputCurrency=0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1&outputCurrency=0x55d398326f99059fF775485246999027B3197955" target="_blank" rel="noopener noreferrer">Продать PLEX за USDT</a>
                            <a class="plex-action-btn outline" href="https://pancakeswap.finance/add/0x55d398326f99059fF775485246999027B3197955/0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1" target="_blank" rel="noopener noreferrer">Добавить ликвидность</a>
                            <a class="plex-action-btn outline" href="https://pancakeswap.finance/info/v2/tokens/0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1" target="_blank" rel="noopener noreferrer">Статистика PancakeSwap</a>
                        </div>
                    </div>

                    <div class="stats-card margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">🔍 Блокчейн и контракт</h3>
                        <ul class="color-text-secondary font-size-1rem">
                            <li>Контракт: <a class="plex-link" href="https://bscscan.com/address/0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1" target="_blank" rel="noopener noreferrer">0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1</a></li>
                            <li>Исходный код: <a class="plex-link" href="https://bscscan.com/address/0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1#code" target="_blank" rel="noopener noreferrer">BSCScan Code</a></li>
                            <li>Чтение данных: <a class="plex-link" href="https://bscscan.com/address/0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1#readContract" target="_blank" rel="noopener noreferrer">Read Contract</a></li>
                            <li>Взаимодействие: <a class="plex-link" href="https://bscscan.com/address/0xdf179b6cAdBC61FFD86A3D2e55f6d6e083ade6c1#writeContract" target="_blank" rel="noopener noreferrer">Write Contract</a></li>
                        </ul>
                    </div>

                    <div class="stats-card margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">📌 Основная информация</h3>
                        <ul class="color-text-secondary font-size-1rem">
                            <li><strong>Название:</strong> PLEX ONE</li>
                            <li><strong>Символ:</strong> PLEX</li>
                            <li><strong>Decimals:</strong> 9</li>
                            <li><strong>Total Supply:</strong> 12,600,000</li>
                            <li><strong>Сеть:</strong> Binance Smart Chain (BSC)</li>
                        </ul>
                    </div>
                `;
            },
            
            // Контент для установки приложения
            // MCP-MARKER:CONTENT:INSTALL_APP - Контент установки приложения
            // MCP-MARKER:METHOD:CABINET:GET_INSTALL_APP_CONTENT - Генерация контента установки приложения
            getInstallAppContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📱 Установить приложение</h2>
                        <p class="page-subtitle">Установите GENESIS на ваше устройство для удобного доступа</p>
                    </div>
                    
                    <!-- Преимущества приложения -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">✨ Преимущества приложения</h3>
                        <div class="background-secondary padding-large border-radius-large border-1-solid">
                            <div class="app-benefits-grid">
                                <div class="app-benefit-item">
                                    <div class="app-benefit-icon">🚀</div>
                                    <h4 class="app-benefit-title">Быстрый доступ</h4>
                                    <p class="app-benefit-description">Мгновенный доступ к личному кабинету без браузера</p>
                                </div>
                                
                                <div class="app-benefit-item">
                                    <div class="app-benefit-icon">🔔</div>
                                    <h4 class="app-benefit-title">Push-уведомления</h4>
                                    <p class="app-benefit-description">Получайте уведомления о выплатах и важных событиях</p>
                                </div>
                                
                                <div class="app-benefit-item">
                                    <div class="app-benefit-icon">📱</div>
                                    <h4 class="app-benefit-title">Мобильная оптимизация</h4>
                                    <p class="app-benefit-description">Интерфейс специально адаптирован для мобильных устройств</p>
                                </div>
                                
                                <div class="app-benefit-item">
                                    <div class="app-benefit-icon">🛡️</div>
                                    <h4 class="app-benefit-title">Повышенная безопасность</h4>
                                    <p class="app-benefit-description">Дополнительные уровни защиты вашего аккаунта</p>
                                </div>
                                
                                <div class="app-benefit-item">
                                    <div class="app-benefit-icon">⚡</div>
                                    <h4 class="app-benefit-title">Офлайн режим</h4>
                                    <p class="app-benefit-description">Просматривайте основную информацию без интернета</p>
                                </div>
                                
                                <div class="app-benefit-item">
                                    <div class="app-benefit-icon">🎯</div>
                                    <h4 class="app-benefit-title">Персонализация</h4>
                                    <p class="app-benefit-description">Настройте интерфейс под свои потребности</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Инструкции по установке -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">📲 Инструкции по установке</h3>
                        
                        <!-- Android -->
                        <div class="install-platform-section">
                            <div class="platform-header">
                                <h4 class="platform-title">🤖 Android</h4>
                                <div class="platform-badge">Рекомендуется</div>
                            </div>
                            <div class="platform-content">
                                <ol class="install-steps">
                                    <li>Откройте настройки Chrome → Дополнительные инструменты → "Установить приложение"</li>
                                    <li>Или нажмите на значок "Установить" в адресной строке браузера</li>
                                    <li>Подтвердите установку в диалоге</li>
                                    <li>Приложение появится на главном экране</li>
                                </ol>
                                <div class="platform-actions">
                                    <button class="btn btn-primary" onclick="window.CabinetApp.installPWA()">
                                        📱 Установить для Android
                                    </button>
                                    <a class="btn btn-outline" href="https://genesis-platform.com/app/genesis.apk" download>
                                        📥 Скачать APK файл
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- iOS -->
                        <div class="install-platform-section">
                            <div class="platform-header">
                                <h4 class="platform-title">🍎 iOS (iPhone/iPad)</h4>
                                <div class="platform-badge secondary">Safari</div>
                            </div>
                            <div class="platform-content">
                                <ol class="install-steps">
                                    <li>Откройте сайт в браузере Safari</li>
                                    <li>Нажмите кнопку "Поделиться" внизу экрана</li>
                                    <li>Выберите "На экран Домой"</li>
                                    <li>Настройте название и нажмите "Добавить"</li>
                                </ol>
                                <div class="platform-actions">
                                    <button class="btn btn-primary" onclick="window.CabinetApp.showIOSInstructions()">
                                        📱 Инструкции для iOS
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Windows -->
                        <div class="install-platform-section">
                            <div class="platform-header">
                                <h4 class="platform-title">🖥️ Windows</h4>
                                <div class="platform-badge">Edge/Chrome</div>
                            </div>
                            <div class="platform-content">
                                <ol class="install-steps">
                                    <li>Откройте сайт в браузере Chrome или Edge</li>
                                    <li>Нажмите на значок "Установить приложение" в адресной строке</li>
                                    <li>Подтвердите установку</li>
                                    <li>Приложение появится в меню "Пуск"</li>
                                </ol>
                                <div class="platform-actions">
                                    <button class="btn btn-primary" onclick="window.CabinetApp.installPWA()">
                                        💻 Установить для Windows
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- macOS -->
                        <div class="install-platform-section">
                            <div class="platform-header">
                                <h4 class="platform-title">🍎 macOS</h4>
                                <div class="platform-badge">Chrome/Safari</div>
                            </div>
                            <div class="platform-content">
                                <ol class="install-steps">
                                    <li>В Chrome: нажмите значок установки в адресной строке</li>
                                    <li>В Safari: Файл → Добавить в Dock</li>
                                    <li>Подтвердите установку</li>
                                    <li>Приложение появится в Dock</li>
                                </ol>
                                <div class="platform-actions">
                                    <button class="btn btn-primary" onclick="window.CabinetApp.installPWA()">
                                        🖥️ Установить для macOS
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Статус установки -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">📊 Статус установки</h3>
                        <div class="background-secondary padding-large border-radius-large border-1-solid">
                            <div class="install-status-grid">
                                <div class="install-status-item">
                                    <div class="install-status-icon" id="pwa-support-icon">❓</div>
                                    <div class="install-status-text">
                                        <h5>Поддержка PWA</h5>
                                        <p id="pwa-support-text">Проверяется...</p>
                                    </div>
                                </div>
                                
                                <div class="install-status-item">
                                    <div class="install-status-icon" id="install-status-icon">❓</div>
                                    <div class="install-status-text">
                                        <h5>Статус установки</h5>
                                        <p id="install-status-text">Проверяется...</p>
                                    </div>
                                </div>
                                
                                <div class="install-status-item">
                                    <div class="install-status-icon" id="device-type-icon">📱</div>
                                    <div class="install-status-text">
                                        <h5>Тип устройства</h5>
                                        <p id="device-type-text">${this.getDeviceInfo().platform}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Часто задаваемые вопросы -->
                    <div class="margin-bottom-2rem">
                        <h3 class="color-primary margin-bottom-1rem">❓ Часто задаваемые вопросы</h3>
                        <div class="faq-section">
                            <div class="faq-item">
                                <div class="faq-question" onclick="window.CabinetApp.toggleFAQ(this)">
                                    <span>Что такое PWA приложение?</span>
                                    <span class="faq-arrow">▼</span>
                                </div>
                                <div class="faq-answer">
                                    <p>Progressive Web App (PWA) - это веб-приложение, которое ведет себя как обычное мобильное приложение. Оно работает офлайн, быстро загружается и может отправлять push-уведомления.</p>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="window.CabinetApp.toggleFAQ(this)">
                                    <span>Безопасно ли устанавливать приложение?</span>
                                    <span class="faq-arrow">▼</span>
                                </div>
                                <div class="faq-answer">
                                    <p>Да, полностью безопасно. PWA работает в изолированной среде браузера и не имеет доступа к системным файлам вашего устройства.</p>
                                </div>
                                
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="window.CabinetApp.toggleFAQ(this)">
                                    <span>Будет ли приложение обновляться автоматически?</span>
                                    <span class="faq-arrow">▼</span>
                                </div>
                                <div class="faq-answer">
                                    <p>Да, приложение обновляется автоматически при подключении к интернету. Вы всегда будете использовать актуальную версию.</p>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="window.CabinetApp.toggleFAQ(this)">
                                    <span>Сколько места займет приложение?</span>
                                    <span class="faq-arrow">▼</span>
                                </div>
                                <div class="faq-answer">
                                    <p>PWA приложение занимает минимум места - около 2-5 МБ. Это значительно меньше обычных мобильных приложений.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Информационный блок -->
                    <div class="info-block">
                        <h4 class="info-title">💡 Полезная информация</h4>
                        <ul class="info-list">
                            <li class="info-list-item">✅ Приложение работает на всех современных устройствах</li>
                            <li class="info-list-item">✅ Не требует скачивания из магазинов приложений</li>
                            <li class="info-list-item">✅ Автоматически обновляется до последней версии</li>
                            <li class="info-list-item">✅ Поддерживает работу в офлайн режиме</li>
                            <li class="info-list-item">✅ Отправляет push-уведомления о важных событиях</li>
                            <li class="info-list-item">✅ Полностью бесплатно и без рекламы</li>
                        </ul>
                    </div>
                `;
            },
            
            // Контент для настроек
            // MCP-MARKER:CONTENT:SETTINGS - Контент настроек
            // MCP-MARKER:METHOD:CABINET:GET_SETTINGS_CONTENT - Генерация контента настроек
            // MCP-MARKER:METHOD:CABINET:SETTINGS_CONTENT - Генерация контента настроек
            getSettingsContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">Настройки</h2>
                        <p class="page-subtitle">Управление аккаунтом</p>
                    </div>
                    
                    <div class="bg-secondary padding-2rem border-radius-12px border-1px-border">
                        <h3 class="color-text-primary margin-bottom-1-5rem">Основные настройки</h3>
                        
                        <div class="form-group">
                            <label class="form-label">Адрес кошелька</label>
                            <input type="text" class="form-control" id="user-address-input" disabled aria-label="Адрес кошелька пользователя">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Уведомления</label>
                            <label class="flex-align-center cursor-pointer">
                                <input type="checkbox" id="notifications-checkbox" checked class="margin-right-small" title="Получать уведомления о транзакциях">
                                <span>Получать уведомления о транзакциях</span>
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Тема оформления</label>
                            <select class="form-control" title="Выберите тему оформления">
                                <option>Темная (по умолчанию)</option>
                                <option>Светлая (скоро)</option>
                                <option>Автоматическая (скоро)</option>
                            </select>
                        </div>
                        
                        <button class="btn">Сохранить настройки</button>
                    </div>
                    
                    <div class="margin-top-2rem bg-secondary padding-2rem border-radius-12px border-1px-border">
                        <h3 class="color-text-primary margin-bottom-1rem">Безопасность</h3>
                        <button class="btn btn-outline" onclick="window.CabinetApp.exportSession()">
                            📥 Экспорт сессии
                        </button>
                        <button class="btn btn-outline margin-left-1rem" onclick="clearCacheAndReload()">
                            🧹 Очистить кэш
                        </button>
                    </div>
                `;
            },
            
            // Показать модальное окно создания депозита
            // MCP-MARKER:METHOD:CABINET:SHOW_CREATE_DEPOSIT_MODAL - Показ модального окна создания депозита
            showCreateDepositModal: function() {
                const modal = document.getElementById('create-deposit-modal');
                if (modal) {
                    modal.classList.remove('hidden');
                    // Здесь будет загрузка контента модального окна
                    
                    // Проверка доступа
                    if (!this.state.platformAccess || !this.state.platformAccess.isActive) {
                        document.getElementById('deposit-modal-content').innerHTML = `
                            <div class="empty-state">
                                <div class="empty-icon">🔒</div>
                                <h3>Требуется доступ</h3>
                                <p>Для создания депозитов необходим активный доступ к платформе</p>
                                <button class="btn" onclick="window.CabinetApp.showPlatformAccessModal(); closeDepositModal();">
                                    Пополнить доступ
                                </button>
                            </div>
                        `;
                    } else {
                        // Загрузка списка депозитов
                        this.loadDepositPlans();
                    }
                }
            },
            
            // Показать модальное окно пополнения доступа
            // MCP-MARKER:METHOD:CABINET:SHOW_PLATFORM_ACCESS_MODAL - Показ модалки пополнения доступа
            showPlatformAccessModal: function() {
                const modal = document.getElementById('platform-access-modal');
                if (modal) {
                    modal.classList.remove('hidden');
                    
                    const content = document.getElementById('platform-access-content');
                    content.innerHTML = `
                        <div class="text-center">
                            <div class="font-size-3rem margin-bottom-1rem">🔑</div>
                            <h3 class="margin-bottom-1rem">Пополнение доступа к платформе</h3>
                            <p class="color-text-secondary margin-bottom-2rem">
                                Стоимость: $1 в сутки<br>
                                Минимальное пополнение: $10 (на 10 дней)
                            </p>
                            
                            <div class="background-tertiary padding-large border-radius-large margin-bottom-15rem">
                                <p class="margin-bottom-1rem">Отправьте USDT на адрес:</p>
                                <code class="background-primary border-radius-medium font-size-875rem display-block margin-bottom-1rem code-block-padded">>
                                    ${window.GENESIS_CONFIG ? window.GENESIS_CONFIG.addresses.system : '0x...'}
                                </code>
                                <p class="color-text-secondary font-size-875rem">
                                    Минимальная сумма: 10 USDT
                                </p>
                            </div>
                            
                            <div id="qr-code-container" class="margin-bottom-15rem">
                                <!-- QR код будет здесь -->
                            </div>
                            
                            <button class="btn btn-full" onclick="closePlatformAccessModal()">
                                Закрыть
                            </button>
                        </div>
                    `;
                }
            },
            
            // Загрузка планов депозитов
            // MCP-MARKER:METHOD:CABINET:LOAD_DEPOSIT_PLANS - Загрузка планов депозитов
            loadDepositPlans: function() {
                // Здесь будет загрузка планов из конфигурации
                const content = document.getElementById('deposit-modal-content');
                content.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">🚧</div>
                        <h3>В разработке</h3>
                        <p>Функционал создания депозитов скоро будет доступен</p>
                    </div>
                `;
            },
            
            // Показать уведомление
            // MCP-MARKER:METHOD:CABINET:SHOW_NOTIFICATION - Система уведомлений
            // MCP-MARKER:METHOD:CABINET:SHOW_NOTIFICATION - Показ уведомления
            showNotification: function(title, message, type = 'info') {
                const container = document.getElementById('notification-container');
                if (!container) return;
                
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div class="notification-icon">
                        ${type === 'success' ? '✅' : type === 'error' ? '❌' : type === 'warning' ? '⚠️' : 'ℹ️'}
                    </div>
                    <div class="notification-content">
                        <h4>${title}</h4>
                        <p>${message}</p>
                    </div>
                `;
                
                container.appendChild(notification);
                
                // Автоудаление через 5 секунд
                setTimeout(() => {
                    notification.style.animation = 'notificationSlideOut 0.3s ease-out';
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            },
            
            // Установка PWA
            installPWA: function() {
                if (window.deferredPrompt) {
                    window.deferredPrompt.prompt();
                    window.deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            this.showNotification('Успех', 'Приложение установлено', 'success');
                        }
                        window.deferredPrompt = null;
                    });
                } else {
                    this.showNotification('Информация', 'Приложение уже установлено или недоступно для установки', 'info');
                }
            },
            
            // Экспорт сессии
            exportSession: function() {
                const session = localStorage.getItem('genesis_session');
                if (session) {
                    const blob = new Blob([session], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `genesis_session_${Date.now()}.json`;
                    a.click();
                    URL.revokeObjectURL(url);
                    this.showNotification('Успех', 'Сессия экспортирована', 'success');
                }
            },
            
            // Активация множителя
            activateMultiplier: function(type) {
                debugLog('Активация множителя: ' + type, 'info');
                
                const multipliers = {
                    'turbo': { name: 'Турбо x2.0', cost: 25, plex: 500, duration: 6, multiplier: 2 },
                    'lightning': { name: 'Молния x4.0', cost: 45, plex: 900, duration: 3, multiplier: 4 },
                    'super': { name: 'Супер x7.5', cost: 85, plex: 1700, duration: 1, multiplier: 7.5 }
                };
                
                const multiplier = multipliers[type];
                if (!multiplier) {
                    this.showNotification('Ошибка', 'Неизвестный тип множителя', 'error');
                    return;
                }
                
                // Проверка доступа к платформе
                if (!this.state.platformAccess || !this.state.platformAccess.isActive) {
                    this.showNotification('Внимание', 'Требуется активный доступ к платформе', 'warning');
                    this.showPlatformAccessModal();
                    return;
                }
                
                this.showMultiplierConfirmModal(type, multiplier);
            },
            
            // Показать модальное окно подтверждения активации множителя
            // MCP-MARKER:METHOD:CABINET:SHOW_MULTIPLIER_CONFIRM_MODAL - Показ модального окна подтверждения множителя
            showMultiplierConfirmModal: function(type, multiplier) {
                const modal = document.getElementById('confirm-deposit-modal');
                const content = document.getElementById('confirm-modal-content');
                
                if (!modal || !content) return;
                
                content.innerHTML = `
                    <div class="text-center">
                        <div class="font-size-3rem margin-bottom-1rem color-primary">⚡</div>
                        <h3 class="margin-bottom-1rem">Активация множителя</h3>
                        <p class="color-text-secondary margin-bottom-2rem">
                            Вы активируете <strong class="color-primary">${multiplier.name}</strong><br>
                            На ${multiplier.duration} час${multiplier.duration > 1 ? 'а' : ''}
                        </p>
                        
                        <div class="background-tertiary padding-large border-radius-large margin-bottom-2rem">
                            <p class="color-warning margin-bottom-1rem">⚠️ Внимание!</p>
                            <p class="color-text-secondary font-size-09rem line-height-16">
                                Отправьте <strong>${multiplier.cost}</strong> USDT или <strong>${multiplier.plex}</strong> PLEX на системный адрес.<br>
                                Множитель активируется автоматически после подтверждения.
                            </p>
                        </div>
                        
                        <div class="background-primary padding-medium border-radius-medium margin-bottom-15rem">
                            <div class="margin-bottom-1rem">
                                <div class="flex justify-content-space-between margin-bottom-05rem">
                                    <span class="color-text-secondary">Множитель:</span>
                                    <span class="color-primary font-weight-600">x${multiplier.multiplier}</span>
                                </div>
                                <div class="flex justify-content-space-between margin-bottom-05rem">
                                    <span class="color-text-secondary">Длительность:</span>
                                    <span class="color-text-primary font-weight-600">${multiplier.duration} час${multiplier.duration > 1 ? 'а' : ''}</span>
                                </div>
                                <div class="flex justify-content-space-between">
                                    <span class="color-text-secondary">Стоимость:</span>
                                    <span class="color-success font-weight-600">${multiplier.cost} / ${multiplier.plex} PLEX</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex-gap-1rem">
                            <button class="btn-outline flex-1 padding-1rem" onclick="closeConfirmModal()">Отмена</button>
                            <button class="btn flex-1 padding-1rem bg-primary" onclick="closeConfirmModal(); window.CabinetApp.showNotification('Успех', 'Множитель будет активирован после подтверждения транзакции', 'success')">Подтвердить</button>
                        </div>
                    </div>
                `;
                
                modal.classList.remove('hidden');
            },
            
            // MCP-MARKER:METHOD:CABINET:GET_EXPERIENCE_CONTENT - Генерация контента стажа
            // MCP-MARKER:METHOD:CABINET:EXPERIENCE_CONTENT - Генерация контента стажа
            getExperienceContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">📅 Стаж в системе</h2>
                        <p class="page-subtitle">Ваш опыт и достижения в GENESIS</p>
                    </div>
                    
                    <div class="empty-state">
                        <div class="empty-icon">🏆</div>
                        <h3>Раздел в разработке</h3>
                        <p>Здесь будет отображаться ваш стаж и достижения</p>
                    </div>
                `;
            },
            
            // MCP-MARKER:METHOD:CABINET:GET_RANK_CONTENT - Генерация контента ранга
            // MCP-MARKER:METHOD:CABINET:RANK_CONTENT - Генерация контента ранга
            getRankContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">�ﲅ Система рангов</h2>
                        <p class="page-subtitle">Ваш текущий ранг и прогресс</p>
                    </div>
                    
                    <div class="empty-state">
                        <div class="empty-icon">🔓</div>
                        <h3>Раздел в разработке</h3>
                        <p>Здесь будет отображаться ваш ранг и доступные привилегии</p>
                    </div>
                `;
            },
            
            // MCP-MARKER:CONTENT:HOW_IT_WORKS - Контент "Как все устроено"
            // MCP-MARKER:METHOD:CABINET:GET_HOW_IT_WORKS_CONTENT - Генерация контента "Как все устроено"
            // MCP-MARKER:METHOD:CABINET:HOW_IT_WORKS_CONTENT - Генерация контента 'Как все устроено'
            getHowItWorksContent: function() {
                return `
                    <div class="page-header">
                        <h2 class="page-title">🛠️ Как все устроено</h2>
                        <p class="page-subtitle">Добро пожаловать в экосистему GENESIS 1.1 на базе монеты PLEX ONE</p>
                    </div>
                    
                    <div class="content-section">
                        <div class="info-banner">
                            <div class="info-icon">🌟</div>
                            <div class="info-content">
                                <h3>Рады вас приветствовать!</h3>
                                <p>Это один из ключевых сайтов нашей экосистемы на базе монеты PLEX ONE. Здесь вы можете начать зарабатывать сразу и все больше каждый день, каждый час и каждую минуту.</p>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3 class="section-title">📋 Пошаговый план заработка</h3>
                        
                        <div class="steps-container">
                            <div class="step-card">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>🔑 Оплатить доступ к сайту</h4>
                                    <p>Первый шаг - получить доступ к функциям платформы</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>💰 Купить тестовый депозит</h4>
                                    <p>Убедитесь, что прибыль по депозиту приходит на ваш кошелек</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>🎁 Посетить раздел "Бонусы и подарки"</h4>
                                    <p>Если вы уже участвуете в инструментах экосистемы</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>⚡ Купить первый множитель доходности</h4>
                                    <p>Доступны в разделе "Множители"</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">5</div>
                                <div class="step-content">
                                    <h4>📈 Приобрести первый депозит</h4>
                                    <p>Не тестовый, а полноценный депозит для заработка</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">6</div>
                                <div class="step-content">
                                    <h4>💻 Подключиться к программе аренды мощностей</h4>
                                    <p>Получайте криптовалюту, сдавая в аренду часть мощностей вашего устройства. Посмотрите раздел "Аренда мощностей"</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">7</div>
                                <div class="step-content">
                                    <h4>🏆 Проверить разделы "Стаж" и "Ранг"</h4>
                                    <p><strong>Стаж</strong> - ваш опыт в каждом инструменте системы, который превращается в монету Стаж и автоматически начисляется при росте опыта</p>
                                    <p><strong>Ранг</strong> - монета, которая начисляется в зависимости от стажа и количества PLEX ONE на кошельке более одной недели</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">8</div>
                                <div class="step-content">
                                    <h4>💎 Покупка множителей за Ранг и Стаж</h4>
                                    <p>После начисления Ранга и Стажа вы можете покупать множители за эти монеты</p>
                                </div>
                            </div>
                            
                            <div class="step-card">
                                <div class="step-number">9</div>
                                <div class="step-content">
                                    <h4>🚀 Применение мощных множителей</h4>
                                    <p>Применяйте множители на активные депозиты и начинайте получать в десятки раз больше прибыли</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3 class="section-title">🔧 Архитектура системы</h3>
                        
                        <div class="architecture-info">
                            <div class="arch-card">
                                <div class="arch-icon">🌐</div>
                                <div class="arch-content">
                                    <h4>Блокчейн как база данных</h4>
                                    <p>На этом сайте реализована передовая DeFi система учета, анализа и наград пользователя. В качестве базы данных выступает сам блокчейн.</p>
                                </div>
                            </div>
                            
                            <div class="arch-card">
                                <div class="arch-icon">📊</div>
                                <div class="arch-content">
                                    <h4>Анализ активности кошелька</h4>
                                    <p>Анализ проводится по результатам активности вашего кошелька. Для системы вы = адрес вашего кошелька.</p>
                                </div>
                            </div>
                            
                            <div class="arch-card">
                                <div class="arch-icon">🔒</div>
                                <div class="arch-content">
                                    <h4>Анонимная работа</h4>
                                    <p>Ваши действия, прогресс и награды система вычисляет по действиям кошелька. Это значит, что вы можете работать анонимно.</p>
                                </div>
                            </div>
                            
                            <div class="arch-card">
                                <div class="arch-icon">💵</div>
                                <div class="arch-content">
                                    <h4>Высокая доходность</h4>
                                    <p>Вы можете зарабатывать много - вплоть до нескольких долларов в минуту.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <div class="warning-banner">
                            <div class="warning-icon">⚠️</div>
                            <div class="warning-content">
                                <h4>⚠️ ВАЖНО! Безопасность кошелька</h4>
                                <p><strong>Если вы потеряли доступ к своему кошельку = вы потеряли доход и деньги. Мы помочь не сможем!</strong></p>
                                <ul>
                                    <li>Храните сид-фразу и/или приватный ключ в надежном месте</li>
                                    <li>Никогда и никому не передавайте доступ к своему кошельку</li>
                                    <li>Сделайте несколько резервных копий</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3 class="section-title">⚡ Что такое множитель?</h3>
                        
                        <div class="multiplier-explanation">
                            <div class="multiplier-card">
                                <div class="multiplier-icon">📈</div>
                                <div class="multiplier-content">
                                    <h4>Множитель доходности</h4>
                                    <p>Это ваша возможность получать пассивный доход в <strong>10, 20, 30 раз выше</strong> на ограниченный период времени.</p>
                                </div>
                            </div>
                            
                            <div class="example-card">
                                <h4>💡 Пример расчета:</h4>
                                <div class="calculation">
                                    <div class="calc-step">
                                        <span class="calc-label">Базовый доход:</span>
                                        <span class="calc-value">10 центов в минуту</span>
                                    </div>
                                    <div class="calc-step">
                                        <span class="calc-label">В сутках минут:</span>
                                        <span class="calc-value">1440</span>
                                    </div>
                                    <div class="calc-step">
                                        <span class="calc-label">Доход за сутки без множителя:</span>
                                        <span class="calc-value">144 доллара</span>
                                    </div>
                                    <div class="calc-divider"></div>
                                    <div class="calc-step multiplier-example">
                                        <span class="calc-label">Множитель x30 на 4 часа:</span>
                                        <span class="calc-value">864 доллара вместо 144</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="multiplier-info">
                                <h4>📋 Особенности множителей:</h4>
                                <ul>
                                    <li>Система не всегда располагает свободными множителями</li>
                                    <li>Они стоят довольно дорого</li>
                                    <li>Самые эффективные множители доступны только за PLEX ONE</li>
                                    <li>Некоторые ударные множители доступны только за монеты Стаж и Ранг</li>
                                    <li>Ударные множители приносят очень высокий доход</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <div class="success-banner">
                            <div class="success-icon">🎯</div>
                            <div class="success-content">
                                <h4>Готовы начать зарабатывать?</h4>
                                <p>Теперь вы знаете, как устроена система GENESIS 1.1. Начните с первого шага - оплаты доступа к платформе!</p>
                                <div class="action-buttons">
                                    <button class="btn btn-primary" onclick="window.CabinetApp.showPlatformAccessModal()">
                                        🔑 Оплатить доступ
                                    </button>
                                    <button class="btn btn-secondary" onclick="window.CabinetApp.navigateTo('portfolio')">
                                        💰 Перейти к депозитам
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // Проверка авторизации
            // MCP-MARKER:METHOD:CABINET:CHECK_AUTH - Проверка авторизации пользователя
            // MCP-MARKER:METHOD:CABINET:CHECK_AUTH - Проверка авторизации
            checkAuth: function() {
                try {
                    console.log('🔐 Проверка авторизации...');
                    
                    // Проверяем сохраненный адрес в localStorage
                    const savedAddress = localStorage.getItem('genesis_user_address');
                    
                    if (savedAddress && this.isValidAddress(savedAddress)) {
                        console.log('✅ Найден сохраненный адрес:', savedAddress);
                        this.state.userAddress = savedAddress;
                        this.showCabinet();
                    } else {
                        console.log('❌ Сохраненный адрес не найден или недействителен');
                        this.showAuthScreen();
                    }
                } catch (error) {
                    console.error('❌ Ошибка проверки авторизации:', error);
                    this.showAuthScreen();
                }
            },
            
            // Валидация адреса
            isValidAddress: function(address) {
                return /^0x[a-fA-F0-9]{40}$/.test(address);
            },
            
            // Обновление информации об устройстве
            // MCP-MARKER:METHOD:CABINET:UPDATE_DEVICE_INFO - Обновление информации об устройстве
            // MCP-MARKER:METHOD:CABINET:UPDATE_DEVICE_INFO - Обновление информации об устройстве
            updateDeviceInfo: function() {
                this.state.deviceInfo = this.getDeviceInfo();
                console.log('📱 Информация об устройстве обновлена');
            },
            
            // Запуск таймера сессии
            // MCP-MARKER:METHOD:CABINET:START_SESSION_TIMER - Таймер сессии
            // MCP-MARKER:METHOD:CABINET:START_SESSION_TIMER - Запуск таймера сессии
            startSessionTimer: function() {
                const startTime = Date.now();
                
                setInterval(() => {
                    const elapsed = Date.now() - startTime;
                    const hours = Math.floor(elapsed / 3600000);
                    const minutes = Math.floor((elapsed % 3600000) / 60000);
                    const seconds = Math.floor((elapsed % 60000) / 1000);
                    
                    const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    const sessionElement = document.getElementById('stats-session-time');
                    if (sessionElement) {
                        sessionElement.textContent = timeString;
                    }
                }, 1000);
            },
            
            // Получение информации об устройстве
            // MCP-MARKER:METHOD:CABINET:GET_DEVICE_INFO - Получение информации об устройстве пользователя
            // MCP-MARKER:METHOD:CABINET:GET_DEVICE_INFO - Получение информации об устройстве
            getDeviceInfo: function() {
                const userAgent = navigator.userAgent;
                let browser = 'Неизвестный браузер';
                let browserVersion = '';
                let os = 'Неизвестная ОС';
                
                // Определение браузера
                if (userAgent.includes('Chrome')) {
                    browser = 'Chrome';
                    const match = userAgent.match(/Chrome\/(\d+)/);
                    if (match) browserVersion = match[1];
                } else if (userAgent.includes('Firefox')) {
                    browser = 'Firefox';
                    const match = userAgent.match(/Firefox\/(\d+)/);
                    if (match) browserVersion = match[1];
                } else if (userAgent.includes('Safari')) {
                    browser = 'Safari';
                    const match = userAgent.match(/Version\/(\d+)/);
                    if (match) browserVersion = match[1];
                } else if (userAgent.includes('Edge')) {
                    browser = 'Edge';
                    const match = userAgent.match(/Edge\/(\d+)/);
                    if (match) browserVersion = match[1];
                }
                
                // Определение ОС
                if (userAgent.includes('Windows')) {
                    os = 'Windows';
                } else if (userAgent.includes('Mac')) {
                    os = 'macOS';
                } else if (userAgent.includes('Linux')) {
                    os = 'Linux';
                } else if (userAgent.includes('Android')) {
                    os = 'Android';
                } else if (userAgent.includes('iOS')) {
                    os = 'iOS';
                }
                
                return {
                    platform: navigator.platform,
                    os: os,
                    browser: browser,
                    browserVersion: browserVersion,
                    screen: `${screen.width} × ${screen.height}`,
                    language: navigator.language,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    online: navigator.onLine
                };
            },
            
            // Показать экран загрузки
            // MCP-MARKER:METHOD:CABINET:SHOW_LOADING_SCREEN - Показ экрана загрузки
            // MCP-MARKER:METHOD:CABINET:SHOW_LOADING_SCREEN - Показ экрана загрузки
            showLoadingScreen: function() {
                document.getElementById('loading-screen').classList.remove('hidden');
                document.getElementById('auth-screen').classList.add('hidden');
                document.getElementById('cabinet-app').classList.add('hidden');
                
                // Показываем экстренные действия через 10 секунд
                setTimeout(() => {
                    const emergencyActions = document.getElementById('emergency-actions');
                    if (emergencyActions) {
                        emergencyActions.classList.remove('hidden');
                    }
                }, 10000);
            },
            
            // Настройка обработчика авторизации
            // MCP-MARKER:METHOD:CABINET:SETUP_AUTH_HANDLER - Настройка обработчика авторизации
            // MCP-MARKER:METHOD:CABINET:SETUP_AUTH_HANDLER - Настройка обработчика авторизации
            setupAuthHandler: function() {
                console.log('🔧 Настройка обработчика авторизации...');
                
                // Находим элементы авторизации
                const authButton = document.getElementById('auth-button');
                const walletInput = document.getElementById('wallet-address');
                
                console.log('🔍 Элементы авторизации:', { authButton: !!authButton, walletInput: !!walletInput });
                
                if (authButton) {
                    // Удаляем старые обработчики, если есть
                    authButton.removeEventListener('click', this.handleAuth);
                    
                    // Добавляем новый обработчик
                    authButton.addEventListener('click', () => {
                        console.log('🔘 Кнопка авторизации нажата');
                        this.handleAuth();
                    });
                    
                    console.log('✅ Обработчик кнопки авторизации настроен');
                } else {
                    console.warn('⚠️ Кнопка авторизации не найдена');
                }
                
                if (walletInput) {
                    // Удаляем старые обработчики, если есть
                    walletInput.removeEventListener('keypress', this.handleAuthKeyPress);
                    
                    // Добавляем обработчик Enter
                    walletInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            console.log('🔘 Enter нажат в поле адреса');
                            this.handleAuth();
                        }
                    });
                    
                    console.log('✅ Обработчик поля ввода настроен');
                } else {
                    console.warn('⚠️ Поле ввода адреса не найдено');
                }
            },
            
            // Обработка авторизации
            // MCP-MARKER:METHOD:CABINET:HANDLE_AUTH - Обработка авторизации пользователя
            handleAuth: function() {
                console.log('🔐 Обработка авторизации...');
                
                const walletInput = document.getElementById('wallet-address');
                if (!walletInput) {
                    console.error('❌ Поле ввода адреса не найдено');
                    return;
                }
                
                const address = walletInput.value.trim();
                console.log('📝 Введенный адрес:', address);
                
                if (!address) {
                    this.showNotification('Ошибка', 'Пожалуйста, введите BSC адрес', 'error');
                    return;
                }
                
                if (!this.isValidAddress(address)) {
                    this.showNotification('Ошибка', 'Неверный формат BSC адреса', 'error');
                    return;
                }
                
                // Сохраняем адрес и переходим в кабинет
                this.state.userAddress = address;
                this.state.isAuthenticated = true;
                localStorage.setItem('genesis_user_address', address);
                
                console.log('✅ Авторизация успешна');
                this.showCabinet();
            },
            
            // Обработчик нажатия Enter в поле ввода
            // MCP-MARKER:METHOD:CABINET:HANDLE_AUTH_KEYPRESS - Обработка нажатия клавиш при авторизации
            handleAuthKeyPress: function(e) {
                if (e.key === 'Enter') {
                    this.handleAuth();
                }
            },
            
            // MCP-MARKER:METHOD:CABINET:SHOW_DEPOSIT_CALCULATOR - Показ калькулятора доходности
            showDepositCalculator: function() {
                debugLog('Открытие калькулятора доходности', 'info');
                this.showNotification('Калькулятор', 'Функция в разработке', 'info');
            },
            
            // MCP-MARKER:METHOD:CABINET:EXPORT_PORTFOLIO_REPORT - Экспорт отчета портфеля
            exportPortfolioReport: function() {
                debugLog('Экспорт отчета портфеля', 'info');
                this.showNotification('Экспорт', 'Функция в разработке', 'info');
            },
            
            // MCP-MARKER:METHOD:CABINET:SHOW_DEPOSIT_DETAILS - Показ деталей депозита
            showDepositDetails: function(depositId) {
                debugLog('Показ деталей депозита: ' + depositId, 'info');
                this.showNotification('Детали депозита', 'Функция в разработке', 'info');
            },
            
            // MCP-MARKER:METHOD:CABINET:REINVEST_DEPOSIT - Реинвестирование депозита
            reinvestDeposit: function(depositId) {
                debugLog('Реинвестирование депозита: ' + depositId, 'info');
                this.showNotification('Реинвестирование', 'Функция в разработке', 'info');
            },
            
            // MCP-MARKER:METHOD:CABINET:CREATE_DEPOSIT - Создание депозита
            createDeposit: function(planId) {
                debugLog('Создание депозита для плана: ' + planId, 'info');
                if (window.showDepositModal) {
                    window.showDepositModal(planId);
                } else {
                    this.showNotification('Информация', 'Функция создания депозита в разработке', 'info');
                }
            },
            
            // MCP-MARKER:METHOD:CABINET:VIEW_DEPOSIT_HISTORY - Просмотр истории депозитов
            viewDepositHistory: function(planId) {
                debugLog('Просмотр истории депозитов для плана: ' + planId, 'info');
                this.showNotification('История', 'Функция просмотра истории в разработке', 'info');
            }
        };
        
        // Глобальные функции
        window.logout = function() {
            localStorage.removeItem('genesis_session');
            window.location.reload();
        };
        
        window.clearCacheAndReload = function() {
            localStorage.clear();
            sessionStorage.clear();
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => caches.delete(name));
                });
            }
            window.location.reload(true);
        };
        
        window.enableDevAccess = function() {
            // Режим разработчика
            window.CabinetApp.state.userAddress = '0x742d35Cc6634C0532925a3b844Bc9e7595f2bD8e';
            window.CabinetApp.state.isAuthenticated = true;
            window.CabinetApp.showCabinet();
        };
        
        window.showSystemInfo = function() {
            const info = `
GENESIS 1.1 - System Information
================================
Version: ${window.GENESIS_VERSION}
Build: 29-06-2025-14:41
User Agent: ${navigator.userAgent}
Platform: ${navigator.platform}
Language: ${navigator.language}
Online: ${navigator.onLine}
Screen: ${screen.width}x${screen.height}
            `;
            console.log(info);
            alert(info);
        };
        
        window.toggleMobileMenu = function() {
            const sidebar = document.getElementById('cabinet-sidebar');
            if (sidebar) {
                sidebar.classList.toggle('active');
                window.CabinetApp.state.isMobileMenuOpen = !window.CabinetApp.state.isMobileMenuOpen;
            }
        };
        
        window.closeDepositModal = function() {
            const modal = document.getElementById('create-deposit-modal');
            if (modal) modal.classList.add('hidden');
        };
        
        // MCP-MARKER:REMOVED:DUPLICATE_MODAL_FUNCTIONS - Удалены дублирующие функции модалок
        
        window.closePlatformAccessModal = function() {
            const modal = document.getElementById('platform-access-modal');
            if (modal) modal.classList.add('hidden');
        };
        
        // PWA Support
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            window.deferredPrompt = deferredPrompt;
        });
        
        // Service Worker (временно отключен для отладки)
        /*
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => debugLog('Service Worker registered', 'success'))
                    .catch(error => debugLog('Service Worker registration failed: ' + error, 'error'));
            });
        }
        */
        
        // Запуск приложения
        // MCP-MARKER:SECTION:APPLICATION_STARTUP - Точка входа приложения
        document.addEventListener('DOMContentLoaded', function() {
            window.cabinetApp = window.CabinetApp;
            window.CabinetApp.init();
        });
        
        // ========== ДОПОЛНИТЕЛЬНЫЕ ФУНКЦИИ ДЛЯ РАБОТЫ С ДЕПОЗИТАМИ ==========
        
        // MCP-MARKER:FUNCTION:SHOW_DEPOSIT_MODAL - Показ модального окна создания депозита
        // MCP-MARKER:FUNCTION:SHOW_DEPOSIT_MODAL - Показ модального окна депозита
        window.showDepositModal = function(planId = null) {
            debugLog('Открытие модального окна создания депозита', 'info');
            
            const modal = document.getElementById('create-deposit-modal');
            if (!modal) {
                debugLog('Модальное окно не найдено', 'error');
                return;
            }
            
            // Показываем модальное окно
            modal.classList.remove('hidden');
            
            // Загружаем содержимое
            loadDepositModalContent(planId);
        };
        
        // MCP-MARKER:FUNCTION:LOAD_DEPOSIT_MODAL_CONTENT - Загрузка содержимого модального окна
        // MCP-MARKER:FUNCTION:LOAD_DEPOSIT_MODAL_CONTENT - Загрузка контента модального окна депозита
        window.loadDepositModalContent = function(planId = null) {
            const content = document.getElementById('deposit-modal-content');
            if (!content) return;
            
            debugLog('Загрузка содержимого модального окна депозита', 'info');
            
            // Получаем доступные планы
            const plans = window.GENESIS_CONFIG ? window.GENESIS_CONFIG.depositPlans : [];
            if (!plans.length) {
                content.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">⚠️</div>
                        <h3>Ошибка конфигурации</h3>
                        <p>Не удалось загрузить планы депозитов</p>
                        <button class="btn-outline" onclick="closeDepositModal()">Закрыть</button>
                    </div>
                `;
                return;
            }
            
            // Если указан конкретный план
            if (planId) {
                const plan = plans.find(p => p.id === planId);
                if (plan) {
                    loadSpecificPlanForm(plan);
                    return;
                }
            }
            
            // Показываем список доступных планов
            loadPlanSelectionForm(plans);
        };
        
        // MCP-MARKER:FUNCTION:LOAD_PLAN_SELECTION_FORM - Форма выбора плана
        // MCP-MARKER:FUNCTION:LOAD_PLAN_SELECTION_FORM - Загрузка формы выбора плана
        window.loadPlanSelectionForm = function(plans) {
            const content = document.getElementById('deposit-modal-content');
            if (!content) return;
            
            const plansHtml = plans.map(plan => {
                const icon = getCabinetPlanIcon(plan.name);
                const color = getCabinetPlanColor(plan.id);
                const profit = (plan.usdtAmount * plan.percentage / 100) - plan.usdtAmount;
                
                return `
                    <div class="deposit-plan-card deposit-plan-card-styled" onclick="loadSpecificPlanForm(this.getAttribute('data-plan-id'))" data-plan-id="${plan.id}">
                        <div class="flex-align-center-gap-1rem">
                            <div class="font-size-3rem">${icon}</div>
                            <div class="flex-1">
                                <h4 class="color-text-primary margin-bottom-05rem">${plan.name}</h4>
                                <p class="color-text-secondary font-size-09rem margin-0">${plan.description}</p>
                            </div>
                            <div class="text-align-right">
                                <div class="plan-dynamic-style" data-plan-color="{planColor}">
                                    ${plan.percentage}%
                                </div>
                                <div class="color-text-secondary font-size-09rem">
                                    ${plan.usdtAmount}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            content.innerHTML = `
                <div>
                    <h3 class="text-center-colored-title">
                        Выберите план депозита
                    </h3>
                    <div class="max-height-400 overflow-y-auto">
                        ${plansHtml}
                    </div>
                </div>
            `;
        };
        
        // MCP-MARKER:FUNCTION:LOAD_SPECIFIC_PLAN_FORM - Загрузка формы для конкретного плана
        // MCP-MARKER:FUNCTION:LOAD_SPECIFIC_PLAN_FORM - Загрузка формы конкретного плана
        window.loadSpecificPlanForm = function(planId) {
            // Если передан объект плана, используем его
            let plan = planId;
            if (typeof planId === 'string') {
                const plans = window.GENESIS_CONFIG ? window.GENESIS_CONFIG.depositPlans : [];
                plan = plans.find(p => p.id === planId);
                if (!plan) {
                    debugLog('План не найден: ' + planId, 'error');
                    loadPlanSelectionForm(plans);
                    return;
                }
            }
            
            const content = document.getElementById('deposit-modal-content');
            if (!content) return;
            
            const profit = (plan.usdtAmount * plan.percentage / 100) - plan.usdtAmount;
            const dailyProfit = profit / plan.days;
            const icon = getCabinetPlanIcon(plan.name);
            const color = getCabinetPlanColor(plan.id);
            
            content.innerHTML = `
                <div class="max-width-500 margin-0-auto">
                    <div class="text-center margin-bottom-2rem">
                        <div class="font-size-3rem margin-bottom-1rem">${icon}</div>
                        <h3 class="plan-title-dynamic margin-bottom-05rem" data-color="${color}">${plan.name}</h3>
                        <p class="color-text-secondary">${plan.description}</p>
                    </div>
                    
                    <div class="background-primary padding-large border-radius-large margin-bottom-2rem">
                        <h4 class="color-secondary margin-bottom-1rem text-center">Детали депозита</h4>
                        
                        <div class="display-grid grid-template-2col gap-1rem margin-bottom-15rem">
                            <div class="text-center padding-medium background-secondary border-radius-medium">
                                <div class="color-text-secondary font-size-09rem margin-bottom-03rem">Инвестиция</div>
                                <div class="color-text-primary font-weight-600 font-size-12rem">${plan.usdtAmount}</div>
                            </div>
                            <div class="text-center padding-medium background-secondary border-radius-medium">
                                <div class="color-text-secondary font-size-09rem margin-bottom-03rem">Доходность</div>
                                <div class="color-success font-weight-600 font-size-12rem">${plan.percentage}%</div>
                            </div>
                            <div class="text-center padding-medium background-secondary border-radius-medium">
                                <div class="color-text-secondary font-size-09rem margin-bottom-03rem">Срок</div>
                                <div class="color-text-primary font-weight-600 font-size-12rem">${plan.days} дней</div>
                            </div>
                            <div class="text-center padding-medium background-secondary border-radius-medium">
                                <div class="color-text-secondary font-size-09rem margin-bottom-03rem">Прибыль</div>
                                <div class="color-gold font-weight-600 font-size-12rem">${profit.toFixed(2)}</div>
                            </div>
                        </div>
                        
                        <div class="text-center padding-medium background-secondary border-radius-medium">
                            <div class="color-text-secondary font-size-09rem margin-bottom-03rem">Ежедневный доход</div>
                            <div class="color-accent font-weight-600 font-size-14rem">~${dailyProfit.toFixed(2)}/день</div>
                        </div>
                    </div>
                    
                    <div class="flex-gap-1rem">
                        <button class="btn-outline" onclick="loadPlanSelectionForm(window.GENESIS_CONFIG.depositPlans)" 
                                class="btn-flex-back">← Назад</button>
                        <button class="btn continue-btn-dynamic" onclick="showConfirmDepositModal('${plan.id}')" 
                                data-bg-color="${color}">Продолжить</button>
                    </div>
                </div>
            `;
        };
        
        // MCP-MARKER:FUNCTION:GET_CABINET_PLAN_ICON - Получение иконки плана
        window.getCabinetPlanIcon = function(planName) {
            const icons = {
                'TRIAL': '🎯',
                'STARTER': '🚀',
                'PROGRESSIVE1': '📈',
                'PROGRESSIVE2': '💎',
                'PROGRESSIVE3': '🏆',
                'PROGRESSIVE4': '🌟',
                'PROGRESSIVE5': '⚡',
                'PROGRESSIVE6': '🔥',
                'PROGRESSIVE7': '💰',
                'PROGRESSIVE8': '👑',
                'RECOMMENDED': '💸',
                'PLATINUM': '🎖️',
                'MAXIMUM': '🏅'
            };
            return icons[planName] || '💰';
        };
        
        // MCP-MARKER:FUNCTION:GET_CABINET_PLAN_COLOR - Получение цвета плана
        window.getCabinetPlanColor = function(planId) {
            const colors = {
                'trial': '#00ff41',
                'starter': '#ff6b35', 
                'progressive1': '#ffa726',
                'progressive2': '#ffeb3b',
                'progressive3': '#4caf50',
                'progressive4': '#00bcd4',
                'progressive5': '#2196f3',
                'progressive6': '#3f51b5',
                'progressive7': '#673ab7',
                'progressive8': '#9c27b0',
                'recommended': '#e91e63',
                'platinum': '#ff5722',
                'maximum': '#ffd700'
            };
            return colors[planId] || '#ff6b35';
        };
        
        // MCP-MARKER:FUNCTION:COPY_TO_CLIPBOARD - Копирование в буфер обмена
        window.copyToClipboard = function(text) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => {
                    window.CabinetApp.showNotification('Успех', 'Адрес скопирован в буфер обмена', 'success');
                }).catch(err => {
                    debugLog('Ошибка копирования: ' + err.message, 'error');
                    // Fallback для старых браузеров
                    fallbackCopyToClipboard(text);
                });
            } else {
                // Fallback для старых браузеров
                fallbackCopyToClipboard(text);
            }
        };
        
        // Fallback функция для копирования
        function fallbackCopyToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                window.CabinetApp.showNotification('Успех', 'Адрес скопирован в буфер обмена', 'success');
            } catch (err) {
                window.CabinetApp.showNotification('Ошибка', 'Не удалось скопировать адрес', 'error');
            }
            
            document.body.removeChild(textArea);
        }
        
        // MCP-MARKER:FUNCTION:SHOW_CONFIRM_DEPOSIT_MODAL - Показ модального окна подтверждения
        // MCP-MARKER:FUNCTION:SHOW_CONFIRM_DEPOSIT_MODAL - Показ модального окна подтверждения депозита
        window.showConfirmDepositModal = function(planId) {
            debugLog('Показ окна подтверждения для плана: ' + planId, 'info');
            
            const plans = window.GENESIS_CONFIG ? window.GENESIS_CONFIG.depositPlans : [];
            const plan = plans.find(p => p.id === planId);
            
            if (!plan) {
                debugLog('План не найден: ' + planId, 'error');
                return;
            }
            
            // Закрываем окно создания депозита
            closeDepositModal();
            
            // Показываем окно подтверждения
            const modal = document.getElementById('confirm-deposit-modal');
            const content = document.getElementById('confirm-modal-content');
            
            if (!modal || !content) {
                debugLog('Модальное окно подтверждения не найдено', 'error');
                return;
            }
            
            const icon = getCabinetPlanIcon(plan.name);
            const color = getCabinetPlanColor(plan.id);
            const systemAddress = window.GENESIS_CONFIG ? window.GENESIS_CONFIG.addresses.system : '0x...';
            
            content.innerHTML = `
                <div class="text-center">
                    <div class="font-size-large margin-bottom-medium deposit-icon-dynamic" data-color="${color}">${icon}</div>
                    <h3 class="margin-bottom-medium">Подтверждение депозита</h3>
                    <p class="color-text-secondary margin-bottom-large">
                        Вы создаете депозит <strong class="deposit-icon-dynamic" data-color="${color}">${plan.name}</strong> на сумму <strong>${plan.usdtAmount}</strong>
                    </p>
                    
                    <div class="background-tertiary padding-large border-radius-large margin-bottom-large">
                        <p class="color-warning margin-bottom-medium">⚠️ Внимание!</p>
                        <p class="color-text-secondary font-size-small line-height-normal">
                            Отправьте <strong>${plan.usdtAmount} USDT</strong> на системный адрес.<br>
                            После подтверждения транзакции депозит будет активирован автоматически.
                        </p>
                    </div>
                    
                    <div class="background-primary padding-medium border-radius-medium margin-bottom-medium">
                        <p class="color-text-secondary font-size-xs margin-bottom-small">Адрес для оплаты:</p>
                        <div class="flex-center gap-small">
                            <code class="flex-1 background-secondary padding-small border-radius-small font-size-xs word-break-all">${systemAddress}</code>
                            <button class="btn-secondary padding-small" onclick="copyToClipboard('${systemAddress}')">
                                📋
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex-gap">
                        <button class="btn-outline flex-1 padding-medium" onclick="closeConfirmModal(); showDepositModal('${plan.id}');">
                            ← Назад
                        </button>
                        <button class="btn flex-1 padding-medium confirm-btn-dynamic" onclick="processDepositCreation('${plan.id}')" 
                                data-bg-color="${color}">
                            Я отправил USDT
                        </button>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
        };
        
        // MCP-MARKER:FUNCTION:PROCESS_DEPOSIT_CREATION - Обработка создания депозита
        window.processDepositCreation = function(planId) {
            debugLog('Обработка создания депозита: ' + planId, 'info');
            
            // Закрываем модальное окно
            closeConfirmModal();
            
            // Показываем результат
            showTransactionResultModal(true, planId, 'USDT');
            
            // Запускаем мониторинг депозита
            if (window.startDepositMonitoring) {
                window.startDepositMonitoring(planId, 'USDT');
            }
        };
        
        // MCP-MARKER:FUNCTION:SHOW_TRANSACTION_RESULT_MODAL - Показ результата транзакции
        // MCP-MARKER:FUNCTION:SHOW_TRANSACTION_RESULT_MODAL - Показ результата транзакции
        window.showTransactionResultModal = function(success, planId = null, currency = null, txHash = null) {
            const modal = document.getElementById('transaction-result-modal');
            const title = document.getElementById('transaction-result-title');
            const content = document.getElementById('transaction-result-content');
            
            if (!modal || !title || !content) return;
            
            if (success) {
                title.innerHTML = '✅ Депозит принят в обработку';
                title.className = 'color-success';
                
                content.innerHTML = `
                    <div class="text-center">
                        <div class="font-size-large margin-bottom-medium color-success">✅</div>
                        <h3 class="color-success margin-bottom-medium">Успешно!</h3>
                        <p class="color-text-secondary margin-bottom-large line-height-normal">
                            Ваша заявка на создание депозита принята в обработку. Система автоматически отслеживает 
                            поступление платежа в блокчейне BSC.
                        </p>
                        
                        <div class="background-primary padding-large border-radius-large margin-bottom-large">
                            <h4 class="color-secondary margin-bottom-medium">Что происходит дальше?</h4>
                            <ul class="color-text-secondary text-left line-height-large">
                                <li>🔍 Система мониторит блокчейн BSC каждые 30 секунд</li>
                                <li>✅ После подтверждения транзакции депозит активируется</li>
                                <li>💰 Ежедневные выплаты начнутся автоматически</li>
                                <li>📱 Вы получите уведомление об активации</li>
                            </ul>
                        </div>
                        
                        <div class="flex-gap flex-center">
                            <button class="btn padding-large" onclick="closeTransactionResultModal(); window.CabinetApp.navigateTo('portfolio');">
                                💼 Перейти к портфелю
                            </button>
                            <button class="btn-outline padding-large" onclick="closeTransactionResultModal()">
                                Понятно
                            </button>
                        </div>
                    </div>
                `;
            } else {
                title.innerHTML = '❌ Ошибка создания депозита';
                title.className = 'color-error';
                
                content.innerHTML = `
                    <div class="text-center">
                        <div class="font-size-large margin-bottom-medium color-error">❌</div>
                        <h3 class="color-error margin-bottom-medium">Произошла ошибка</h3>
                        <p class="color-text-secondary margin-bottom-large line-height-normal">
                            Не удалось обработать вашу заявку на создание депозита. Попробуйте еще раз или 
                            обратитесь в службу поддержки.
                        </p>
                        
                        <div class="flex-gap flex-center">
                            <button class="btn padding-large" onclick="closeTransactionResultModal(); showDepositModal();">
                                🔄 Попробовать снова
                            </button>
                            <button class="btn-outline padding-large" onclick="closeTransactionResultModal()">
                                Закрыть
                            </button>
                        </div>
                    </div>
                `;
            }
            
            modal.classList.remove('hidden');
        };
        
        // MCP-MARKER:FUNCTION:START_DEPOSIT_MONITORING - Запуск мониторинга депозита
        window.startDepositMonitoring = function(planId, currency) {
            debugLog(`Запуск мониторинга депозита: ${planId}, валюта: ${currency}`, 'info');
            
            // Сохраняем информацию о создаваемом депозите
            const pendingDeposit = {
                planId: planId,
                currency: currency,
                timestamp: Date.now(),
                status: 'PENDING',
                userAddress: window.CabinetApp.state.userAddress
            };
            
            // Сохраняем в localStorage
            const pendingDeposits = JSON.parse(localStorage.getItem('genesis_pending_deposits') || '[]');
            pendingDeposits.push(pendingDeposit);
            localStorage.setItem('genesis_pending_deposits', JSON.stringify(pendingDeposits));
            
            // Запускаем проверку через некоторое время
            setTimeout(() => {
                checkDepositStatus(pendingDeposit);
            }, 60000); // Проверяем через 1 минуту
        };
        
        // MCP-MARKER:FUNCTION:CHECK_DEPOSIT_STATUS - Проверка статуса депозита
        window.checkDepositStatus = function(pendingDeposit) {
            debugLog('Проверка статуса депозита...', 'info');
            
            // Здесь будет реальная проверка через API
            // Пока используем заглушку
            window.CabinetApp.showNotification('Информация', 'Система проверяет статус вашего депозита', 'info');
            
            // Продолжаем мониторинг
            setTimeout(() => checkDepositStatus(pendingDeposit), 60000);
        };
        
        // MCP-MARKER:REMOVED:FORCE_FAVICON_RELOAD - Удалена функция принудительного обновления фавиконов (костыль)
        
        // Синхронизация для обратной совместимости
        window.cabinetApp = window.CabinetApp;
        
        // Запуск инициализации при готовности DOM
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                console.log('🚀 DOM готов, запуск инициализации CabinetApp');
                window.CabinetApp.init();
            });
        } else {
            console.log('🚀 DOM уже готов, запуск инициализации CabinetApp');
            window.CabinetApp.init();
        }
        
        // Автоматическое обновление фавиконов при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                window.forceFaviconReload();
            }, 1000);
        });
    </script>
    
    <!-- MCP-MARKER:COMPONENT:GENESIS_TERMINAL - Интерактивный терминал системы -->
    <div id="genesis-terminal" class="genesis-terminal">
        <!-- MCP-MARKER:SECTION:TERMINAL_HEADER - Заголовок терминала с управлением -->
        <div class="terminal-header">
            <div class="terminal-title">
                <span>🖥️ GENESIS Terminal v3.1</span>
            </div>
            <div class="terminal-controls">
                <button id="terminal-btn-minimize" class="terminal-btn" title="Свернуть">_</button>
                <button id="terminal-btn-fullscreen" class="terminal-btn" title="Полноэкранный режим">⬜</button>
                <button id="terminal-btn-stats" class="terminal-btn" title="Статистика">📊</button>
                <button id="terminal-btn-copy" class="terminal-btn" title="Копировать логи">📋</button>
                <button id="terminal-btn-clear" class="terminal-btn" title="Очистить">🗑️</button>
                <button id="terminal-btn-export" class="terminal-btn" title="Экспорт">💾</button>
            </div>
        </div>
        
        <!-- MCP-MARKER:SECTION:TERMINAL_STATS - Панель статистики -->
        <div id="terminal-stats" class="terminal-stats">
            <div class="stat-item">
                <span class="stat-label">Сообщений:</span>
                <span id="stat-message-count" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Время работы:</span>
                <span id="stat-uptime" class="stat-value">00:00:00</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Ошибок/Критических:</span>
                <span id="stat-errors" class="stat-value">0 / 0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Память:</span>
                <span id="stat-memory" class="stat-value">N/A</span>
            </div>
        </div>
        
        <!-- MCP-MARKER:SECTION:TERMINAL_BODY - Тело терминала для вывода сообщений -->
        <div id="genesis-terminal-body" class="terminal-body"></div>
        
        <!-- MCP-MARKER:SECTION:TERMINAL_INPUT - Поле ввода команд -->
        <div class="terminal-input-container">
            <span class="terminal-prompt">GENESIS ></span>
            <input 
                type="text" 
                id="terminalInput" 
                class="terminal-input" 
                placeholder="Введите команду..."
                autocomplete="off"
                spellcheck="false"
            />
            <span class="terminal-custom-cursor">|</span>
        </div>
        
        <!-- MCP-MARKER:SECTION:TERMINAL_AUTOCOMPLETE - Автодополнение команд -->
        <div class="terminal-autocomplete"></div>
    </div>
    
    <!-- MCP-MARKER:SCRIPT:TERMINAL_SERVICE - Подключение сервиса терминала -->
    <!-- Подключение сервиса терминала -->
    <script src="js/services/terminal.js"></script>
    
    <!-- MCP-MARKER:SCRIPT:TERMINAL_HOTKEYS - Горячие клавиши терминала -->
    <!-- Глобальные горячие клавиши для терминала -->
    <script>
        // Добавляем горячие клавиши для терминала
        document.addEventListener('keydown', (e) => {
            // Открытие/закрытие терминала по нажатию Ctrl+T
            if (e.ctrlKey && (e.key === 't' || e.key === 'T')) {
                e.preventDefault();
                
                // Проверяем, что мы в кабинете
                if (!document.body.classList.contains('cabinet-mode')) {
                    return; // Не показываем терминал вне кабинета
                }
                const terminal = document.getElementById('genesis-terminal');
                if (terminal) {
                    if (terminal.style.display === 'none' || terminal.classList.contains('minimized')) {
                        terminal.style.display = 'flex';
                        terminal.classList.remove('minimized');
                        const terminalInput = document.getElementById('terminalInput');
                        if (terminalInput) {
                            terminalInput.focus();
                        }
                        
                        // Логируем активацию терминала
                        if (window.GenesisTerminal) {
                            window.GenesisTerminal.log('🖥️ Терминал активирован горячими клавишами', 'system');
                        }
                    } else {
                        terminal.classList.add('minimized');
                        
                        // Логируем сворачивание терминала
                        if (window.GenesisTerminal) {
                            window.GenesisTerminal.log('📦 Терминал свернут', 'system');
                        }
                    }
                }
            }
        });
        
        // Инициализация терминала при готовности DOM
        document.addEventListener('DOMContentLoaded', function() {
            if (window.GenesisTerminal) {
                console.log('🖥️ Инициализация терминала в кабинете');
                window.GenesisTerminal.log('🏦 Терминал загружен в личном кабинете GENESIS 1.1', 'system');
                window.GenesisTerminal.log('💡 Используйте команду "help" для просмотра доступных команд', 'info');
                window.GenesisTerminal.log('⌨️ Горячие клавиши: Ctrl+T для открытия/сворачивания', 'info');
            }
        });
    </script>
</body>
</html>