<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENESIS - Загрузка...</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #0d1117;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        .loading-container {
            text-align: center;
        }
        
        .logo {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff6b35, #4ecdc4);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 2rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid #333344;
            border-top: 3px solid #4ecdc4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .status {
            color: #b0b0b0;
            font-size: 1rem;
        }
        
        .debug {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.8rem;
            color: #888;
            font-family: monospace;
            display: none;
        }
        
        .debug.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="loading-container">
        <div class="logo">GENESIS</div>
        <div class="spinner"></div>
        <div class="status">Перенаправление...</div>
    </div>
    
    <div class="debug" id="debug">
        <div>Current URL: <span id="current-url"></span></div>
        <div>Target: <span id="target-url"></span></div>
        <div>Status: <span id="status"></span></div>
    </div>
    
    <script>
        // Show debug info if query parameter is present
        const showDebug = new URLSearchParams(window.location.search).has('debug');
        if (showDebug) {
            document.getElementById('debug').classList.add('show');
        }
        
        // Application routes
        const appRoutes = [
            '/',
            '/auth',
            '/deposits', 
            '/portfolio',
            '/transactions',
            '/analytics',
            '/bonuses',
            '/gifts',
            '/referrals',
            '/multipliers',
            '/mining-rent',
            '/my-device',
            '/plex-coin',
            '/settings',
            '/experience',
            '/rank',
            '/how-it-works',
            '/terminal',
            '/platform-access'
        ];
        
        // Get current URL info
        const currentUrl = window.location.href;
        const currentPath = window.location.pathname;
        const queryString = window.location.search;
        const hash = window.location.hash;
        
        // Update debug info
        if (showDebug) {
            document.getElementById('current-url').textContent = currentUrl;
        }
        
        // Determine where to redirect
        let targetUrl = '/index.html';
        
        // Check if this is an app route
        if (appRoutes.includes(currentPath)) {
            // Redirect to app.html for application routes
            targetUrl = '/app.html' + queryString + hash;
            
            if (showDebug) {
                document.getElementById('target-url').textContent = targetUrl;
                document.getElementById('status').textContent = 'Redirecting to app...';
            }
        } else {
            // For non-app routes, redirect to index.html
            targetUrl = '/index.html' + queryString + hash;
            
            if (showDebug) {
                document.getElementById('target-url').textContent = targetUrl;
                document.getElementById('status').textContent = 'Redirecting to landing...';
            }
        }
        
        // Perform redirect after a short delay (or immediately in production)
        if (showDebug) {
            // In debug mode, wait 2 seconds to see the info
            setTimeout(() => {
                window.location.replace(targetUrl);
            }, 2000);
        } else {
            // In production, redirect immediately
            window.location.replace(targetUrl);
        }
    </script>
</body>
</html>